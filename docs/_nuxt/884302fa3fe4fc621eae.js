/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{222:function(t,e,n){"use strict";function r(t,p){return(r=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}n.d(e,"a",function(){return r})},223:function(t,e,n){"use strict";var r=n(3),o=n(17),l=n(23),h=n(118),c=n(59),d=n(10),f=n(41).f,v=n(60).f,m=n(9).f,y=n(230).trim,_=r.Number,x=_,w=_.prototype,S="Number"==l(n(76)(w)),M="trim"in String.prototype,I=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,l=(e=M?e.trim():y(e,3)).charCodeAt(0);if(43===l||45===l){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===l){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var code,h=e.slice(2),i=0,d=h.length;i<d;i++)if((code=h.charCodeAt(i))<48||code>o)return NaN;return parseInt(h,r)}}return+e};if(!_(" 0o1")||!_("0b1")||_("+0x1")){_=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof _&&(S?d(function(){w.valueOf.call(n)}):"Number"!=l(n))?h(new x(I(e)),n,_):I(e)};for(var T,C=n(8)?f(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;C.length>D;D++)o(x,T=C[D])&&!o(_,T)&&m(_,T,v(x,T));_.prototype=w,w.constructor=_,n(12)(r,"Number",_)}},224:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},225:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},228:function(t,e,n){const r=n(229);t.exports={echartTree:r}},229:function(t,e,n){!function(t){"use strict";var e,n,r,o,l,h,c=2311,d=function(){return c++},f="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:(e=navigator.userAgent,n={},r=e.match(/Firefox\/([\d.]+)/),o=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),l=e.match(/Edge\/([\d.]+)/),h=/micromessenger/i.test(e),r&&(n.firefox=!0,n.version=r[1]),o&&(n.ie=!0,n.version=o[1]),l&&(n.edge=!0,n.version=l[1]),h&&(n.weChat=!0),{browser:n,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11),domSupported:"undefined"!=typeof document}),v={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},m={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},y=Object.prototype.toString,_=Array.prototype,x=_.forEach,w=_.filter,S=_.slice,M=_.map,I=_.reduce,T={};function C(t,e){"createCanvas"===t&&(O=null),T[t]=e}function D(source){if(null==source||"object"!=typeof source)return source;var t=source,e=y.call(source);if("[object Array]"===e){if(!lt(source)){t=[];for(var i=0,n=source.length;i<n;i++)t[i]=D(source[i])}}else if(m[e]){if(!lt(source)){var r=source.constructor;if(source.constructor.from)t=r.from(source);else for(t=new r(source.length),i=0,n=source.length;i<n;i++)t[i]=D(source[i])}}else if(!v[e]&&!lt(source)&&!K(source))for(var o in t={},source)source.hasOwnProperty(o)&&(t[o]=D(source[o]));return t}function k(t,source,e){if(!j(source)||!j(t))return e?D(source):t;for(var n in source)if(source.hasOwnProperty(n)){var r=t[n],o=source[n];!j(o)||!j(r)||G(o)||G(r)||K(o)||K(r)||U(o)||U(r)||lt(o)||lt(r)?!e&&n in t||(t[n]=D(source[n])):k(r,o,e)}return t}function A(t,source){for(var e in source)source.hasOwnProperty(e)&&(t[e]=source[e]);return t}function P(t,source,e){for(var n in source)source.hasOwnProperty(n)&&(e?null!=source[n]:null==t[n])&&(t[n]=source[n]);return t}var O,L=function(){return T.createCanvas()};function N(){return O||(O=L().getContext("2d")),O}function B(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function R(t,e){var n=t.prototype;function r(){}for(var o in r.prototype=e.prototype,t.prototype=new r,n)n.hasOwnProperty(o)&&(t.prototype[o]=n[o]);t.prototype.constructor=t,t.superClass=e}function E(t,source,e){P(t="prototype"in t?t.prototype:t,source="prototype"in source?source.prototype:source,e)}function z(data){if(data)return"string"!=typeof data&&"number"==typeof data.length}function F(t,e,n){if(t&&e)if(t.forEach&&t.forEach===x)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function map(t,e,n){if(t&&e){if(t.map&&t.map===M)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}}function H(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===I)return t.reduce(e,n,r);for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}}function filter(t,e,n){if(t&&e){if(t.filter&&t.filter===w)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}}function V(t,e){var n=S.call(arguments,2);return function(){return t.apply(e,n.concat(S.call(arguments)))}}function W(t){var e=S.call(arguments,1);return function(){return t.apply(this,e.concat(S.call(arguments)))}}function G(t){return"[object Array]"===y.call(t)}function X(t){return"function"==typeof t}function Y(t){return"[object String]"===y.call(t)}function j(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function U(t){return!!v[y.call(t)]}function Z(t){return!!m[y.call(t)]}function K(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function $(t){return t!=t}function Q(t){for(var i=0,e=arguments.length;i<e;i++)if(null!=arguments[i])return arguments[i]}function J(t,e){return null!=t?t:e}function tt(t,e,n){return null!=t?t:null!=e?e:n}function et(){return Function.call.apply(S,arguments)}function nt(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function it(t,e){if(!t)throw new Error(e)}function at(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}T.createCanvas=function(){return document.createElement("canvas")};var ot="__ec_primitive__";function st(t){t[ot]=!0}function lt(t){return t[ot]}function ht(t){var e=G(t);this.data={};var n=this;function r(t,r){e?n.set(t,r):n.set(r,t)}t instanceof ht?t.each(r):t&&F(t,r)}function ut(t){return new ht(t)}function ct(){}ht.prototype={constructor:ht,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=V(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}};var ft=(Object.freeze||Object)({$override:C,clone:D,merge:k,mergeAll:function(t,e){for(var n=t[0],i=1,r=t.length;i<r;i++)n=k(n,t[i],e);return n},extend:A,defaults:P,createCanvas:L,getContext:N,indexOf:B,inherits:R,mixin:E,isArrayLike:z,each:F,map:map,reduce:H,filter:filter,find:function(t,e,n){if(t&&e)for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]},bind:V,curry:W,isArray:G,isFunction:X,isString:Y,isObject:j,isBuiltInObject:U,isTypedArray:Z,isDom:K,eqNaN:$,retrieve:Q,retrieve2:J,retrieve3:tt,slice:et,normalizeCssArray:nt,assert:it,trim:at,setAsPrimitive:st,isPrimitive:lt,createHashMap:ut,concatArray:function(a,b){for(var t=new a.constructor(a.length+b.length),i=0;i<a.length;i++)t[i]=a[i];var e=a.length;for(i=0;i<b.length;i++)t[i+e]=b[i];return t},noop:ct}),pt="undefined"==typeof Float32Array?Array:Float32Array;function gt(t,e){var n=new pt(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function vt(t,e){return t[0]=e[0],t[1]=e[1],t}function mt(t){var e=new pt(2);return e[0]=t[0],e[1]=t[1],e}function yt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function sub(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function _t(t){return Math.sqrt(wt(t))}var xt=_t;function wt(t){return t[0]*t[0]+t[1]*t[1]}var bt=wt;function St(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t}function Mt(t,e){var n=_t(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function It(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Tt=It;function Ct(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Dt=Ct;function kt(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t}function At(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Pt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var Ot=(Object.freeze||Object)({create:gt,copy:vt,clone:mt,set:function(t,a,b){return t[0]=a,t[1]=b,t},add:yt,scaleAndAdd:function(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t},sub:sub,len:_t,length:xt,lenSquare:wt,lengthSquare:bt,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:St,normalize:Mt,distance:It,dist:Tt,distanceSquare:Ct,distSquare:Dt,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t},applyTransform:kt,min:At,max:Pt});function Lt(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function param(t,e){return{target:t,topTarget:e&&e.topTarget}}Lt.prototype={constructor:Lt,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(param(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,o=n-this._x,l=r-this._y;this._x=n,this._y=r,e.drift(o,l,t),this.dispatchToElement(param(e,t),"drag",t.event);var h=this.findHover(n,r,e).target,c=this._dropTarget;this._dropTarget=h,e!==h&&(c&&h!==c&&this.dispatchToElement(param(c,t),"dragleave",t.event),h&&h!==c&&this.dispatchToElement(param(h,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(param(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(param(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var Nt=Array.prototype.slice,Bt=function(t){this._$handlers={},this._$eventProcessor=t};function Rt(t,e,n,r,o,l){var h=t._$handlers;if("function"==typeof n&&(o=r,r=n,n=null),!r||!e)return t;n=function(t,e){var n=t._$eventProcessor;return null!=e&&n&&n.normalizeQuery&&(e=n.normalizeQuery(e)),e}(t,n),h[e]||(h[e]=[]);for(var i=0;i<h[e].length;i++)if(h[e][i].h===r)return t;var c={h:r,one:l,query:n,ctx:o||t,callAtLast:r.zrEventfulCallAtLast},d=h[e].length-1,f=h[e][d];return f&&f.callAtLast?h[e].splice(d,0,c):h[e].push(c),t}Bt.prototype={constructor:Bt,one:function(t,e,n,r){return Rt(this,t,e,n,r,!0)},on:function(t,e,n,r){return Rt(this,t,e,n,r,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!==e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var r=arguments,o=r.length;o>3&&(r=Nt.call(r,1));for(var l=e.length,i=0;i<l;){var h=e[i];if(n&&n.filter&&null!=h.query&&!n.filter(t,h.query))i++;else{switch(o){case 1:h.h.call(h.ctx);break;case 2:h.h.call(h.ctx,r[1]);break;case 3:h.h.call(h.ctx,r[1],r[2]);break;default:h.h.apply(h.ctx,r)}h.one?(e.splice(i,1),l--):i++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var r=arguments,o=r.length;o>4&&(r=Nt.call(r,1,r.length-1));for(var l=r[r.length-1],h=e.length,i=0;i<h;){var c=e[i];if(n&&n.filter&&null!=c.query&&!n.filter(t,c.query))i++;else{switch(o){case 1:c.h.call(l);break;case 2:c.h.call(l,r[1]);break;case 3:c.h.call(l,r[1],r[2]);break;default:c.h.apply(l,r)}c.one?(e.splice(i,1),h--):i++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this}};var Et=Math.log(2);function zt(t,e,n,r,o,l){var h=r+"-"+o,c=t.length;if(l.hasOwnProperty(h))return l[h];if(1===e){var d=Math.round(Math.log((1<<c)-1&~o)/Et);return t[n][d]}for(var f=r|1<<n,v=n+1;r&1<<v;)v++;for(var m=0,y=0,_=0;y<c;y++){var x=1<<y;x&o||(m+=(_%2?-1:1)*t[n][y]*zt(t,e-1,v,f,o|x,l),_++)}return l[h]=m,m}var Ft="undefined"!=typeof window&&!!window.addEventListener,Ht=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Vt="___zrEVENTSAVED",Wt=[];function Gt(t,e,n,r){return n=n||{},r||!f.canvasSupported?Xt(t,e,n):f.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):Xt(t,e,n),n}function Xt(t,e,n){if(t.getBoundingClientRect&&f.domSupported){var r=e.clientX,o=e.clientY;if("CANVAS"===t.nodeName.toUpperCase()){var l=t.getBoundingClientRect();return n.zrX=r-l.left,void(n.zrY=o-l.top)}var h=t[Vt]||(t[Vt]={}),c=function(t,e){for(var n=e.transformer,r=e.srcCoords,o=!0,l=[],h=[],i=0;i<4;i++){var rect=t[i].getBoundingClientRect(),c=2*i,d=rect.left,f=rect.top;l.push(d,f),o&=r&&d===r[c]&&f===r[c+1],h.push(t[i].offsetLeft,t[i].offsetTop)}return o?n:(e.srcCoords=l,e.transformer=function(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},o=zt(n,8,0,0,0,r);if(0!==o){for(var l=[],i=0;i<8;i++)for(var h=0;h<8;h++)null==l[h]&&(l[h]=0),l[h]+=((i+h)%2?-1:1)*zt(n,7,0===i?1:0,1<<i,1<<h,r)/o*e[i];return function(t,e,n){var r=e*l[6]+n*l[7]+1;t[0]=(e*l[0]+n*l[1]+l[2])/r,t[1]=(e*l[3]+n*l[4]+l[5])/r}}}(l,h))}(function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],o=["top","bottom"],i=0;i<4;i++){var marker=document.createElement("div"),l=marker.style,h=i%2,c=(i>>1)%2;l.cssText=["position:absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","width:0","height:0",r[h]+":0",o[c]+":0",r[1-h]+":auto",o[1-c]+":auto",""].join("!important;"),t.appendChild(marker),n.push(marker)}return n}(t,h),h);if(c)return c(Wt,r,o),n.zrX=Wt[0],void(n.zrY=Wt[1])}n.zrX=n.zrY=0}function Yt(t,e,n){if(null!=(e=e||window.event).zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var o="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];o&&Gt(t,o,e,n)}else Gt(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var button=e.button;return null==e.which&&void 0!==button&&Ht.test(e.type)&&(e.which=1&button?1:2&button?3:4&button?2:0),e}function jt(t,e,n){Ft?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}var Ut=Ft?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function qt(t){return 2===t.which||3===t.which}var Zt=function(){this._track=[]};function Kt(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}Zt.prototype={constructor:Zt,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},i=0,l=r.length;i<l;i++){var h=r[i],c=Gt(n,h,{});o.points.push([c.zrX,c.zrY]),o.touches.push(h)}this._track.push(o)}},_recognize:function(t){for(var e in $t)if($t.hasOwnProperty(e)){var n=$t[e](this._track,t);if(n)return n}}};var $t={pinch:function(track,t){var e=track.length;if(e){var n,r=(track[e-1]||{}).points,o=(track[e-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var l=Kt(r)/Kt(o);!isFinite(l)&&(l=1),t.pinchScale=l;var h=[((n=r)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return t.pinchX=h[0],t.pinchY=h[1],{type:"pinch",target:track[0].target,event:t}}}}},Qt="silent";function Jt(t){Ut(this.event)}function te(){}te.prototype.dispose=function(){};var ee=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ne=function(t,e,n,r){Bt.call(this),this.storage=t,this.painter=e,this.painterRoot=r,n=n||new te,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,Lt.call(this),this.setHandlerProxy(n)};function ie(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r,o=t;o;){if(o.clipPath&&!o.clipPath.contain(e,n))return!1;o.silent&&(r=!0),o=o.parent}return!r||Qt}return!1}ne.prototype={constructor:ne,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(F(ee,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var l=this._hovered=this.findHover(e,n),h=l.target,c=this.proxy;c.setCursor&&c.setCursor(h?h.cursor:"default"),o&&h!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(l,"mousemove",t),h&&h!==o&&this.dispatchToElement(l,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,element=t.toElement||t.relatedTarget;do{element=element&&element.parentNode}while(element&&9!==element.nodeType&&!(e=element===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var r=(t=t||{}).target;if(!r||!r.silent){for(var o="on"+e,l=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:Jt}}(e,t,n);r&&(r[o]&&(l.cancelBubble=r[o].call(r,l)),r.trigger(e,l),r=r.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(e,l),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[o]&&t[o].call(t,l),t.trigger&&t.trigger(e,l)}))}},findHover:function(t,e,n){for(var r=this.storage.getDisplayList(),o={x:t,y:e},i=r.length-1;i>=0;i--){var l;if(r[i]!==n&&!r[i].ignore&&(l=ie(r[i],t,e))&&(!o.topTarget&&(o.topTarget=r[i]),l!==Qt)){o.target=r[i];break}}return o},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new Zt);var n=this._gestureMgr;"start"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),r){var o=r.type;t.gestureEvent=o,this.dispatchToElement({target:r.target},o,r.event)}}},F(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){ne.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY),r=n.target;if("mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||Tt(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),E(ne,Bt),E(ne,Lt);var re="undefined"==typeof Float32Array?Array:Float32Array;function ae(){var t=new re(6);return oe(t),t}function oe(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function se(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function le(t,e,n){var r=e[0]*n[0]+e[2]*n[1],o=e[1]*n[0]+e[3]*n[1],l=e[0]*n[2]+e[2]*n[3],h=e[1]*n[2]+e[3]*n[3],c=e[0]*n[4]+e[2]*n[5]+e[4],d=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=o,t[2]=l,t[3]=h,t[4]=c,t[5]=d,t}function he(t,a,e){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4]+e[0],t[5]=a[5]+e[1],t}function ue(t,a,e){var n=a[0],r=a[2],o=a[4],l=a[1],h=a[3],c=a[5],d=Math.sin(e),f=Math.cos(e);return t[0]=n*f+l*d,t[1]=-n*d+l*f,t[2]=r*f+h*d,t[3]=-r*d+f*h,t[4]=f*o+d*c,t[5]=f*c-d*o,t}function ce(t,a,e){var n=e[0],r=e[1];return t[0]=a[0]*n,t[1]=a[1]*r,t[2]=a[2]*n,t[3]=a[3]*r,t[4]=a[4]*n,t[5]=a[5]*r,t}function de(t,a){var e=a[0],n=a[2],r=a[4],o=a[1],l=a[3],h=a[5],c=e*l-o*n;return c?(c=1/c,t[0]=l*c,t[1]=-o*c,t[2]=-n*c,t[3]=e*c,t[4]=(n*h-l*r)*c,t[5]=(o*r-e*h)*c,t):null}var fe=(Object.freeze||Object)({create:ae,identity:oe,copy:se,mul:le,translate:he,rotate:ue,scale:ce,invert:de,clone:function(a){var b=ae();return se(b,a),b}}),pe=oe,ge=5e-5;function ve(t){return t>ge||t<-ge}var me=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},ye=me.prototype;ye.transform=null,ye.needLocalTransform=function(){return ve(this.rotation)||ve(this.position[0])||ve(this.position[1])||ve(this.scale[0]-1)||ve(this.scale[1]-1)};var _e=[];ye.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;if(n||e){r=r||ae(),n?this.getLocalTransform(r):pe(r),e&&(n?le(r,t.transform,r):se(r,t.transform)),this.transform=r;var o=this.globalScaleRatio;if(null!=o&&1!==o){this.getGlobalScale(_e);var l=_e[0]<0?-1:1,h=_e[1]<0?-1:1,c=((_e[0]-l)*o+l)/_e[0]||0,d=((_e[1]-h)*o+h)/_e[1]||0;r[0]*=c,r[1]*=c,r[2]*=d,r[3]*=d}this.invTransform=this.invTransform||ae(),de(this.invTransform,r)}else r&&pe(r)},ye.getLocalTransform=function(t){return me.getLocalTransform(this,t)},ye.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},ye.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var xe=[],we=ae();ye.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=this.position,o=this.scale;ve(e-1)&&(e=Math.sqrt(e)),ve(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),r[0]=t[4],r[1]=t[5],o[0]=e,o[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e)}},ye.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(le(xe,t.invTransform,e),e=xe);var n=this.origin;n&&(n[0]||n[1])&&(we[4]=n[0],we[5]=n[1],le(xe,e,we),xe[4]-=n[0],xe[5]-=n[1],e=xe),this.setLocalTransform(e)}},ye.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},ye.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&kt(n,n,r),n},ye.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&kt(n,n,r),n},me.getLocalTransform=function(t,e){pe(e=e||[]);var n=t.origin,r=t.scale||[1,1],o=t.rotation||0,l=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),ce(e,e,r),o&&ue(e,e,o),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=l[0],e[5]+=l[1],e};var be={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var s,a=.1;return 0===t?0:1===t?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/.4))},elasticOut:function(t){var s,a=.1;return 0===t?0:1===t?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var s,a=.1;return 0===t?0:1===t?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/.4)*-.5:a*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var s=1.70158;return t*t*((s+1)*t-s)},backOut:function(t){var s=1.70158;return--t*t*((s+1)*t+s)+1},backInOut:function(t){var s=2.5949095;return(t*=2)<1?t*t*((s+1)*t-s)*.5:.5*((t-=2)*t*((s+1)*t+s)+2)},bounceIn:function(t){return 1-be.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*be.bounceIn(2*t):.5*be.bounceOut(2*t-1)+.5}};function Se(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}Se.prototype={constructor:Se,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,o="string"==typeof r?be[r]:r,l="function"==typeof o?o(n):n;return this.fire("frame",l),1===n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Me=function(){this.head=null,this.tail=null,this._len=0},Ie=Me.prototype;Ie.insert=function(t){var e=new Te(t);return this.insertEntry(e),e},Ie.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Ie.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Ie.len=function(){return this._len},Ie.clear=function(){this.head=this.tail=null,this._len=0};var Te=function(t){this.value=t,this.next,this.prev},Ce=function(t){this._list=new Me,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},De=Ce.prototype;De.put=function(t,e){var n=this._list,map=this._map,r=null;if(null==map[t]){var o=n.len(),l=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var h=n.head;n.remove(h),delete map[h.key],r=h.value,this._lastRemovedEntry=h}l?l.value=e:l=new Te(e),l.key=t,n.insertEntry(l),map[t]=l}return r},De.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},De.clear=function(){this._list.clear(),this._map={}};var ke={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ae(i){return(i=Math.round(i))<0?0:i>255?255:i}function Pe(t){return t<0?0:t>1?1:t}function Oe(t){return t.length&&"%"===t.charAt(t.length-1)?Ae(parseFloat(t)/100*255):Ae(parseInt(t,10))}function Le(t){return t.length&&"%"===t.charAt(t.length-1)?Pe(parseFloat(t)/100):Pe(parseFloat(t))}function Ne(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function Be(a,b,p){return a+(b-a)*p}function Re(t,e,g,b,a){return t[0]=e,t[1]=g,t[2]=b,t[3]=a,t}function Ee(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t}var ze=new Ce(20),Fe=null;function He(t,e){Fe&&Ee(Fe,e),Fe=ze.put(t,Fe||e.slice())}function Ve(t,e){if(t){e=e||[];var n=ze.get(t);if(n)return Ee(e,n);var r,o=(t+="").replace(/ /g,"").toLowerCase();if(o in ke)return Ee(e,ke[o]),He(t,e),e;if("#"===o.charAt(0))return 4===o.length?(r=parseInt(o.substr(1),16))>=0&&r<=4095?(Re(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),He(t,e),e):void Re(e,0,0,0,1):7===o.length?(r=parseInt(o.substr(1),16))>=0&&r<=16777215?(Re(e,(16711680&r)>>16,(65280&r)>>8,255&r,1),He(t,e),e):void Re(e,0,0,0,1):void 0;var l=o.indexOf("("),h=o.indexOf(")");if(-1!==l&&h+1===o.length){var c=o.substr(0,l),d=o.substr(l+1,h-(l+1)).split(","),f=1;switch(c){case"rgba":if(4!==d.length)return void Re(e,0,0,0,1);f=Le(d.pop());case"rgb":return 3!==d.length?void Re(e,0,0,0,1):(Re(e,Oe(d[0]),Oe(d[1]),Oe(d[2]),f),He(t,e),e);case"hsla":return 4!==d.length?void Re(e,0,0,0,1):(d[3]=Le(d[3]),We(d,e),He(t,e),e);case"hsl":return 3!==d.length?void Re(e,0,0,0,1):(We(d,e),He(t,e),e);default:return}}Re(e,0,0,0,1)}}function We(t,e){var n=(parseFloat(t[0])%360+360)%360/360,s=Le(t[1]),r=Le(t[2]),o=r<=.5?r*(s+1):r+s-r*s,l=2*r-o;return Re(e=e||[],Ae(255*Ne(l,o,n+1/3)),Ae(255*Ne(l,o,n)),Ae(255*Ne(l,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Ge(t,e){var n=Ve(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,n[i]>255?n[i]=255:t[i]<0&&(n[i]=0);return Ze(n,4===n.length?"rgba":"rgb")}}function Xe(t){var e=Ve(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Ye(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),o=Math.floor(r),l=Math.ceil(r),h=e[o],c=e[l],d=r-o;return n[0]=Ae(Be(h[0],c[0],d)),n[1]=Ae(Be(h[1],c[1],d)),n[2]=Ae(Be(h[2],c[2],d)),n[3]=Pe(Be(h[3],c[3],d)),n}}var je=Ye;function Ue(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),o=Math.floor(r),l=Math.ceil(r),h=Ve(e[o]),c=Ve(e[l]),d=r-o,f=Ze([Ae(Be(h[0],c[0],d)),Ae(Be(h[1],c[1],d)),Ae(Be(h[2],c[2],d)),Pe(Be(h[3],c[3],d))],"rgba");return n?{color:f,leftIndex:o,rightIndex:l,value:r}:f}}var qe=Ue;function Ze(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}var Ke=(Object.freeze||Object)({parse:Ve,lift:Ge,toHex:Xe,fastLerp:Ye,fastMapToColor:je,lerp:Ue,mapToColor:qe,modifyHSL:function(t,e,s,n){if(t=Ve(t))return t=function(t){if(t){var e,n,r=t[0]/255,o=t[1]/255,l=t[2]/255,h=Math.min(r,o,l),c=Math.max(r,o,l),d=c-h,f=(c+h)/2;if(0===d)e=0,n=0;else{n=f<.5?d/(c+h):d/(2-c-h);var v=((c-r)/6+d/2)/d,m=((c-o)/6+d/2)/d,y=((c-l)/6+d/2)/d;r===c?e=y-m:o===c?e=1/3+v-y:l===c&&(e=2/3+m-v),e<0&&(e+=1),e>1&&(e-=1)}var _=[360*e,n,f];return null!=t[3]&&_.push(t[3]),_}}(t),null!=e&&(t[0]=function(i){return(i=Math.round(i))<0?0:i>360?360:i}(e)),null!=s&&(t[1]=Le(s)),null!=n&&(t[2]=Le(n)),Ze(We(t),"rgba")},modifyAlpha:function(t,e){if((t=Ve(t))&&null!=e)return t[3]=Pe(e),Ze(t,"rgba")},stringify:Ze}),$e=Array.prototype.slice;function Qe(t,e){return t[e]}function Je(t,e,n){t[e]=n}function tn(t,e,n){return(e-t)*n+t}function en(t,e,n){return n>.5?e:t}function nn(t,e,n,r,o){var l=t.length;if(1===o)for(var i=0;i<l;i++)r[i]=tn(t[i],e[i],n);else{var h=l&&t[0].length;for(i=0;i<l;i++)for(var c=0;c<h;c++)r[i][c]=tn(t[i][c],e[i][c],n)}}function rn(t,e,n){var r=t.length,o=e.length;if(r!==o)if(r>o)t.length=o;else for(var i=r;i<o;i++)t.push(1===n?e[i]:$e.call(e[i]));var l=t[0]&&t[0].length;for(i=0;i<t.length;i++)if(1===n)isNaN(t[i])&&(t[i]=e[i]);else for(var h=0;h<l;h++)isNaN(t[i][h])&&(t[i][h]=e[i][h])}function an(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(var i=0;i<r;i++)if(t[i]!==e[i])return!1}else{var o=t[0].length;for(i=0;i<r;i++)for(var l=0;l<o;l++)if(t[i][l]!==e[i][l])return!1}return!0}function on(t,e,n,r,o,l,h,c,d){var f=t.length;if(1===d)for(var i=0;i<f;i++)c[i]=sn(t[i],e[i],n[i],r[i],o,l,h);else{var v=t[0].length;for(i=0;i<f;i++)for(var m=0;m<v;m++)c[i][m]=sn(t[i][m],e[i][m],n[i][m],r[i][m],o,l,h)}}function sn(t,e,n,r,o,l,h){var c=.5*(n-t),d=.5*(r-e);return(2*(e-n)+c+d)*h+(-3*(e-n)-2*c-d)*l+c*o+e}function ln(t){if(z(t)){var e=t.length;if(z(t[0])){for(var n=[],i=0;i<e;i++)n.push($e.call(t[i]));return n}return $e.call(t)}return t}function hn(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function un(t,e,n,r,o,l){var h=t._getter,c=t._setter,d="spline"===e,f=r.length;if(f){var v,m=z(r[0].value),y=!1,_=!1,x=m?function(t){var e=t[t.length-1].value;return z(e&&e[0])?2:1}(r):0;r.sort(function(a,b){return a.time-b.time}),v=r[f-1].time;for(var w=[],S=[],M=r[0].value,I=!0,i=0;i<f;i++){w.push(r[i].time/v);var T=r[i].value;if(m&&an(T,M,x)||!m&&T===M||(I=!1),M=T,"string"==typeof T){var C=Ve(T);C?(T=C,y=!0):_=!0}S.push(T)}if(l||!I){var D=S[f-1];for(i=0;i<f-1;i++)m?rn(S[i],D,x):!isNaN(S[i])||isNaN(D)||_||y||(S[i]=D);m&&rn(h(t._target,o),D,x);var k,A,P,O,L,N=0,B=0;if(y)var R=[0,0,0,0];var E=new Se({target:t._target,life:v,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<B){for(n=Math.min(N+1,f-1);n>=0&&!(w[n]<=e);n--);n=Math.min(n,f-2)}else{for(n=N;n<f&&!(w[n]>e);n++);n=Math.min(n-1,f-2)}N=n,B=e;var r=w[n+1]-w[n];if(0!==r)if(k=(e-w[n])/r,d)if(P=S[n],A=S[0===n?n:n-1],O=S[n>f-2?f-1:n+1],L=S[n>f-3?f-1:n+2],m)on(A,P,O,L,k,k*k,k*k*k,h(t,o),x);else{if(y)l=on(A,P,O,L,k,k*k,k*k*k,R,1),l=hn(R);else{if(_)return en(P,O,k);l=sn(A,P,O,L,k,k*k,k*k*k)}c(t,o,l)}else if(m)nn(S[n],S[n+1],k,h(t,o),x);else{var l;if(y)nn(S[n],S[n+1],k,R,1),l=hn(R);else{if(_)return en(S[n],S[n+1],k);l=tn(S[n],S[n+1],k)}c(t,o,l)}},ondestroy:n});return e&&"spline"!==e&&(E.easing=e),E}}}var cn=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||Qe,this._setter=r||Je,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};cn.prototype={when:function(time,t){var e=this._tracks;for(var n in t)if(t.hasOwnProperty(n)){if(!e[n]){e[n]=[];var r=this._getter(this._target,n);if(null==r)continue;0!==time&&e[n].push({time:0,value:ln(r)})}e[n].push({time:time,value:t[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var i=0;i<this._clipList.length;i++)this._clipList[i].pause();this._paused=!0},resume:function(){for(var i=0;i<this._clipList.length;i++)this._clipList[i].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){var n,r=this,o=0,l=function(){--o||r._doneCallback()};for(var h in this._tracks)if(this._tracks.hasOwnProperty(h)){var c=un(this,t,l,this._tracks[h],h,e);c&&(this._clipList.push(c),o++,this.animation&&this.animation.addClip(c),n=c)}if(n){var d=n.onframe;n.onframe=function(t,e){d(t,e);for(var i=0;i<r._onframeList.length;i++)r._onframeList[i](t,e)}}return o||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var r=e[i];t&&r.onframe(this._target,1),n&&n.removeClip(r)}e.length=0},delay:function(time){return this._delay=time,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var dn=1;"undefined"!=typeof window&&(dn=Math.max(window.devicePixelRatio||1,1));var fn=dn,pn=function(){},gn=pn,vn=function(){this.animators=[]};function mn(t,e,time,n,r,o,l,h){Y(n)?(o=r,r=n,n=0):X(r)?(o=r,r="linear",n=0):X(n)?(o=n,n=0):X(time)?(o=time,time=500):time||(time=500),t.stopAnimation(),function t(e,path,source,n,time,r,o){var l={},h=0;for(var c in n)n.hasOwnProperty(c)&&(null!=source[c]?j(n[c])&&!z(n[c])?t(e,path?path+"."+c:c,source[c],n[c],time,r,o):(o?(l[c]=source[c],yn(e,path,c,n[c])):l[c]=n[c],h++):null==n[c]||o||yn(e,path,c,n[c]));h>0&&e.animate(path,!1).when(null==time?500:time,l).delay(r||0)}(t,"",t,e,time,n,h);var c=t.animators.slice(),d=c.length;function f(){--d||o&&o()}d||o&&o();for(var i=0;i<c.length;i++)c[i].done(f).start(r,l)}function yn(t,path,e,n){if(path){var r={};r[path]={},r[path][e]=n,t.attr(r)}else t.attr(e,n)}vn.prototype={constructor:vn,animate:function(path,t){var e,n=!1,r=this,o=this.__zr;if(path){var l=path.split("."),h=r;n="shape"===l[0];for(var i=0,c=l.length;i<c;i++)h&&(h=h[l[i]]);h&&(e=h)}else e=r;if(e){var d=r.animators,f=new cn(e,t);return f.during(function(t){r.dirty(n)}).done(function(){d.splice(B(d,f),1)}),d.push(f),o&&o.animation.addAnimator(f),f}gn('Property "'+path+'" is not existed in element '+r.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,i=0;i<n;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,time,e,n,r,o){mn(this,t,time,e,n,r,o)},animateFrom:function(t,time,e,n,r,o){mn(this,t,time,e,n,r,o,!0)}};var _n=function(t){me.call(this,t),Bt.call(this,t),vn.call(this,t),this.id=t.id||d()};_n.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(j(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},E(_n,vn),E(_n,me),E(_n,Bt);var xn,wn,bn,rt,Sn=kt,Mn=Math.min,In=Math.max;function Tn(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}Tn.prototype={constructor:Tn,union:function(t){var e=Mn(t.x,this.x),n=Mn(t.y,this.y);this.width=In(t.x+t.width,this.x+this.width)-e,this.height=In(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(xn=[],wn=[],bn=[],rt=[],function(t){if(t){xn[0]=bn[0]=this.x,xn[1]=rt[1]=this.y,wn[0]=rt[0]=this.x+this.width,wn[1]=bn[1]=this.y+this.height,Sn(xn,xn,t),Sn(wn,wn,t),Sn(bn,bn,t),Sn(rt,rt,t),this.x=Mn(xn[0],wn[0],bn[0],rt[0]),this.y=Mn(xn[1],wn[1],bn[1],rt[1]);var e=In(xn[0],wn[0],bn[0],rt[0]),n=In(xn[1],wn[1],bn[1],rt[1]);this.width=e-this.x,this.height=n-this.y}}),calculateTransform:function(b){var a=this,t=b.width/a.width,e=b.height/a.height,n=ae();return he(n,n,[-a.x,-a.y]),ce(n,n,[t,e]),he(n,n,[b.x,b.y]),n},intersect:function(b){if(!b)return!1;b instanceof Tn||(b=Tn.create(b));var a=this,t=a.x,e=a.x+a.width,n=a.y,r=a.y+a.height,o=b.x,l=b.x+b.width,h=b.y,c=b.y+b.height;return!(e<o||l<t||r<h||c<n)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new Tn(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Tn.create=function(rect){return new Tn(rect.x,rect.y,rect.width,rect.height)};var Cn=function(t){for(var e in t=t||{},_n.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Cn.prototype={constructor:Cn,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof Cn&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,o=B(r,t);return o<0?this:(r.splice(o,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof Cn&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,i,e=this._children,n=this.__storage;for(i=0;i<e.length;i++)t=e[i],n&&(n.delFromStorage(t),t instanceof Cn&&t.delChildrenFromStorage(n)),t.parent=null;return e.length=0,this},eachChild:function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var i=0;i<this._children.length;i++){var e=this._children[i];t.addToStorage(e),e instanceof Cn&&e.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var i=0;i<this._children.length;i++){var e=this._children[i];t.delFromStorage(e),e instanceof Cn&&e.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var rect=null,e=new Tn(0,0,0,0),n=t||this._children,r=[],i=0;i<n.length;i++){var o=n[i];if(!o.ignore&&!o.invisible){var l=o.getBoundingRect(),h=o.getLocalTransform(r);h?(e.copy(l),e.applyTransform(h),(rect=rect||e.clone()).union(e)):(rect=rect||l.clone()).union(l)}}return rect||e}},R(Cn,_n);var Dn=32,kn=7;function An(t,e,n,r){var o=e+1;if(o===n)return 1;if(r(t[o++],t[e])<0){for(;o<n&&r(t[o],t[o-1])<0;)o++;!function(t,e,n){for(n--;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}(t,e,o)}else for(;o<n&&r(t[o],t[o-1])>=0;)o++;return o-e}function Pn(t,e,n,r,o){for(r===e&&r++;r<n;r++){for(var l,h=t[r],c=e,d=r;c<d;)o(h,t[l=c+d>>>1])<0?d=l:c=l+1;var f=r-c;switch(f){case 3:t[c+3]=t[c+2];case 2:t[c+2]=t[c+1];case 1:t[c+1]=t[c];break;default:for(;f>0;)t[c+f]=t[c+f-1],f--}t[c]=h}}function On(t,e,n,r,o,l){var h=0,c=0,d=1;if(l(t,e[n+o])>0){for(c=r-o;d<c&&l(t,e[n+o+d])>0;)h=d,(d=1+(d<<1))<=0&&(d=c);d>c&&(d=c),h+=o,d+=o}else{for(c=o+1;d<c&&l(t,e[n+o-d])<=0;)h=d,(d=1+(d<<1))<=0&&(d=c);d>c&&(d=c);var f=h;h=o-d,d=o-f}for(h++;h<d;){var v=h+(d-h>>>1);l(t,e[n+v])>0?h=v+1:d=v}return d}function Ln(t,e,n,r,o,l){var h=0,c=0,d=1;if(l(t,e[n+o])<0){for(c=o+1;d<c&&l(t,e[n+o-d])<0;)h=d,(d=1+(d<<1))<=0&&(d=c);d>c&&(d=c);var f=h;h=o-d,d=o-f}else{for(c=r-o;d<c&&l(t,e[n+o+d])>=0;)h=d,(d=1+(d<<1))<=0&&(d=c);d>c&&(d=c),h+=o,d+=o}for(h++;h<d;){var v=h+(d-h>>>1);l(t,e[n+v])<0?d=v:h=v+1}return d}function Nn(t,e){var n,r,o=kn,l=0,h=[];function c(i){var c=n[i],d=r[i],f=n[i+1],v=r[i+1];r[i]=d+v,i===l-3&&(n[i+1]=n[i+2],r[i+1]=r[i+2]),l--;var m=Ln(t[f],t,c,d,0,e);c+=m,0!=(d-=m)&&0!==(v=On(t[c+d-1],t,f,v,v-1,e))&&(d<=v?function(n,r,l,c){var i=0;for(i=0;i<r;i++)h[i]=t[n+i];var d=0,f=l,v=n;if(t[v++]=t[f++],0!=--c)if(1!==r){for(var m,y,_,x=o;;){m=0,y=0,_=!1;do{if(e(t[f],h[d])<0){if(t[v++]=t[f++],y++,m=0,0==--c){_=!0;break}}else if(t[v++]=h[d++],m++,y=0,1==--r){_=!0;break}}while((m|y)<x);if(_)break;do{if(0!==(m=Ln(t[f],h,d,r,0,e))){for(i=0;i<m;i++)t[v+i]=h[d+i];if(v+=m,d+=m,(r-=m)<=1){_=!0;break}}if(t[v++]=t[f++],0==--c){_=!0;break}if(0!==(y=On(h[d],t,f,c,0,e))){for(i=0;i<y;i++)t[v+i]=t[f+i];if(v+=y,f+=y,0==(c-=y)){_=!0;break}}if(t[v++]=h[d++],1==--r){_=!0;break}x--}while(m>=kn||y>=kn);if(_)break;x<0&&(x=0),x+=2}if((o=x)<1&&(o=1),1===r){for(i=0;i<c;i++)t[v+i]=t[f+i];t[v+c]=h[d]}else{if(0===r)throw new Error;for(i=0;i<r;i++)t[v+i]=h[d+i]}}else{for(i=0;i<c;i++)t[v+i]=t[f+i];t[v+c]=h[d]}else for(i=0;i<r;i++)t[v+i]=h[d+i]}(c,d,f,v):function(n,r,l,c){var i=0;for(i=0;i<c;i++)h[i]=t[l+i];var d=n+r-1,f=c-1,v=l+c-1,m=0,y=0;if(t[v--]=t[d--],0!=--r)if(1!==c){for(var _=o;;){var x=0,w=0,S=!1;do{if(e(h[f],t[d])<0){if(t[v--]=t[d--],x++,w=0,0==--r){S=!0;break}}else if(t[v--]=h[f--],w++,x=0,1==--c){S=!0;break}}while((x|w)<_);if(S)break;do{if(0!=(x=r-Ln(h[f],t,n,r,r-1,e))){for(r-=x,y=1+(v-=x),m=1+(d-=x),i=x-1;i>=0;i--)t[y+i]=t[m+i];if(0===r){S=!0;break}}if(t[v--]=h[f--],1==--c){S=!0;break}if(0!=(w=c-On(t[d],h,0,c,c-1,e))){for(c-=w,y=1+(v-=w),m=1+(f-=w),i=0;i<w;i++)t[y+i]=h[m+i];if(c<=1){S=!0;break}}if(t[v--]=t[d--],0==--r){S=!0;break}_--}while(x>=kn||w>=kn);if(S)break;_<0&&(_=0),_+=2}if((o=_)<1&&(o=1),1===c){for(y=1+(v-=r),m=1+(d-=r),i=r-1;i>=0;i--)t[y+i]=t[m+i];t[v]=h[f]}else{if(0===c)throw new Error;for(m=v-(c-1),i=0;i<c;i++)t[m+i]=h[i]}}else{for(y=1+(v-=r),m=1+(d-=r),i=r-1;i>=0;i--)t[y+i]=t[m+i];t[v]=h[f]}else for(m=v-(c-1),i=0;i<c;i++)t[m+i]=h[i]}(c,d,f,v))}n=[],r=[],this.mergeRuns=function(){for(;l>1;){var t=l-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;c(t)}},this.forceMergeRuns=function(){for(;l>1;){var t=l-2;t>0&&r[t-1]<r[t+1]&&t--,c(t)}},this.pushRun=function(t,e){n[l]=t,r[l]=e,l+=1}}function Bn(t,e,n,r){n||(n=0),r||(r=t.length);var o=r-n;if(!(o<2)){var l=0;if(o<Dn)Pn(t,n,r,n+(l=An(t,n,r,e)),e);else{var h=new Nn(t,e),c=function(t){for(var e=0;t>=Dn;)e|=1&t,t>>=1;return t+e}(o);do{if((l=An(t,n,r,e))<c){var d=o;d>c&&(d=c),Pn(t,n,n+d,n+l,e),l=d}h.pushRun(n,l),h.mergeRuns(),o-=l,n+=l}while(0!==o);h.forceMergeRuns()}}}function Rn(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var En=function(){this._roots=[],this._displayList=[],this._displayListLen=0};En.prototype={constructor:En,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,r=e.length;i<r;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,f.canvasSupported&&Bn(n,Rn)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];for(var o=r,l=t;o;)o.parent=l,o.updateTransform(),e.push(o),l=o,o=o.clipPath}if(t.isGroup){for(var h=t._children,i=0;i<h.length;i++){var c=h[i];t.__dirty&&(c.__dirty=!0),this._updateAndAddDisplayable(c,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Cn&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var i=0;i<this._roots.length;i++){var e=this._roots[i];e instanceof Cn&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){i=0;for(var n=t.length;i<n;i++)this.delRoot(t[i])}else{var r=B(this._roots,t);r>=0&&(this.delFromStorage(t),this._roots.splice(r,1),t instanceof Cn&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Rn};var zn={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Fn=function(t,e,n){return zn.hasOwnProperty(e)?n*t.dpr:n},Hn={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Vn=9,Wn=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Gn=function(t){this.extendFrom(t,!1)};function Xn(t,e,rect){var n=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,l=null==e.y2?0:e.y2;return e.global||(n=n*rect.width+rect.x,r=r*rect.width+rect.x,o=o*rect.height+rect.y,l=l*rect.height+rect.y),n=isNaN(n)?0:n,r=isNaN(r)?1:r,o=isNaN(o)?0:o,l=isNaN(l)?0:l,t.createLinearGradient(n,o,r,l)}function Yn(t,e,rect){var n=rect.width,r=rect.height,o=Math.min(n,r),l=null==e.x?.5:e.x,h=null==e.y?.5:e.y,c=null==e.r?.5:e.r;return e.global||(l=l*n+rect.x,h=h*r+rect.y,c*=o),t.createRadialGradient(l,h,0,l,h,c)}Gn.prototype={constructor:Gn,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){var r=n&&n.style,o=!r||t.__attrCachedBy!==Hn.STYLE_BIND;t.__attrCachedBy=Hn.STYLE_BIND;for(var i=0;i<Wn.length;i++){var l=Wn[i],h=l[0];(o||this[h]!==r[h])&&(t[h]=Fn(t,h,this[h]||l[1]))}if((o||this.fill!==r.fill)&&(t.fillStyle=this.fill),(o||this.stroke!==r.stroke)&&(t.strokeStyle=this.stroke),(o||this.opacity!==r.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(o||this.blend!==r.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var c=this.lineWidth;t.lineWidth=c/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,rect){for(var n=("radial"===e.type?Yn:Xn)(t,e,rect),r=e.colorStops,i=0;i<r.length;i++)n.addColorStop(r[i].offset,r[i].color);return n}};for(var jn=Gn.prototype,i=0;i<Wn.length;i++){var Un=Wn[i];Un[0]in jn||(jn[Un[0]]=Un[1])}Gn.getGradient=jn.getGradient;var qn=function(image,t){this.image=image,this.repeat=t,this.type="pattern"};function Zn(){return!1}function Kn(t,e,n){var r=L(),o=e.getWidth(),l=e.getHeight(),h=r.style;return h&&(h.position="absolute",h.left=0,h.top=0,h.width=o+"px",h.height=l+"px",r.setAttribute("data-zr-dom-id",t)),r.width=o*n,r.height=l*n,r}qn.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var $n=function(t,e,n){var r;n=n||fn,"string"==typeof t?r=Kn(t,e,n):j(t)&&(t=(r=t).id),this.id=t,this.dom=r;var o=r.style;o&&(r.onselectstart=Zn,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};$n.prototype={constructor:$n,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Kn("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,r=this.dom,o=r.style,l=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),r.width=t*n,r.height=e*n,l&&(l.width=t*n,l.height=e*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,r=this.dom,o=this.ctx,l=r.width,h=r.height,c=(e=e||this.clearColor,this.motionBlur&&!t),d=this.lastFrameAlpha,f=this.dpr;if(c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,l/f,h/f)),o.clearRect(0,0,l,h),e&&"transparent"!==e&&(e.colorStops?(n=e.__canvasGradient||Gn.getGradient(o,e,{x:0,y:0,width:l,height:h}),e.__canvasGradient=n):e.image&&(n=qn.prototype.getCanvasPattern.call(e,o)),o.save(),o.fillStyle=n||e,o.fillRect(0,0,l,h),o.restore()),c){var v=this.domBack;o.save(),o.globalAlpha=d,o.drawImage(v,0,0,l,h),o.restore()}}};var Qn="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},Jn=new Ce(50);function ti(t){if("string"==typeof t){var e=Jn.get(t);return e&&e.image}return t}function ei(t,image,e,n,r){if(t){if("string"==typeof t){if(image&&image.__zrImageSrc===t||!e)return image;var o=Jn.get(t),l={hostEl:e,cb:n,cbPayload:r};return o?!ii(image=o.image)&&o.pending.push(l):((image=new Image).onload=image.onerror=ni,Jn.put(t,image.__cachedImgObj={image:image,pending:[l]}),image.src=image.__zrImageSrc=t),image}return t}return image}function ni(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var i=0;i<t.pending.length;i++){var e=t.pending[i],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}t.pending.length=0}function ii(image){return image&&image.width&&image.height}var ri={},ai=0,oi=5e3,si=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,hi="12px sans-serif",ui={};function ci(text,t){var e=text+":"+(t=t||hi);if(ri[e])return ri[e];for(var n=(text+"").split("\n"),r=0,i=0,o=n.length;i<o;i++)r=Math.max(wi(n[i],t).width,r);return ai>oi&&(ai=0,ri={}),ai++,ri[e]=r,r}function di(text,t,e,n,r,o,l,h){return l?function(text,t,e,n,r,o,l,h){var c=Si(text,{rich:l,truncate:h,font:t,textAlign:e,textPadding:r,textLineHeight:o}),d=c.outerWidth,f=c.outerHeight,v=fi(0,d,e),m=pi(0,f,n);return new Tn(v,m,d,f)}(text,t,e,n,r,o,l,h):function(text,t,e,n,r,o,l){var h=bi(text,t,r,o,l),c=ci(text,t);r&&(c+=r[1]+r[3]);var d=h.outerHeight,f=fi(0,c,e),v=pi(0,d,n),rect=new Tn(f,v,c,d);return rect.lineHeight=h.lineHeight,rect}(text,t,e,n,r,o,h)}function fi(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function pi(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function gi(t,style,rect){var e=style.textPosition,n=style.textDistance,r=rect.x,o=rect.y,l=rect.height,h=rect.width,c=l/2,d="left",f="top";switch(e){case"left":r-=n,o+=c,d="right",f="middle";break;case"right":r+=n+h,o+=c,f="middle";break;case"top":r+=h/2,o-=n,d="center",f="bottom";break;case"bottom":r+=h/2,o+=l+n,d="center";break;case"inside":r+=h/2,o+=c,d="center",f="middle";break;case"insideLeft":r+=n,o+=c,f="middle";break;case"insideRight":r+=h-n,o+=c,d="right",f="middle";break;case"insideTop":r+=h/2,o+=n,d="center";break;case"insideBottom":r+=h/2,o+=l-n,d="center",f="bottom";break;case"insideTopLeft":r+=n,o+=n;break;case"insideTopRight":r+=h-n,o+=n,d="right";break;case"insideBottomLeft":r+=n,o+=l-n,f="bottom";break;case"insideBottomRight":r+=h-n,o+=l-n,d="right",f="bottom"}return(t=t||{}).x=r,t.y=o,t.textAlign=d,t.textVerticalAlign=f,t}function vi(text,t,e,n,r){if(!t)return"";var o=(text+"").split("\n");r=mi(t,e,n,r);for(var i=0,l=o.length;i<l;i++)o[i]=yi(o[i],r);return o.join("\n")}function mi(t,e,n,r){(r=A({},r)).font=e,n=J(n,"..."),r.maxIterations=J(r.maxIterations,2);var o=r.minChar=J(r.minChar,0);r.cnCharWidth=ci("",e);var l=r.ascCharWidth=ci("a",e);r.placeholder=J(r.placeholder,"");for(var h=t=Math.max(0,t-1),i=0;i<o&&h>=l;i++)h-=l;var c=ci(n,e);return c>h&&(n="",c=0),h=t-c,r.ellipsis=n,r.ellipsisWidth=c,r.contentWidth=h,r.containerWidth=t,r}function yi(t,e){var n=e.containerWidth,r=e.font,o=e.contentWidth;if(!n)return"";var l=ci(t,r);if(l<=n)return t;for(var h=0;;h++){if(l<=o||h>=e.maxIterations){t+=e.ellipsis;break}var c=0===h?_i(t,o,e.ascCharWidth,e.cnCharWidth):l>0?Math.floor(t.length*o/l):0;l=ci(t=t.substr(0,c),r)}return""===t&&(t=e.placeholder),t}function _i(text,t,e,n){for(var r=0,i=0,o=text.length;i<o&&r<t;i++){var l=text.charCodeAt(i);r+=0<=l&&l<=127?e:n}return i}function xi(t){return ci("",t)}function wi(text,t){return ui.measureText(text,t)}function bi(text,t,e,n,r){null!=text&&(text+="");var o=J(n,xi(t)),l=text?text.split("\n"):[],h=l.length*o,c=h;if(e&&(c+=e[0]+e[2]),text&&r){var d=r.outerHeight,f=r.outerWidth;if(null!=d&&c>d)text="",l=[];else if(null!=f)for(var v=mi(f-(e?e[1]+e[3]:0),t,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),i=0,m=l.length;i<m;i++)l[i]=yi(l[i],v)}return{lines:l,height:h,outerHeight:c,lineHeight:o}}function Si(text,style){var t={lines:[],width:0,height:0};if(null!=text&&(text+=""),!text)return t;for(var e,n=si.lastIndex=0;null!=(e=si.exec(text));){var r=e.index;r>n&&Mi(t,text.substring(n,r)),Mi(t,e[2],e[1]),n=si.lastIndex}n<text.length&&Mi(t,text.substring(n,text.length));var o=t.lines,l=0,h=0,c=[],d=style.textPadding,f=style.truncate,v=f&&f.outerWidth,m=f&&f.outerHeight;d&&(null!=v&&(v-=d[1]+d[3]),null!=m&&(m-=d[0]+d[2]));for(var i=0;i<o.length;i++){for(var line=o[i],y=0,_=0,x=0;x<line.tokens.length;x++){var w=(O=line.tokens[x]).styleName&&style.rich[O.styleName]||{},S=O.textPadding=w.textPadding,M=O.font=w.font||style.font,I=O.textHeight=J(w.textHeight,xi(M));if(S&&(I+=S[0]+S[2]),O.height=I,O.lineHeight=tt(w.textLineHeight,style.textLineHeight,I),O.textAlign=w&&w.textAlign||style.textAlign,O.textVerticalAlign=w&&w.textVerticalAlign||"middle",null!=m&&l+O.lineHeight>m)return{lines:[],width:0,height:0};O.textWidth=ci(O.text,M);var T=w.textWidth,C=null==T||"auto"===T;if("string"==typeof T&&"%"===T.charAt(T.length-1))O.percentWidth=T,c.push(O),T=0;else{if(C){T=O.textWidth;var D=w.textBackgroundColor,k=D&&D.image;k&&ii(k=ti(k))&&(T=Math.max(T,k.width*I/k.height))}var A=S?S[1]+S[3]:0;T+=A;var P=null!=v?v-_:null;null!=P&&P<T&&(!C||P<A?(O.text="",O.textWidth=T=0):(O.text=vi(O.text,P-A,M,f.ellipsis,{minChar:f.minChar}),O.textWidth=ci(O.text,M),T=O.textWidth+A))}_+=O.width=T,w&&(y=Math.max(y,O.lineHeight))}line.width=_,line.lineHeight=y,l+=y,h=Math.max(h,_)}for(t.outerWidth=t.width=J(style.textWidth,h),t.outerHeight=t.height=J(style.textHeight,l),d&&(t.outerWidth+=d[1]+d[3],t.outerHeight+=d[0]+d[2]),i=0;i<c.length;i++){var O,L=(O=c[i]).percentWidth;O.width=parseInt(L,10)/100*h}return t}function Mi(t,e,n){for(var r=""===e,o=e.split("\n"),l=t.lines,i=0;i<o.length;i++){var text=o[i],h={styleName:n,text:text,isLineHolder:!text&&!r};if(i)l.push({tokens:[h]});else{var c=(l[l.length-1]||(l[0]={tokens:[]})).tokens,d=c.length;1===d&&c[0].isLineHolder?c[0]=h:(text||!d||r)&&c.push(h)}}}function Ii(t,e){var n,r,o,l,h,c=e.x,d=e.y,f=e.width,v=e.height,m=e.r;f<0&&(c+=f,f=-f),v<0&&(d+=v,v=-v),"number"==typeof m?n=r=o=l=m:m instanceof Array?1===m.length?n=r=o=l=m[0]:2===m.length?(n=o=m[0],r=l=m[1]):3===m.length?(n=m[0],r=l=m[1],o=m[2]):(n=m[0],r=m[1],o=m[2],l=m[3]):n=r=o=l=0,n+r>f&&(n*=f/(h=n+r),r*=f/h),o+l>f&&(o*=f/(h=o+l),l*=f/h),r+o>v&&(r*=v/(h=r+o),o*=v/h),n+l>v&&(n*=v/(h=n+l),l*=v/h),t.moveTo(c+n,d),t.lineTo(c+f-r,d),0!==r&&t.arc(c+f-r,d+r,r,-Math.PI/2,0),t.lineTo(c+f,d+v-o),0!==o&&t.arc(c+f-o,d+v-o,o,0,Math.PI/2),t.lineTo(c+l,d+v),0!==l&&t.arc(c+l,d+v-l,l,Math.PI/2,Math.PI),t.lineTo(c,d+n),0!==n&&t.arc(c+n,d+n,n,Math.PI,1.5*Math.PI)}ui.measureText=function(text,t){var e=N();return e.font=t||hi,e.measureText(text)};var Ti=hi,Ci={left:1,right:1,center:1},Di={top:1,bottom:1,middle:1},ki=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Ai={},Pi={};function Oi(style){return Li(style),F(style.rich,Li),style}function Li(style){if(style){style.font=function(style){var t=(style.fontSize||style.fontFamily)&&[style.fontStyle,style.fontWeight,(style.fontSize||12)+"px",style.fontFamily||"sans-serif"].join(" ");return t&&at(t)||style.textFont||style.font}(style);var t=style.textAlign;"middle"===t&&(t="center"),style.textAlign=null==t||Ci[t]?t:"left";var e=style.textVerticalAlign||style.textBaseline;"center"===e&&(e="middle"),style.textVerticalAlign=null==e||Di[e]?e:"top",style.textPadding&&(style.textPadding=nt(style.textPadding))}}function Ni(t,e,text,style,rect,n){style.rich?function(t,e,text,style,rect,n){n!==Vn&&(e.__attrCachedBy=Hn.NONE);var r=t.__textCotentBlock;r&&!t.__dirtyText||(r=t.__textCotentBlock=Si(text,style)),function(t,e,n,style,rect){var r=n.width,o=n.outerWidth,l=n.outerHeight,h=style.textPadding,c=Hi(Pi,t,style,rect),d=c.baseX,f=c.baseY,v=c.textAlign,m=c.textVerticalAlign;Bi(e,style,rect,d,f);var y=fi(d,o,v),_=pi(f,l,m),x=y,w=_;h&&(x+=h[3],w+=h[0]);var S=x+r;Ei(style)&&zi(t,e,style,y,_,o,l);for(var i=0;i<n.lines.length;i++){for(var M,line=n.lines[i],I=line.tokens,T=I.length,C=line.lineHeight,D=line.width,k=0,A=x,P=S,O=T-1;k<T&&(!(M=I[k]).textAlign||"left"===M.textAlign);)Ri(t,e,M,style,C,w,A,"left"),D-=M.width,A+=M.width,k++;for(;O>=0&&"right"===(M=I[O]).textAlign;)Ri(t,e,M,style,C,w,P,"right"),D-=M.width,P-=M.width,O--;for(A+=(r-(A-x)-(S-P)-D)/2;k<=O;)M=I[k],Ri(t,e,M,style,C,w,A+M.width/2,"center"),A+=M.width,k++;w+=C}}(t,e,r,style,rect)}(t,e,text,style,rect,n):function(t,e,text,style,rect,n){var r,o=Ei(style),l=!1,h=e.__attrCachedBy===Hn.PLAIN_TEXT;n!==Vn?(n&&(r=n.style,l=!o&&h&&r),e.__attrCachedBy=o?Hn.NONE:Hn.PLAIN_TEXT):h&&(e.__attrCachedBy=Hn.NONE);var c=style.font||Ti;l&&c===(r.font||Ti)||(e.font=c);var d=t.__computedFont;t.__styleFont!==c&&(t.__styleFont=c,d=t.__computedFont=e.font);var f=style.textPadding,v=style.textLineHeight,m=t.__textCotentBlock;m&&!t.__dirtyText||(m=t.__textCotentBlock=bi(text,d,f,v,style.truncate));var y=m.outerHeight,_=m.lines,x=m.lineHeight,w=Hi(Pi,t,style,rect),S=w.baseX,M=w.baseY,I=w.textAlign||"left",T=w.textVerticalAlign;Bi(e,style,rect,S,M);var C=pi(M,y,T),D=S,k=C;if(o||f){var A=ci(text,d);f&&(A+=f[1]+f[3]);var P=fi(S,A,I);o&&zi(t,e,style,P,C,A,y),f&&(D=Yi(S,I,f),k+=f[0])}e.textAlign=I,e.textBaseline="middle",e.globalAlpha=style.opacity||1;for(var i=0;i<ki.length;i++){var O=ki[i],L=O[0],N=O[1],B=style[L];l&&B===r[L]||(e[N]=Fn(e,N,B||O[2]))}k+=x/2;var R=style.textStrokeWidth,E=l?r.textStrokeWidth:null,z=!l||R!==E,F=!l||z||style.textStroke!==r.textStroke,H=Wi(style.textStroke,R),V=Gi(style.textFill);if(H&&(z&&(e.lineWidth=R),F&&(e.strokeStyle=H)),V&&(l&&style.textFill===r.textFill||(e.fillStyle=V)),1===_.length)H&&e.strokeText(_[0],D,k),V&&e.fillText(_[0],D,k);else for(i=0;i<_.length;i++)H&&e.strokeText(_[i],D,k),V&&e.fillText(_[i],D,k),k+=x}(t,e,text,style,rect,n)}function Bi(t,style,rect,e,n){if(rect&&style.textRotation){var r=style.textOrigin;"center"===r?(e=rect.width/2+rect.x,n=rect.height/2+rect.y):r&&(e=r[0]+rect.x,n=r[1]+rect.y),t.translate(e,n),t.rotate(-style.textRotation),t.translate(-e,-n)}}function Ri(t,e,n,style,r,o,l,h){var c=style.rich[n.styleName]||{};c.text=n.text;var d=n.textVerticalAlign,f=o+r/2;"top"===d?f=o+n.height/2:"bottom"===d&&(f=o+r-n.height/2),!n.isLineHolder&&Ei(c)&&zi(t,e,c,"right"===h?l-n.width:"center"===h?l-n.width/2:l,f-n.height/2,n.width,n.height);var v=n.textPadding;v&&(l=Yi(l,h,v),f-=n.height/2-v[2]-n.textHeight/2),Vi(e,"shadowBlur",tt(c.textShadowBlur,style.textShadowBlur,0)),Vi(e,"shadowColor",c.textShadowColor||style.textShadowColor||"transparent"),Vi(e,"shadowOffsetX",tt(c.textShadowOffsetX,style.textShadowOffsetX,0)),Vi(e,"shadowOffsetY",tt(c.textShadowOffsetY,style.textShadowOffsetY,0)),Vi(e,"textAlign",h),Vi(e,"textBaseline","middle"),Vi(e,"font",n.font||Ti);var m=Wi(c.textStroke||style.textStroke,_),y=Gi(c.textFill||style.textFill),_=J(c.textStrokeWidth,style.textStrokeWidth);m&&(Vi(e,"lineWidth",_),Vi(e,"strokeStyle",m),e.strokeText(n.text,l,f)),y&&(Vi(e,"fillStyle",y),e.fillText(n.text,l,f))}function Ei(style){return!!(style.textBackgroundColor||style.textBorderWidth&&style.textBorderColor)}function zi(t,e,style,n,r,o,l){var h=style.textBackgroundColor,c=style.textBorderWidth,d=style.textBorderColor,f=Y(h);if(Vi(e,"shadowBlur",style.textBoxShadowBlur||0),Vi(e,"shadowColor",style.textBoxShadowColor||"transparent"),Vi(e,"shadowOffsetX",style.textBoxShadowOffsetX||0),Vi(e,"shadowOffsetY",style.textBoxShadowOffsetY||0),f||c&&d){e.beginPath();var v=style.textBorderRadius;v?Ii(e,{x:n,y:r,width:o,height:l,r:v}):e.rect(n,r,o,l),e.closePath()}if(f)if(Vi(e,"fillStyle",h),null!=style.fillOpacity){var m=e.globalAlpha;e.globalAlpha=style.fillOpacity*style.opacity,e.fill(),e.globalAlpha=m}else e.fill();else if(j(h)){var image=h.image;(image=ei(image,null,t,Fi,h))&&ii(image)&&e.drawImage(image,n,r,o,l)}c&&d&&(Vi(e,"lineWidth",c),Vi(e,"strokeStyle",d),null!=style.strokeOpacity?(m=e.globalAlpha,e.globalAlpha=style.strokeOpacity*style.opacity,e.stroke(),e.globalAlpha=m):e.stroke())}function Fi(image,t){t.image=image}function Hi(t,e,style,rect){var n=style.x||0,r=style.y||0,o=style.textAlign,l=style.textVerticalAlign;if(rect){var h=style.textPosition;if(h instanceof Array)n=rect.x+Xi(h[0],rect.width),r=rect.y+Xi(h[1],rect.height);else{var c=e&&e.calculateTextPosition?e.calculateTextPosition(Ai,style,rect):gi(Ai,style,rect);n=c.x,r=c.y,o=o||c.textAlign,l=l||c.textVerticalAlign}var d=style.textOffset;d&&(n+=d[0],r+=d[1])}return(t=t||{}).baseX=n,t.baseY=r,t.textAlign=o,t.textVerticalAlign=l,t}function Vi(t,e,n){return t[e]=Fn(t,e,n),t[e]}function Wi(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Gi(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Xi(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Yi(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function ji(text,style){return null!=text&&(text||style.textBackgroundColor||style.textBorderWidth&&style.textBorderColor||style.textPadding)}var Ui=new Tn,qi=function(){};function Zi(t){for(var e in t=t||{},_n.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new Gn(t.style,this),this._rect=null,this.__clipPaths=null}function Ki(t){Zi.call(this,t)}function $i(t){return parseInt(t,10)}qi.prototype={constructor:qi,drawRectText:function(t,rect){var style=this.style;rect=style.textRect||rect,this.__dirty&&Oi(style);var text=style.text;if(null!=text&&(text+=""),ji(text,style)){t.save();var e=this.transform;style.transformText?this.setTransform(t):e&&(Ui.copy(rect),Ui.applyTransform(e),rect=Ui),Ni(this,t,text,style,rect,Vn),t.restore()}}},Zi.prototype={constructor:Zi,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?_n.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new Gn(t,this),this.dirty(!1),this},calculateTextPosition:null},R(Zi,_n),E(Zi,qi),Ki.prototype={constructor:Ki,type:"image",brush:function(t,e){var style=this.style,n=style.image;style.bind(t,this,e);var image=this._image=ei(n,this._image,this,this.onload);if(image&&ii(image)){var r=style.x||0,o=style.y||0,l=style.width,h=style.height,c=image.width/image.height;if(null==l&&null!=h?l=h*c:null==h&&null!=l?h=l/c:null==l&&null==h&&(l=image.width,h=image.height),this.setTransform(t),style.sWidth&&style.sHeight){var d=style.sx||0,f=style.sy||0;t.drawImage(image,d,f,style.sWidth,style.sHeight,r,o,l,h)}else if(style.sx&&style.sy){var v=l-(d=style.sx),m=h-(f=style.sy);t.drawImage(image,d,f,v,m,r,o,l,h)}else t.drawImage(image,r,o,l,h);null!=style.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var style=this.style;return this._rect||(this._rect=new Tn(style.x||0,style.y||0,style.width||0,style.height||0)),this._rect}},R(Ki,Zi);var Qi=new Tn(0,0,0,0),Ji=new Tn(0,0,0,0),er=function(t,e,n){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=A({},n||{}),this.dpr=n.devicePixelRatio||fn,this._singleCanvas=r,this.root=t;var o=t.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var l=this._zlevelList=[],h=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var c=t.width,d=t.height;null!=n.width&&(c=n.width),null!=n.height&&(d=n.height),this.dpr=n.devicePixelRatio||1,t.width=c*this.dpr,t.height=d*this.dpr,this._width=c,this._height=d;var f=new $n(t,this,this.dpr);f.__builtin__=!0,f.initContext(),h[314159]=f,f.zlevel=314159,l.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var v=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(v)}this._hoverlayer=null,this._hoverElements=[]};er.prototype={constructor:er,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<n.length;i++){var r=n[i],o=this._layers[r];if(!o.__builtin__&&o.refresh){var l=0===i?this._backgroundColor:null;o.refresh(l)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return n.__from=t,t.__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,r=B(n,e);r>=0&&n.splice(r,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var n=e[i].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){Bn(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var r={};n.ctx.save();for(var i=0;i<e;){var o=t[i],l=o.__from;l&&l.__zr?(i++,l.invisible||(o.transform=l.transform,o.invTransform=l.invTransform,o.__clipPaths=l.__clipPaths,this._doPaintEl(o,n,!0,r))):(t.splice(i,1),l.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var o=this;Qn(function(){o._paintList(t,e,n)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},_doPaintList:function(t,e){for(var n=[],r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(c=this._layers[o]).__builtin__&&c!==this._hoverlayer&&(c.__dirty||e)&&n.push(c)}for(var l=!0,h=0;h<n.length;h++){var c,d=(c=n[h]).ctx,v={};d.save();var m=e?c.__startIndex:c.__drawIndex,y=!e&&c.incremental&&Date.now,_=y&&Date.now(),x=c.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(c.__startIndex===c.__endIndex)c.clear(!1,x);else if(m===c.__startIndex){var w=t[m];w.incremental&&w.notClear&&!e||c.clear(!1,x)}-1===m&&(console.error("For some unknown reason. drawIndex is -1"),m=c.__startIndex);for(var i=m;i<c.__endIndex;i++){var S=t[i];if(this._doPaintEl(S,c,e,v),S.__dirty=S.__dirtyText=!1,y&&Date.now()-_>15)break}c.__drawIndex=i,c.__drawIndex<c.__endIndex&&(l=!1),v.prevElClipPaths&&d.restore(),d.restore()}return f.wxa&&F(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),l},_doPaintEl:function(t,e,n,r){var o=e.ctx,l=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!l||l[0]||l[3])&&(!t.culling||!function(t,e,n){return Qi.copy(t.getBoundingRect()),t.transform&&Qi.applyTransform(t.transform),Ji.width=e,Ji.height=n,!Qi.intersect(Ji)}(t,this._width,this._height))){var h=t.__clipPaths,c=r.prevElClipPaths;c&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}(h,c)||(c&&(o.restore(),r.prevElClipPaths=null,r.prevEl=null),h&&(o.save(),function(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}(h,o),r.prevElClipPaths=h)),t.beforeBrush&&t.beforeBrush(o),t.brush(o,r.prevEl||null),r.prevEl=t,t.afterBrush&&t.afterBrush(o)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var n=this._layers[t];return n||((n=new $n("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]&&k(n,this._layerConfig[t],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,r=this._zlevelList,o=r.length,l=null,i=-1,h=this._domRoot;if(n[t])gn("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(o>0&&t>r[0]){for(i=0;i<o-1&&!(r[i]<t&&r[i+1]>t);i++);l=n[r[i]]}if(r.splice(i+1,0,t),n[t]=e,!e.virtual)if(l){var c=l.dom;c.nextSibling?h.insertBefore(e.dom,c.nextSibling):h.appendChild(e.dom)}else h.firstChild?h.insertBefore(e.dom,h.firstChild):h.appendChild(e.dom)}else gn("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,i,r=this._zlevelList;for(i=0;i<r.length;i++)n=r[i],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__&&t.call(e,n,r)},eachOtherLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__||t.call(e,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++)if((o=t[i]).zlevel!==t[i-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}var n=null,r=0;for(i=0;i<t.length;i++){var o,l,h=(o=t[i]).zlevel;o.incremental?((l=this.getLayer(h+.001,this._needsManuallyCompositing)).incremental=!0,r=1):l=this.getLayer(h+(r>0?.01:0),this._needsManuallyCompositing),l.__builtin__||gn("ZLevel "+h+" has been used by unkown layer "+l.id),l!==n&&(l.__used=!0,l.__startIndex!==i&&(l.__dirty=!0),l.__startIndex=i,l.incremental?l.__drawIndex=-1:l.__drawIndex=i,e(i),n=l),o.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?k(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];r!==t&&r!==t+.01||k(this._layers[r],n[t],!0)}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(B(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);F(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new $n("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,r=e.dom.height,o=e.ctx;this.eachLayer(function(t){t.__builtin__?o.drawImage(t.dom,0,0,n,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var l={},h=this.storage.getDisplayList(!0),i=0;i<h.length;i++){var c=h[i];this._doPaintEl(c,e,!0,l)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],l=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var h=this.root,c=document.defaultView.getComputedStyle(h);return(h[r]||$i(c[n])||$i(h.style[n]))-($i(c[o])||0)-($i(c[l])||0)|0},pathToImage:function(path,t){t=t||this.dpr;var canvas=document.createElement("canvas"),e=canvas.getContext("2d"),rect=path.getBoundingRect(),style=path.style,n=style.shadowBlur*t,r=style.shadowOffsetX*t,o=style.shadowOffsetY*t,l=style.hasStroke()?style.lineWidth:0,h=Math.max(l/2,-r+n),c=Math.max(l/2,r+n),d=Math.max(l/2,-o+n),f=Math.max(l/2,o+n),v=rect.width+h+c,m=rect.height+d+f;canvas.width=v*t,canvas.height=m*t,e.scale(t,t),e.clearRect(0,0,v,m),e.dpr=t;var y={position:path.position,rotation:path.rotation,scale:path.scale};path.position=[h-rect.x,d-rect.y],path.rotation=0,path.scale=[1,1],path.updateTransform(),path&&path.brush(e);var _=new Ki({style:{x:0,y:0,image:canvas}});return null!=y.position&&(_.position=path.position=y.position),null!=y.rotation&&(_.rotation=path.rotation=y.rotation),null!=y.scale&&(_.scale=path.scale=y.scale),_}};var nr=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,Bt.call(this)};nr.prototype={constructor:nr,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=B(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var time=(new Date).getTime()-this._pausedTime,t=time-this._time,e=this._clips,n=e.length,r=[],o=[],i=0;i<n;i++){var l=e[i],h=l.step(time,t);h&&(r.push(h),o.push(l))}for(i=0;i<n;)e[i]._needsRemove?(e[i]=e[n-1],e.pop(),n--):i++;for(n=r.length,i=0;i<n;i++)o[i].fire(r[i]);this._time=time,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,Qn(function e(){t._running&&(Qn(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var n=new cn(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},E(nr,Bt);var ir=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],rr=["touchstart","touchend","touchmove"],ar={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},or=map(ir,function(t){var e=t.replace("mouse","pointer");return ar[e]?e:t});function sr(t){return"mousewheel"===t&&f.browser.firefox?"DOMMouseScroll":t}function lr(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}var ur={mousemove:function(t){t=Yt(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var element=(t=Yt(this.dom,t)).toElement||t.relatedTarget;if(element!==this.dom)for(;element&&9!==element.nodeType;){if(element===this.dom)return;element=element.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=Yt(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(this,t,"start"),ur.mousemove.call(this,t),ur.mousedown.call(this,t),lr(this)},touchmove:function(t){(t=Yt(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"change"),ur.mousemove.call(this,t),lr(this)},touchend:function(t){(t=Yt(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"end"),ur.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&ur.click.call(this,t),lr(this)},pointerdown:function(t){ur.mousedown.call(this,t)},pointermove:function(t){cr(t)||ur.mousemove.call(this,t)},pointerup:function(t){ur.mouseup.call(this,t)},pointerout:function(t){cr(t)||ur.mouseout.call(this,t)}};function cr(t){var e=t.pointerType;return"pen"===e||"touch"===e}function dr(t){var e;function n(e,n){F(e,function(e){!function(t,e,n){Ft?t.addEventListener(e,n):t.attachEvent("on"+e,n)}(t,sr(e),n._handlers[e])},n)}Bt.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._handlers={},e=this,F(rr,function(t){e._handlers[t]=V(ur[t],e)}),F(or,function(t){e._handlers[t]=V(ur[t],e)}),F(ir,function(t){e._handlers[t]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(ur[t],e)}),f.pointerEventsSupported?n(or,this):(f.touchEventsSupported&&n(rr,this),n(ir,this))}F(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){ur[t]=function(e){e=Yt(this.dom,e),this.trigger(t,e)}});var fr=dr.prototype;fr.dispose=function(){for(var t=ir.concat(rr),i=0;i<t.length;i++){var e=t[i];jt(this.dom,sr(e),this._handlers[e])}},fr.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},E(dr,Bt);var pr=!f.canvasSupported,gr={canvas:er},vr={};function mr(t,e){var n=new yr(d(),t,e);return vr[n.id]=n,n}var yr=function(t,e,n){n=n||{},this.dom=e,this.id=t;var r=this,o=new En,l=n.renderer;if(pr){if(!gr.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");l="vml"}else l&&gr[l]||(l="canvas");var h=new gr[l](e,o,n,t);this.storage=o,this.painter=h;var c=f.node||f.worker?null:new dr(h.getViewportRoot());this.handler=new ne(o,h,c,h.root),this.animation=new nr({stage:{update:V(this.flush,this)}}),this.animation.start(),this._needsRefresh;var d=o.delFromStorage,v=o.addToStorage;o.delFromStorage=function(t){d.call(o,t),t&&t.removeSelfFromZr(r)},o.addToStorage=function(t){v.call(o,t),t.addSelfToZr(r)}};yr.prototype={constructor:yr,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,style){if(this.painter.addHover){var e=this.painter.addHover(t,style);return this.refreshHover(),e}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete vr[t]}};var _r=(Object.freeze||Object)({version:"4.1.1",init:mr,dispose:function(t){if(t)t.dispose();else{for(var e in vr)vr.hasOwnProperty(e)&&vr[e].dispose();vr={}}return this},getInstance:function(t){return vr[t]},registerPainter:function(t,e){gr[t]=e}}),xr=F,wr=j,Sr=G,Mr="series\0";function Ir(t){return t instanceof Array?t:null==t?[]:[t]}function Tr(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var Cr=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Dr(t){return!wr(t)||Sr(t)||t instanceof Date?t:t.value}function kr(t,e){e=(e||[]).slice();var n=map(t||[],function(t,e){return{exist:t}});return xr(e,function(t,r){if(wr(t)){for(var i=0;i<n.length;i++)if(!n[i].option&&null!=t.id&&n[i].exist.id===t.id+"")return n[i].option=t,void(e[r]=null);for(i=0;i<n.length;i++){var o=n[i].exist;if(!(n[i].option||null!=o.id&&null!=t.id||null==t.name||Pr(t)||Pr(o)||o.name!==t.name+""))return n[i].option=t,void(e[r]=null)}}}),xr(e,function(t,e){if(wr(t)){for(var i=0;i<n.length;i++){var r=n[i].exist;if(!n[i].option&&!Pr(r)&&null==t.id){n[i].option=t;break}}i>=n.length&&n.push({option:t})}}),n}function Ar(t){var e=t.name;return!(!e||!e.indexOf(Mr))}function Pr(t){return wr(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function Or(data,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?G(t.dataIndex)?map(t.dataIndex,function(t){return data.indexOfRawIndex(t)}):data.indexOfRawIndex(t.dataIndex):null!=t.name?G(t.name)?map(t.name,function(t){return data.indexOfName(t)}):data.indexOfName(t.name):void 0}function Lr(){var t="__\0ec_inner_"+Nr+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}var Nr=0;function Br(t,e,n){if(Y(e)){var r={};r[e+"Index"]=0,e=r}var o=n&&n.defaultMainType;!o||Rr(e,o+"Index")||Rr(e,o+"Id")||Rr(e,o+"Name")||(e[o+"Index"]=0);var l={};return xr(e,function(r,o){if(r=e[o],"dataIndex"!==o&&"dataIndexInside"!==o){var h=o.match(/^(\w+)(Index|Id|Name)$/)||[],c=h[1],d=(h[2]||"").toLowerCase();if(!(!c||!d||null==r||"index"===d&&"none"===r||n&&n.includeMainTypes&&B(n.includeMainTypes,c)<0)){var f={mainType:c};"index"===d&&"all"===r||(f[d]=r);var v=t.queryComponents(f);l[c+"Models"]=v,l[c+"Model"]=v[0]}}else l[o]=r}),l}function Rr(t,e){return t&&t.hasOwnProperty(e)}function Er(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function zr(t){return"auto"===t?f.domSupported?"html":"richText":t||"html"}var Fr=".",Hr="___EC__COMPONENT__CONTAINER___";function Vr(t){var e={main:"",sub:""};return t&&(t=t.split(Fr),e.main=t[0]||"",e.sub=t[1]||""),e}function Wr(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return A(n.prototype,t),n.extend=this.extend,n.superCall=Yr,n.superApply=jr,R(n,this),n.superClass=e,n}}var Gr=0;function Xr(t){var e=["__\0is_clz",Gr++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function Yr(t,e){var n=et(arguments,2);return this.superClass.prototype[e].apply(t,n)}function jr(t,e,n){return this.superClass.prototype[e].apply(t,n)}function Ur(t,e){e=e||{};var n={};if(t.registerClass=function(t,e){return e&&(function(t){it(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=Vr(e)).sub?e.sub!==Hr&&((function(t){var e=n[t.main];return e&&e[Hr]||((e=n[t.main]={})[Hr]=!0),e}(e))[e.sub]=t):n[e.main]=t),t},t.getClass=function(t,e,r){var o=n[t];if(o&&o[Hr]&&(o=e?o[e]:null),r&&!o)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return o},t.getClassesByMainType=function(t){t=Vr(t);var e=[],r=n[t.main];return r&&r[Hr]?F(r,function(t,n){n!==Hr&&e.push(t)}):e.push(r),e},t.hasClass=function(t){return t=Vr(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return F(n,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=Vr(t);var e=n[t.main];return e&&e[Hr]},t.parseClassType=Vr,e.registerWhenExtend){var r=t.extend;r&&(t.extend=function(e){var n=r.call(this,e);return t.registerClass(n,e.type)})}return t}var qr=function(t){for(var i=0;i<t.length;i++)t[i][1]||(t[i][1]=t[i][0]);return function(e,n,r){for(var style={},i=0;i<t.length;i++){var o=t[i][1];if(!(n&&B(n,o)>=0||r&&B(r,o)<0)){var l=e.getShallow(o);null!=l&&(style[t[i][0]]=l)}}return style}},Zr=qr([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Kr={getLineStyle:function(t){var style=Zr(this,t);return style.lineDash=this.getLineDash(style.lineWidth),style},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),r=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[r,r]:[n,n])}},$r=qr([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Qr={getAreaStyle:function(t,e){return $r(this,t,e)}},Jr=Math.pow,ta=Math.sqrt,ea=1e-8,na=1e-4,ia=ta(3),ra=1/3,aa=gt(),oa=gt(),sa=gt();function la(t){return t>-ea&&t<ea}function ha(t){return t>ea||t<-ea}function ua(t,e,n,r,o){var l=1-o;return l*l*(l*t+3*o*e)+o*o*(o*r+3*l*n)}function ca(t,e,n,r,o){var l=1-o;return 3*(((e-t)*l+2*(n-e)*o)*l+(r-n)*o*o)}function da(t,e,n,r,o){var b=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,l=3*e-3*t,h=0;if(la(a))ha(b)&&(d=-l/b)>=0&&d<=1&&(o[h++]=d);else{var c=b*b-4*a*l;if(la(c))o[0]=-b/(2*a);else if(c>0){var d,f=ta(c),v=(-b-f)/(2*a);(d=(-b+f)/(2*a))>=0&&d<=1&&(o[h++]=d),v>=0&&v<=1&&(o[h++]=v)}}return h}function fa(t,e,n,r,o,l){var h=(e-t)*o+t,c=(n-e)*o+e,d=(r-n)*o+n,f=(c-h)*o+h,v=(d-c)*o+c,m=(v-f)*o+f;l[0]=t,l[1]=h,l[2]=f,l[3]=m,l[4]=m,l[5]=v,l[6]=d,l[7]=r}function pa(t,e,n,r){var o=1-r;return o*(o*t+2*r*e)+r*r*n}function ga(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function va(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function ma(t,e,n,r,o){var l=(e-t)*r+t,h=(n-e)*r+e,c=(h-l)*r+l;o[0]=t,o[1]=l,o[2]=c,o[3]=c,o[4]=h,o[5]=n}var ya=Math.min,_a=Math.max,xa=Math.sin,wa=Math.cos,ba=2*Math.PI,Sa=gt(),Ma=gt(),Ia=gt();function Ta(t,e,n){if(0!==t.length){var i,p=t[0],r=p[0],o=p[0],l=p[1],h=p[1];for(i=1;i<t.length;i++)p=t[i],r=ya(r,p[0]),o=_a(o,p[0]),l=ya(l,p[1]),h=_a(h,p[1]);e[0]=r,e[1]=l,n[0]=o,n[1]=h}}function Ca(t,e,n,r,o,l){o[0]=ya(t,n),o[1]=ya(e,r),l[0]=_a(t,n),l[1]=_a(e,r)}var Da=[],ka=[];function Aa(t,e,n,r,o,l,h,c,d,f){var i,v=da,m=ua,y=v(t,n,o,h,Da);for(d[0]=1/0,d[1]=1/0,f[0]=-1/0,f[1]=-1/0,i=0;i<y;i++){var _=m(t,n,o,h,Da[i]);d[0]=ya(_,d[0]),f[0]=_a(_,f[0])}for(y=v(e,r,l,c,ka),i=0;i<y;i++){var x=m(e,r,l,c,ka[i]);d[1]=ya(x,d[1]),f[1]=_a(x,f[1])}d[0]=ya(t,d[0]),f[0]=_a(t,f[0]),d[0]=ya(h,d[0]),f[0]=_a(h,f[0]),d[1]=ya(e,d[1]),f[1]=_a(e,f[1]),d[1]=ya(c,d[1]),f[1]=_a(c,f[1])}function Pa(t,e,n,r,o,l,h,c){var d=va,f=pa,v=_a(ya(d(t,n,o),1),0),m=_a(ya(d(e,r,l),1),0),y=f(t,n,o,v),_=f(e,r,l,m);h[0]=ya(t,o,y),h[1]=ya(e,l,_),c[0]=_a(t,o,y),c[1]=_a(e,l,_)}function Oa(t,e,n,r,o,l,h,c,d){var f=At,v=Pt,m=Math.abs(o-l);if(m%ba<1e-4&&m>1e-4)return c[0]=t-n,c[1]=e-r,d[0]=t+n,void(d[1]=e+r);if(Sa[0]=wa(o)*n+t,Sa[1]=xa(o)*r+e,Ma[0]=wa(l)*n+t,Ma[1]=xa(l)*r+e,f(c,Sa,Ma),v(d,Sa,Ma),(o%=ba)<0&&(o+=ba),(l%=ba)<0&&(l+=ba),o>l&&!h?l+=ba:o<l&&h&&(o+=ba),h){var y=l;l=o,o=y}for(var _=0;_<l;_+=Math.PI/2)_>o&&(Ia[0]=wa(_)*n+t,Ia[1]=xa(_)*r+e,f(c,Ia,c),v(d,Ia,d))}var La={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Na=[],Ba=[],Ra=[],Ea=[],za=Math.min,Fa=Math.max,Ha=Math.cos,Va=Math.sin,Wa=Math.sqrt,Ga=Math.abs,Xa="undefined"!=typeof Float32Array,Ya=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};function ja(t,e,n,r,o,l,h){if(0===o)return!1;var c=o,d=0;if(h>e+c&&h>r+c||h<e-c&&h<r-c||l>t+c&&l>n+c||l<t-c&&l<n-c)return!1;if(t===n)return Math.abs(l-t)<=c/2;var f=(d=(e-r)/(t-n))*l-h+(t*r-n*e)/(t-n);return f*f/(d*d+1)<=c/2*c/2}function Ua(t,e,n,r,o,l,h,c,d,f,v){if(0===d)return!1;var m=d;return!(v>e+m&&v>r+m&&v>l+m&&v>c+m||v<e-m&&v<r-m&&v<l-m&&v<c-m||f>t+m&&f>n+m&&f>o+m&&f>h+m||f<t-m&&f<n-m&&f<o-m&&f<h-m)&&function(t,e,n,r,o,l,h,c,d,f,v){var m,y,_,x,w,S=.005,M=1/0;aa[0]=d,aa[1]=f;for(var I=0;I<1;I+=.05)oa[0]=ua(t,n,o,h,I),oa[1]=ua(e,r,l,c,I),(x=Dt(aa,oa))<M&&(m=I,M=x);M=1/0;for(var i=0;i<32&&!(S<na);i++)y=m-S,_=m+S,oa[0]=ua(t,n,o,h,y),oa[1]=ua(e,r,l,c,y),x=Dt(oa,aa),y>=0&&x<M?(m=y,M=x):(sa[0]=ua(t,n,o,h,_),sa[1]=ua(e,r,l,c,_),w=Dt(sa,aa),_<=1&&w<M?(m=_,M=w):S*=.5);return v&&(v[0]=ua(t,n,o,h,m),v[1]=ua(e,r,l,c,m)),ta(M)}(t,e,n,r,o,l,h,c,f,v,null)<=m/2}function qa(t,e,n,r,o,l,h,c,d){if(0===h)return!1;var f=h;return!(d>e+f&&d>r+f&&d>l+f||d<e-f&&d<r-f&&d<l-f||c>t+f&&c>n+f&&c>o+f||c<t-f&&c<n-f&&c<o-f)&&function(t,e,n,r,o,l,h,c,d){var f,v=.005,m=1/0;aa[0]=h,aa[1]=c;for(var y=0;y<1;y+=.05)oa[0]=pa(t,n,o,y),oa[1]=pa(e,r,l,y),(w=Dt(aa,oa))<m&&(f=y,m=w);m=1/0;for(var i=0;i<32&&!(v<na);i++){var _=f-v,x=f+v;oa[0]=pa(t,n,o,_),oa[1]=pa(e,r,l,_);var w=Dt(oa,aa);if(_>=0&&w<m)f=_,m=w;else{sa[0]=pa(t,n,o,x),sa[1]=pa(e,r,l,x);var S=Dt(sa,aa);x<=1&&S<m?(f=x,m=S):v*=.5}}return d&&(d[0]=pa(t,n,o,f),d[1]=pa(e,r,l,f)),ta(m)}(t,e,n,r,o,l,c,d,null)<=f/2}Ya.prototype={constructor:Ya,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,n){n=n||0,this._ux=Ga(n/fn/t)||0,this._uy=Ga(n/fn/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(La.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=Ga(t-this._xi)>this._ux||Ga(e-this._yi)>this._uy||this._len<5;return this.addData(La.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,r,o,l){return this.addData(La.C,t,e,n,r,o,l),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,r,o,l):this._ctx.bezierCurveTo(t,e,n,r,o,l)),this._xi=o,this._yi=l,this},quadraticCurveTo:function(t,e,n,r){return this.addData(La.Q,t,e,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},arc:function(t,e,n,r,o,l){return this.addData(La.A,t,e,n,n,r,o-r,0,l?0:1),this._ctx&&this._ctx.arc(t,e,n,r,o,l),this._xi=Ha(o)*n+t,this._yi=Va(o)*n+e,this},arcTo:function(t,e,n,r,o){return this._ctx&&this._ctx.arcTo(t,e,n,r,o),this},rect:function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(La.R,t,e,n,r),this},closePath:function(){this.addData(La.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(data){var t=data.length;this.data&&this.data.length===t||!Xa||(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=data[i];this._len=t},appendPath:function(path){path instanceof Array||(path=[path]);for(var t=path.length,e=0,n=this._len,i=0;i<t;i++)e+=path[i].len();for(Xa&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+e)),i=0;i<t;i++)for(var r=path[i].data,o=0;o<r.length;o++)this.data[n++]=r[o];this._len=n},addData:function(t){if(this._saveData){var data=this.data;this._len+arguments.length>data.length&&(this._expandData(),data=this.data);for(var i=0;i<arguments.length;i++)data[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],i=0;i<this._len;i++)t[i]=this.data[i];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,r,o=this._dashSum,l=this._dashOffset,h=this._lineDash,c=this._ctx,d=this._xi,f=this._yi,v=t-d,m=e-f,y=Wa(v*v+m*m),_=d,x=f,w=h.length;for(l<0&&(l=o+l),_-=(l%=o)*(v/=y),x-=l*(m/=y);v>0&&_<=t||v<0&&_>=t||0===v&&(m>0&&x<=e||m<0&&x>=e);)_+=v*(n=h[r=this._dashIdx]),x+=m*n,this._dashIdx=(r+1)%w,v>0&&_<d||v<0&&_>d||m>0&&x<f||m<0&&x>f||c[r%2?"moveTo":"lineTo"](v>=0?za(_,t):Fa(_,t),m>=0?za(x,e):Fa(x,e));v=_-t,m=x-e,this._dashOffset=-Wa(v*v+m*m)},_dashedBezierTo:function(t,e,n,r,o,l){var h,c,d,f,v,m=this._dashSum,y=this._dashOffset,_=this._lineDash,x=this._ctx,w=this._xi,S=this._yi,M=ua,I=0,T=this._dashIdx,C=_.length,D=0;for(y<0&&(y=m+y),y%=m,h=0;h<1;h+=.1)c=M(w,t,n,o,h+.1)-M(w,t,n,o,h),d=M(S,e,r,l,h+.1)-M(S,e,r,l,h),I+=Wa(c*c+d*d);for(;T<C&&!((D+=_[T])>y);T++);for(h=(D-y)/I;h<=1;)f=M(w,t,n,o,h),v=M(S,e,r,l,h),T%2?x.moveTo(f,v):x.lineTo(f,v),h+=_[T]/I,T=(T+1)%C;T%2!=0&&x.lineTo(o,l),c=o-f,d=l-v,this._dashOffset=-Wa(c*c+d*d)},_dashedQuadraticTo:function(t,e,n,r){var o=n,l=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,o,l)},toStatic:function(){var data=this.data;data instanceof Array&&(data.length=this._len,Xa&&(this.data=new Float32Array(data)))},getBoundingRect:function(){Na[0]=Na[1]=Ra[0]=Ra[1]=Number.MAX_VALUE,Ba[0]=Ba[1]=Ea[0]=Ea[1]=-Number.MAX_VALUE;for(var data=this.data,t=0,e=0,n=0,r=0,i=0;i<data.length;){var o=data[i++];switch(1===i&&(n=t=data[i],r=e=data[i+1]),o){case La.M:t=n=data[i++],e=r=data[i++],Ra[0]=n,Ra[1]=r,Ea[0]=n,Ea[1]=r;break;case La.L:Ca(t,e,data[i],data[i+1],Ra,Ea),t=data[i++],e=data[i++];break;case La.C:Aa(t,e,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],Ra,Ea),t=data[i++],e=data[i++];break;case La.Q:Pa(t,e,data[i++],data[i++],data[i],data[i+1],Ra,Ea),t=data[i++],e=data[i++];break;case La.A:var l=data[i++],h=data[i++],c=data[i++],d=data[i++],f=data[i++],v=data[i++]+f;i+=1;var m=1-data[i++];1===i&&(n=Ha(f)*c+l,r=Va(f)*d+h),Oa(l,h,c,d,f,v,m,Ra,Ea),t=Ha(v)*c+l,e=Va(v)*d+h;break;case La.R:Ca(n=t=data[i++],r=e=data[i++],n+data[i++],r+data[i++],Ra,Ea);break;case La.Z:t=n,e=r}At(Na,Na,Ra),Pt(Ba,Ba,Ea)}return 0===i&&(Na[0]=Na[1]=Ba[0]=Ba[1]=0),new Tn(Na[0],Na[1],Ba[0]-Na[0],Ba[1]-Na[1])},rebuildPath:function(t){for(var e,n,r,o,l,h,c=this.data,d=this._ux,f=this._uy,v=this._len,i=0;i<v;){var m=c[i++];switch(1===i&&(e=r=c[i],n=o=c[i+1]),m){case La.M:e=r=c[i++],n=o=c[i++],t.moveTo(r,o);break;case La.L:l=c[i++],h=c[i++],(Ga(l-r)>d||Ga(h-o)>f||i===v-1)&&(t.lineTo(l,h),r=l,o=h);break;case La.C:t.bezierCurveTo(c[i++],c[i++],c[i++],c[i++],c[i++],c[i++]),r=c[i-2],o=c[i-1];break;case La.Q:t.quadraticCurveTo(c[i++],c[i++],c[i++],c[i++]),r=c[i-2],o=c[i-1];break;case La.A:var y=c[i++],_=c[i++],x=c[i++],w=c[i++],S=c[i++],M=c[i++],I=c[i++],T=c[i++],C=x>w?x:w,D=x>w?1:x/w,k=x>w?w/x:1,A=S+M;Math.abs(x-w)>.001?(t.translate(y,_),t.rotate(I),t.scale(D,k),t.arc(0,0,C,S,A,1-T),t.scale(1/D,1/k),t.rotate(-I),t.translate(-y,-_)):t.arc(y,_,C,S,A,1-T),1===i&&(e=Ha(S)*x+y,n=Va(S)*w+_),r=Ha(A)*x+y,o=Va(A)*w+_;break;case La.R:e=r=c[i],n=o=c[i+1],t.rect(c[i++],c[i++],c[i++],c[i++]);break;case La.Z:t.closePath(),r=e,o=n}}}},Ya.CMD=La;var Za=2*Math.PI;function Ka(t){return(t%=Za)<0&&(t+=Za),t}var $a=2*Math.PI;function Qa(t,e,n,r,o,l,h,c,d){if(0===h)return!1;var f=h;c-=t,d-=e;var v=Math.sqrt(c*c+d*d);if(v-f>n||v+f<n)return!1;if(Math.abs(r-o)%$a<1e-4)return!0;if(l){var m=r;r=Ka(o),o=Ka(m)}else r=Ka(r),o=Ka(o);r>o&&(o+=$a);var y=Math.atan2(d,c);return y<0&&(y+=$a),y>=r&&y<=o||y+$a>=r&&y+$a<=o}function Ja(t,e,n,r,o,l){if(l>e&&l>r||l<e&&l<r)return 0;if(r===e)return 0;var h=r<e?1:-1,c=(l-e)/(r-e);1!==c&&0!==c||(h=r<e?.5:-.5);var d=c*(n-t)+t;return d===o?1/0:d>o?h:0}var to=Ya.CMD,eo=2*Math.PI,no=1e-4,io=[-1,-1,-1],ro=[-1,-1];function ao(t,e,n,r,o,l,h,c,d,f){if(f>e&&f>r&&f>l&&f>c||f<e&&f<r&&f<l&&f<c)return 0;var v,m=function(t,e,n,r,o,l){var a=r+3*(e-n)-t,b=3*(n-2*e+t),h=3*(e-t),c=t-o,d=b*b-3*a*h,f=b*h-9*a*c,v=h*h-3*b*c,m=0;if(la(d)&&la(f))la(b)?l[0]=0:(k=-h/b)>=0&&k<=1&&(l[m++]=k);else{var y=f*f-4*d*v;if(la(y)){var _=f/d,x=-_/2;(k=-b/a+_)>=0&&k<=1&&(l[m++]=k),x>=0&&x<=1&&(l[m++]=x)}else if(y>0){var w=ta(y),S=d*b+1.5*a*(-f+w),M=d*b+1.5*a*(-f-w);(k=(-b-((S=S<0?-Jr(-S,ra):Jr(S,ra))+(M=M<0?-Jr(-M,ra):Jr(M,ra))))/(3*a))>=0&&k<=1&&(l[m++]=k)}else{var I=(2*d*b-3*a*f)/(2*ta(d*d*d)),T=Math.acos(I)/3,C=ta(d),D=Math.cos(T),k=(-b-2*C*D)/(3*a),A=(x=(-b+C*(D+ia*Math.sin(T)))/(3*a),(-b+C*(D-ia*Math.sin(T)))/(3*a));k>=0&&k<=1&&(l[m++]=k),x>=0&&x<=1&&(l[m++]=x),A>=0&&A<=1&&(l[m++]=A)}}return m}(e,r,l,c,f,io);if(0===m)return 0;for(var y,_,x=0,w=-1,i=0;i<m;i++){var S=io[i],M=0===S||1===S?.5:1;ua(t,n,o,h,S)<d||(w<0&&(w=da(e,r,l,c,ro),ro[1]<ro[0]&&w>1&&(v=void 0,v=ro[0],ro[0]=ro[1],ro[1]=v),y=ua(e,r,l,c,ro[0]),w>1&&(_=ua(e,r,l,c,ro[1]))),2===w?S<ro[0]?x+=y<e?M:-M:S<ro[1]?x+=_<y?M:-M:x+=c<_?M:-M:S<ro[0]?x+=y<e?M:-M:x+=c<y?M:-M)}return x}function oo(t,e,n,r,o,l,h,c){if(c>e&&c>r&&c>l||c<e&&c<r&&c<l)return 0;var d=function(t,e,n,r,o){var a=t-2*e+n,b=2*(e-t),l=t-r,h=0;if(la(a))ha(b)&&(d=-l/b)>=0&&d<=1&&(o[h++]=d);else{var c=b*b-4*a*l;if(la(c))(d=-b/(2*a))>=0&&d<=1&&(o[h++]=d);else if(c>0){var d,f=ta(c),v=(-b-f)/(2*a);(d=(-b+f)/(2*a))>=0&&d<=1&&(o[h++]=d),v>=0&&v<=1&&(o[h++]=v)}}return h}(e,r,l,c,io);if(0===d)return 0;var f=va(e,r,l);if(f>=0&&f<=1){for(var v=0,m=pa(e,r,l,f),i=0;i<d;i++){var y=0===io[i]||1===io[i]?.5:1;pa(t,n,o,io[i])<h||(io[i]<f?v+=m<e?y:-y:v+=l<m?y:-y)}return v}return y=0===io[0]||1===io[0]?.5:1,pa(t,n,o,io[0])<h?0:l<e?y:-y}function so(t,e,n,r,o,l,h,c){if((c-=e)>n||c<-n)return 0;var d=Math.sqrt(n*n-c*c);io[0]=-d,io[1]=d;var f=Math.abs(r-o);if(f<1e-4)return 0;if(f%eo<1e-4){r=0,o=eo;var v=l?1:-1;return h>=io[0]+t&&h<=io[1]+t?v:0}l?(d=r,r=Ka(o),o=Ka(d)):(r=Ka(r),o=Ka(o)),r>o&&(o+=eo);for(var m=0,i=0;i<2;i++){var y=io[i];if(y+t>h){var _=Math.atan2(c,y);v=l?1:-1,_<0&&(_=eo+_),(_>=r&&_<=o||_+eo>=r&&_+eo<=o)&&(_>Math.PI/2&&_<1.5*Math.PI&&(v=-v),m+=v)}}return m}function lo(data,t,e,n,r){for(var a,b,o=0,l=0,h=0,c=0,d=0,i=0;i<data.length;){var f=data[i++];switch(f===to.M&&i>1&&(e||(o+=Ja(l,h,c,d,n,r))),1===i&&(c=l=data[i],d=h=data[i+1]),f){case to.M:l=c=data[i++],h=d=data[i++];break;case to.L:if(e){if(ja(l,h,data[i],data[i+1],t,n,r))return!0}else o+=Ja(l,h,data[i],data[i+1],n,r)||0;l=data[i++],h=data[i++];break;case to.C:if(e){if(Ua(l,h,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],t,n,r))return!0}else o+=ao(l,h,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],n,r)||0;l=data[i++],h=data[i++];break;case to.Q:if(e){if(qa(l,h,data[i++],data[i++],data[i],data[i+1],t,n,r))return!0}else o+=oo(l,h,data[i++],data[i++],data[i],data[i+1],n,r)||0;l=data[i++],h=data[i++];break;case to.A:var v=data[i++],m=data[i++],y=data[i++],_=data[i++],x=data[i++],w=data[i++];i+=1;var S=1-data[i++],M=Math.cos(x)*y+v,I=Math.sin(x)*_+m;i>1?o+=Ja(l,h,M,I,n,r):(c=M,d=I);var T=(n-v)*_/y+v;if(e){if(Qa(v,m,_,x,x+w,S,t,T,r))return!0}else o+=so(v,m,_,x,x+w,S,T,r);l=Math.cos(x+w)*y+v,h=Math.sin(x+w)*_+m;break;case to.R:if(c=l=data[i++],d=h=data[i++],M=c+data[i++],I=d+data[i++],e){if(ja(c,d,M,d,t,n,r)||ja(M,d,M,I,t,n,r)||ja(M,I,c,I,t,n,r)||ja(c,I,c,d,t,n,r))return!0}else o+=Ja(M,d,M,I,n,r),o+=Ja(c,I,c,d,n,r);break;case to.Z:if(e){if(ja(l,h,c,d,t,n,r))return!0}else o+=Ja(l,h,c,d,n,r);l=c,h=d}}return e||(a=h,b=d,Math.abs(a-b)<no)||(o+=Ja(l,h,c,d,n,r)||0),0!==o}var ho=qn.prototype.getCanvasPattern,uo=Math.abs,co=new Ya(!0);function fo(t){Zi.call(this,t),this.path=null}fo.prototype={constructor:fo,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var rect,style=this.style,path=this.path||co,n=style.hasStroke(),r=style.hasFill(),o=style.fill,l=style.stroke,h=r&&!!o.colorStops,c=n&&!!l.colorStops,d=r&&!!o.image,f=n&&!!l.image;style.bind(t,this,e),this.setTransform(t),this.__dirty&&(h&&(rect=rect||this.getBoundingRect(),this._fillGradient=style.getGradient(t,o,rect)),c&&(rect=rect||this.getBoundingRect(),this._strokeGradient=style.getGradient(t,l,rect))),h?t.fillStyle=this._fillGradient:d&&(t.fillStyle=ho.call(o,t)),c?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=ho.call(l,t));var v=style.lineDash,m=style.lineDashOffset,y=!!t.setLineDash,_=this.getGlobalScale();if(path.setScale(_[0],_[1],this.segmentIgnoreThreshold),this.__dirtyPath||v&&!y&&n?(path.beginPath(t),v&&!y&&(path.setLineDash(v),path.setLineDashOffset(m)),this.buildPath(path,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),r)if(null!=style.fillOpacity){var x=t.globalAlpha;t.globalAlpha=style.fillOpacity*style.opacity,path.fill(t),t.globalAlpha=x}else path.fill(t);v&&y&&(t.setLineDash(v),t.lineDashOffset=m),n&&(null!=style.strokeOpacity?(x=t.globalAlpha,t.globalAlpha=style.strokeOpacity*style.opacity,path.stroke(t),t.globalAlpha=x):path.stroke(t)),v&&y&&t.setLineDash([]),null!=style.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new Ya},getBoundingRect:function(){var rect=this._rect,style=this.style,t=!rect;if(t){var path=this.path;path||(path=this.path=new Ya),this.__dirtyPath&&(path.beginPath(),this.buildPath(path,this.shape,!1)),rect=path.getBoundingRect()}if(this._rect=rect,style.hasStroke()){var e=this._rectWithStroke||(this._rectWithStroke=rect.clone());if(this.__dirty||t){e.copy(rect);var n=style.lineWidth,r=style.strokeNoScale?this.getLineScale():1;style.hasFill()||(n=Math.max(n,this.strokeContainThreshold||4)),r>1e-10&&(e.width+=n/r,e.height+=n/r,e.x-=n/r/2,e.y-=n/r/2)}return e}return rect},contain:function(t,e){var n=this.transformCoordToLocal(t,e),rect=this.getBoundingRect(),style=this.style;if(t=n[0],e=n[1],rect.contain(t,e)){var r=this.path.data;if(style.hasStroke()){var o=style.lineWidth,l=style.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(style.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),function(t,e,n,r){return lo(t,e,!0,n,r)}(r,o/l,t,e)))return!0}if(style.hasFill())return function(t,e,n){return lo(t,0,!1,e,n)}(r,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Zi.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(j(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&uo(t[0]-1)>1e-10&&uo(t[3]-1)>1e-10?Math.sqrt(uo(t[0]*t[3]-t[2]*t[1])):1}},fo.extend=function(t){var e=function(e){fo.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var o in n)!r.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(r[o]=n[o])}t.init&&t.init.call(this,e)};for(var n in R(e,fo),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},R(fo,Zi);var po=Ya.CMD,go=[[],[],[]],vo=Math.sqrt,mo=Math.atan2,yo=function(path,t){var e,n,i,r,o,data=path.data,l=po.M,h=po.C,c=po.L,d=po.R,f=po.A,v=po.Q;for(i=0,r=0;i<data.length;){switch(e=data[i++],r=i,n=0,e){case l:case c:n=1;break;case h:n=3;break;case v:n=2;break;case f:var m=t[4],y=t[5],_=vo(t[0]*t[0]+t[1]*t[1]),x=vo(t[2]*t[2]+t[3]*t[3]),w=mo(-t[1]/x,t[0]/_);data[i]*=_,data[i++]+=m,data[i]*=x,data[i++]+=y,data[i++]*=_,data[i++]*=x,data[i++]+=w,data[i++]+=w,r=i+=2;break;case d:p[0]=data[i++],p[1]=data[i++],kt(p,p,t),data[r++]=p[0],data[r++]=p[1],p[0]+=data[i++],p[1]+=data[i++],kt(p,p,t),data[r++]=p[0],data[r++]=p[1]}for(o=0;o<n;o++){var p;(p=go[o])[0]=data[i++],p[1]=data[i++],kt(p,p,t),data[r++]=p[0],data[r++]=p[1]}}},_o=Math.sqrt,xo=Math.sin,wo=Math.cos,bo=Math.PI,So=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},Mo=function(u,t){return(u[0]*t[0]+u[1]*t[1])/(So(u)*So(t))},Io=function(u,t){return(u[0]*t[1]<u[1]*t[0]?-1:1)*Math.acos(Mo(u,t))};function To(t,e,n,r,o,l,h,c,d,f,path){var v=d*(bo/180),m=wo(v)*(t-n)/2+xo(v)*(e-r)/2,y=-1*xo(v)*(t-n)/2+wo(v)*(e-r)/2,_=m*m/(h*h)+y*y/(c*c);_>1&&(h*=_o(_),c*=_o(_));var x=(o===l?-1:1)*_o((h*h*(c*c)-h*h*(y*y)-c*c*(m*m))/(h*h*(y*y)+c*c*(m*m)))||0,w=x*h*y/c,S=x*-c*m/h,M=(t+n)/2+wo(v)*w-xo(v)*S,I=(e+r)/2+xo(v)*w+wo(v)*S,T=Io([1,0],[(m-w)/h,(y-S)/c]),u=[(m-w)/h,(y-S)/c],C=[(-1*m-w)/h,(-1*y-S)/c],D=Io(u,C);Mo(u,C)<=-1&&(D=bo),Mo(u,C)>=1&&(D=0),0===l&&D>0&&(D-=2*bo),1===l&&D<0&&(D+=2*bo),path.addData(f,M,I,h,c,T,D,v,l)}var Co=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Do=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ko(t,e){var n=function(data){if(!data)return new Ya;for(var t,e=0,n=0,r=e,o=n,path=new Ya,l=Ya.CMD,h=data.match(Co),c=0;c<h.length;c++){for(var d,f=h[c],v=f.charAt(0),p=f.match(Do)||[],m=p.length,i=0;i<m;i++)p[i]=parseFloat(p[i]);for(var y=0;y<m;){var _,x,w,S,M,I,T,C=e,D=n;switch(v){case"l":e+=p[y++],n+=p[y++],d=l.L,path.addData(d,e,n);break;case"L":e=p[y++],n=p[y++],d=l.L,path.addData(d,e,n);break;case"m":e+=p[y++],n+=p[y++],d=l.M,path.addData(d,e,n),r=e,o=n,v="l";break;case"M":e=p[y++],n=p[y++],d=l.M,path.addData(d,e,n),r=e,o=n,v="L";break;case"h":e+=p[y++],d=l.L,path.addData(d,e,n);break;case"H":e=p[y++],d=l.L,path.addData(d,e,n);break;case"v":n+=p[y++],d=l.L,path.addData(d,e,n);break;case"V":n=p[y++],d=l.L,path.addData(d,e,n);break;case"C":d=l.C,path.addData(d,p[y++],p[y++],p[y++],p[y++],p[y++],p[y++]),e=p[y-2],n=p[y-1];break;case"c":d=l.C,path.addData(d,p[y++]+e,p[y++]+n,p[y++]+e,p[y++]+n,p[y++]+e,p[y++]+n),e+=p[y-2],n+=p[y-1];break;case"S":_=e,x=n;var k=path.len(),A=path.data;t===l.C&&(_+=e-A[k-4],x+=n-A[k-3]),d=l.C,C=p[y++],D=p[y++],e=p[y++],n=p[y++],path.addData(d,_,x,C,D,e,n);break;case"s":_=e,x=n,k=path.len(),A=path.data,t===l.C&&(_+=e-A[k-4],x+=n-A[k-3]),d=l.C,C=e+p[y++],D=n+p[y++],e+=p[y++],n+=p[y++],path.addData(d,_,x,C,D,e,n);break;case"Q":C=p[y++],D=p[y++],e=p[y++],n=p[y++],d=l.Q,path.addData(d,C,D,e,n);break;case"q":C=p[y++]+e,D=p[y++]+n,e+=p[y++],n+=p[y++],d=l.Q,path.addData(d,C,D,e,n);break;case"T":_=e,x=n,k=path.len(),A=path.data,t===l.Q&&(_+=e-A[k-4],x+=n-A[k-3]),e=p[y++],n=p[y++],d=l.Q,path.addData(d,_,x,e,n);break;case"t":_=e,x=n,k=path.len(),A=path.data,t===l.Q&&(_+=e-A[k-4],x+=n-A[k-3]),e+=p[y++],n+=p[y++],d=l.Q,path.addData(d,_,x,e,n);break;case"A":w=p[y++],S=p[y++],M=p[y++],I=p[y++],T=p[y++],To(C=e,D=n,e=p[y++],n=p[y++],I,T,w,S,M,d=l.A,path);break;case"a":w=p[y++],S=p[y++],M=p[y++],I=p[y++],T=p[y++],To(C=e,D=n,e+=p[y++],n+=p[y++],I,T,w,S,M,d=l.A,path)}}"z"!==v&&"Z"!==v||(d=l.Z,path.addData(d),e=r,n=o),t=d}return path.toStatic(),path}(t);return(e=e||{}).buildPath=function(path){if(path.setData)path.setData(n.data),(t=path.getContext())&&path.rebuildPath(t);else{var t=path;n.rebuildPath(t)}},e.applyTransform=function(t){yo(n,t),this.dirty(!0)},e}function Ao(t,e){return new fo(ko(t,e))}var Po=function(t){Zi.call(this,t)};Po.prototype={constructor:Po,type:"text",brush:function(t,e){var style=this.style;this.__dirty&&Oi(style),style.fill=style.stroke=style.shadowBlur=style.shadowColor=style.shadowOffsetX=style.shadowOffsetY=null;var text=style.text;null!=text&&(text+=""),ji(text,style)?(this.setTransform(t),Ni(this,t,text,style,null,e),this.restoreTransform(t)):t.__attrCachedBy=Hn.NONE},getBoundingRect:function(){var style=this.style;if(this.__dirty&&Oi(style),!this._rect){var text=style.text;null!=text?text+="":text="";var rect=di(style.text+"",style.font,style.textAlign,style.textVerticalAlign,style.textPadding,style.textLineHeight,style.rich);if(rect.x+=style.x||0,rect.y+=style.y||0,Wi(style.textStroke,style.textStrokeWidth)){var t=style.textStrokeWidth;rect.x-=t/2,rect.y-=t/2,rect.width+=t,rect.height+=t}this._rect=rect}return this._rect}},R(Po,Zi);var Oo,Lo=fo.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),No=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Bo=fo.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:(Oo=fo.prototype.brush,f.browser.ie&&f.browser.version>=11?function(){var t,e=this.__clipPaths,style=this.style;if(e)for(var i=0;i<e.length;i++){var n=e[i],r=n&&n.shape,o=n&&n.type;if(r&&("sector"===o&&r.startAngle===r.endAngle||"rect"===o&&(!r.width||!r.height))){for(var l=0;l<No.length;l++)No[l][2]=style[No[l][0]],style[No[l][0]]=No[l][1];t=!0;break}}if(Oo.apply(this,arguments),t)for(l=0;l<No.length;l++)style[No[l][0]]=No[l][2]}:Oo),buildPath:function(t,e){var n=e.cx,r=e.cy,o=Math.max(e.r0||0,0),l=Math.max(e.r,0),h=e.startAngle,c=e.endAngle,d=e.clockwise,f=Math.cos(h),v=Math.sin(h);t.moveTo(f*o+n,v*o+r),t.lineTo(f*l+n,v*l+r),t.arc(n,r,l,h,c,!d),t.lineTo(Math.cos(c)*o+n,Math.sin(c)*o+r),0!==o&&t.arc(n,r,o,c,h,d),t.closePath()}}),Ro=fo.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,r=e.cy,o=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,o,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,o,!0)}});function Eo(t,e,n,r,o,l,h){var c=.5*(n-t),d=.5*(r-e);return(2*(e-n)+c+d)*h+(-3*(e-n)-2*c-d)*l+c*o+e}var zo=function(t,e){for(var n=t.length,r=[],o=0,i=1;i<n;i++)o+=It(t[i-1],t[i]);var l=o/2;for(l=l<n?n:l,i=0;i<l;i++){var h,c,d,f=i/(l-1)*(e?n:n-1),v=Math.floor(f),m=f-v,y=t[v%n];e?(h=t[(v-1+n)%n],c=t[(v+1)%n],d=t[(v+2)%n]):(h=t[0===v?v:v-1],c=t[v>n-2?n-1:v+1],d=t[v>n-3?n-1:v+2]);var _=m*m,x=m*_;r.push([Eo(h[0],y[0],c[0],d[0],m,_,x),Eo(h[1],y[1],c[1],d[1],m,_,x)])}return r},Fo=function(t,e,n,r){var o,l,h,c,d=[],f=[],v=[],m=[];if(r){h=[1/0,1/0],c=[-1/0,-1/0];for(var i=0,y=t.length;i<y;i++)At(h,h,t[i]),Pt(c,c,t[i]);At(h,h,r[0]),Pt(c,c,r[1])}for(i=0,y=t.length;i<y;i++){var _=t[i];if(n)o=t[i?i-1:y-1],l=t[(i+1)%y];else{if(0===i||i===y-1){d.push(mt(t[i]));continue}o=t[i-1],l=t[i+1]}sub(f,l,o),St(f,f,e);var x=It(_,o),w=It(_,l),S=x+w;0!==S&&(x/=S,w/=S),St(v,f,-x),St(m,f,w);var M=yt([],_,v),I=yt([],_,m);r&&(Pt(M,M,h),At(M,M,c),Pt(I,I,h),At(I,I,c)),d.push(M),d.push(I)}return n&&d.push(d.shift()),d};function Ho(t,e,n){var r=e.points,o=e.smooth;if(r&&r.length>=2){if(o&&"spline"!==o){var l=Fo(r,o,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var h=r.length,i=0;i<(n?h:h-1);i++){var c=l[2*i],d=l[2*i+1],p=r[(i+1)%h];t.bezierCurveTo(c[0],c[1],d[0],d[1],p[0],p[1])}}else{"spline"===o&&(r=zo(r,n)),t.moveTo(r[0][0],r[0][1]),i=1;for(var f=r.length;i<f;i++)t.lineTo(r[i][0],r[i][1])}n&&t.closePath()}}var Vo=fo.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Ho(t,e,!0)}}),Wo=fo.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Ho(t,e,!1)}}),Go=Math.round;function Xo(t,e,style){var n=style&&style.lineWidth;if(e&&n){var r=e.x1,o=e.x2,l=e.y1,h=e.y2;Go(2*r)===Go(2*o)?t.x1=t.x2=jo(r,n,!0):(t.x1=r,t.x2=o),Go(2*l)===Go(2*h)?t.y1=t.y2=jo(l,n,!0):(t.y1=l,t.y2=h)}}function Yo(t,e,style){var n=style&&style.lineWidth;if(e&&n){var r=e.x,o=e.y,l=e.width,h=e.height;t.x=jo(r,n,!0),t.y=jo(o,n,!0),t.width=Math.max(jo(r+l,n,!1)-t.x,0===l?0:1),t.height=Math.max(jo(o+h,n,!1)-t.y,0===h?0:1)}}function jo(t,e,n){var r=Go(2*t);return(r+Go(e))%2==0?r/2:(r+(n?1:-1))/2}var Uo={},qo=fo.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n,r,o,l;this.subPixelOptimize?(Yo(Uo,e,this.style),n=Uo.x,r=Uo.y,o=Uo.width,l=Uo.height,Uo.r=e.r,e=Uo):(n=e.x,r=e.y,o=e.width,l=e.height),e.r?Ii(t,e):t.rect(n,r,o,l),t.closePath()}}),Zo={},Ko=fo.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,r,o,l;this.subPixelOptimize?(Xo(Zo,e,this.style),n=Zo.x1,r=Zo.y1,o=Zo.x2,l=Zo.y2):(n=e.x1,r=e.y1,o=e.x2,l=e.y2);var h=e.percent;0!==h&&(t.moveTo(n,r),h<1&&(o=n*(1-h)+o*h,l=r*(1-h)+l*h),t.lineTo(o,l))},pointAt:function(p){var t=this.shape;return[t.x1*(1-p)+t.x2*p,t.y1*(1-p)+t.y2*p]}}),$o=[];function Qo(t,e,n){var r=t.cpx2,o=t.cpy2;return null===r||null===o?[(n?ca:ua)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?ca:ua)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?ga:pa)(t.x1,t.cpx1,t.x2,e),(n?ga:pa)(t.y1,t.cpy1,t.y2,e)]}var Jo=fo.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,o=e.x2,l=e.y2,h=e.cpx1,c=e.cpy1,d=e.cpx2,f=e.cpy2,v=e.percent;0!==v&&(t.moveTo(n,r),null==d||null==f?(v<1&&(ma(n,h,o,v,$o),h=$o[1],o=$o[2],ma(r,c,l,v,$o),c=$o[1],l=$o[2]),t.quadraticCurveTo(h,c,o,l)):(v<1&&(fa(n,h,d,o,v,$o),h=$o[1],d=$o[2],o=$o[3],fa(r,c,f,l,v,$o),c=$o[1],f=$o[2],l=$o[3]),t.bezierCurveTo(h,c,d,f,o,l)))},pointAt:function(t){return Qo(this.shape,t,!1)},tangentAt:function(t){var p=Qo(this.shape,t,!0);return Mt(p,p)}}),ts=fo.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,o=Math.max(e.r,0),l=e.startAngle,h=e.endAngle,c=e.clockwise,d=Math.cos(l),f=Math.sin(l);t.moveTo(d*o+n,f*o+r),t.arc(n,r,o,l,h,!c)}}),es=fo.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1],t[i].segmentIgnoreThreshold)},buildPath:function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),fo.prototype.getBoundingRect.call(this)}}),ns=function(t){this.colorStops=t||[]};ns.prototype={constructor:ns,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var is=function(t,e,n,r,o,l){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=l||!1,ns.call(this,o)};is.prototype={constructor:is},R(is,ns);var rs=function(t,e,n,r,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=o||!1,ns.call(this,r)};function as(t){Zi.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}rs.prototype={constructor:rs},R(rs,ns),as.prototype.incremental=!0,as.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},as.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},as.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},as.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},as.prototype.update=function(){this.updateTransform();for(var i=this._cursor;i<this._displayables.length;i++)(t=this._displayables[i]).parent=this,t.update(),t.parent=null;for(i=0;i<this._temporaryDisplayables.length;i++){var t;(t=this._temporaryDisplayables[i]).parent=this,t.update(),t.parent=null}},as.prototype.brush=function(t,e){for(var i=this._cursor;i<this._displayables.length;i++)(n=this._displayables[i]).beforeBrush&&n.beforeBrush(t),n.brush(t,i===this._cursor?null:this._displayables[i-1]),n.afterBrush&&n.afterBrush(t);for(this._cursor=i,i=0;i<this._temporaryDisplayables.length;i++){var n;(n=this._temporaryDisplayables[i]).beforeBrush&&n.beforeBrush(t),n.brush(t,0===i?null:this._temporaryDisplayables[i-1]),n.afterBrush&&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var os=[];as.prototype.getBoundingRect=function(){if(!this._rect){for(var rect=new Tn(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var t=this._displayables[i],e=t.getBoundingRect().clone();t.needLocalTransform()&&e.applyTransform(t.getLocalTransform(os)),rect.union(e)}this._rect=rect}return this._rect},as.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(t,e))return!0;return!1},R(as,Zi);var ss=Math.max,ls=Math.min,hs={},us=1,cs="emphasis",ds="normal",fs=1,ps={},gs={};function vs(t){return fo.extend(t)}function ms(t,e){gs[t]=e}function ys(t,e,rect,n){var path=Ao(t,e);return rect&&("center"===n&&(rect=xs(rect,path.getBoundingRect())),bs(path,rect)),path}function _s(t,rect,e){var path=new Ki({style:{image:t,x:rect.x,y:rect.y,width:rect.width,height:rect.height},onload:function(img){if("center"===e){var t={width:img.width,height:img.height};path.setStyle(xs(rect,t))}}});return path}function xs(rect,t){var e,n=t.width/t.height,r=rect.height*n;return e=r<=rect.width?rect.height:(r=rect.width)/n,{x:rect.x+rect.width/2-r/2,y:rect.y+rect.height/2-e/2,width:r,height:e}}var ws=function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var o=t[i];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var l=new fo(e);return l.createPathProxy(),l.buildPath=function(path){path.appendPath(n);var t=path.getContext();t&&path.rebuildPath(t)},l};function bs(path,rect){if(path.applyTransform){var t=path.getBoundingRect().calculateTransform(rect);path.applyTransform(t)}}var Ss=jo;function Ms(t){return null!=t&&"none"!==t}var Is=ut(),Ts=0;function Cs(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var n=t.__zr,r=t.useHoverLayer&&n&&"canvas"===n.painter.type;if(t.__highlighted=r?"layer":"plain",!(t.isGroup||!n&&t.useHoverLayer)){var o=t,l=t.style;r&&(l=(o=n.addHover(t)).style),Us(l),r||function(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var n=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var r=t.style;for(var o in e)null!=e[o]&&(n[o]=r[o]);n.fill=r.fill,n.stroke=r.stroke}else t.__cachedNormalStl=t.__cachedNormalZ2=null}}(o),l.extendFrom(e),Ds(l,e,"fill"),Ds(l,e,"stroke"),js(l),r||(t.dirty(!1),t.z2+=us)}}}function Ds(t,e,n){!Ms(e[n])&&Ms(t[n])&&(t[n]=function(t){if("string"!=typeof t)return t;var e=Is.get(t);return e||(e=Ge(t,-.1),Ts<1e4&&(Is.set(t,e),Ts++)),e}(t[n]))}function ks(t){var e=t.__highlighted;if(e&&(t.__highlighted=!1,!t.isGroup))if("layer"===e)t.__zr&&t.__zr.removeHover(t);else{var style=t.style,n=t.__cachedNormalStl;n&&(Us(style),t.setStyle(n),js(style));var r=t.__cachedNormalZ2;null!=r&&t.z2-r===us&&(t.z2=r)}}function As(t,e,n){var r,o=ds,l=ds;t.__highlighted&&(o=cs,r=!0),e(t,n),t.__highlighted&&(l=cs,r=!0),t.isGroup&&t.traverse(function(t){!t.isGroup&&e(t,n)}),r&&t.__highDownOnUpdate&&t.__highDownOnUpdate(o,l)}function Ps(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,ks(t),Cs(t))}function Os(t){!Rs(this,t)&&!this.__highByOuter&&As(this,Cs)}function Ls(t){!Rs(this,t)&&!this.__highByOuter&&As(this,ks)}function Ns(t){this.__highByOuter|=1<<(t||0),As(this,Cs)}function Bs(t){!(this.__highByOuter&=~(1<<(t||0)))&&As(this,ks)}function Rs(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Es(t,e){zs(t,!0),As(t,Ps,e)}function zs(t,e){var n=!1===e;if(t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,!n||t.__highDownDispatcher){var r=n?"off":"on";t[r]("mouseover",Os)[r]("mouseout",Ls),t[r]("emphasis",Ns)[r]("normal",Bs),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!n}}function Fs(t){return!(!t||!t.__highDownDispatcher)}function Hs(t){var e=ps[t];return null==e&&fs<=32&&(e=ps[t]=fs++),e}function Vs(t,e,n,r,o,l,h){var c,d=(o=o||hs).labelFetcher,f=o.labelDataIndex,v=o.labelDimIndex,m=n.getShallow("show"),y=r.getShallow("show");(m||y)&&(d&&(c=d.getFormattedLabel(f,"normal",null,v)),null==c&&(c=X(o.defaultText)?o.defaultText(f,o):o.defaultText));var _=m?c:null,x=y?J(d?d.getFormattedLabel(f,"emphasis",null,v):null,c):null;null==_&&null==x||(Ws(t,n,l,o),Ws(e,r,h,o,!0)),t.text=_,e.text=x}function Ws(t,e,n,r,o){return Gs(t,e,r,o),n&&A(t,n),t}function Gs(t,e,n,r){if((n=n||hs).isRectText){var o;n.getTextPosition?o=n.getTextPosition(e,r):"outside"===(o=e.getShallow("position")||(r?null:"inside"))&&(o="top"),t.textPosition=o,t.textOffset=e.getShallow("offset");var l=e.getShallow("rotate");null!=l&&(l*=Math.PI/180),t.textRotation=l,t.textDistance=J(e.getShallow("distance"),r?null:5)}var h,c=e.ecModel,d=c&&c.option.textStyle,f=function(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||hs).rich;if(n)for(var r in e=e||{},n)n.hasOwnProperty(r)&&(e[r]=1);t=t.parentModel}return e}(e);if(f)for(var v in h={},f)if(f.hasOwnProperty(v)){var m=e.getModel(["rich",v]);Xs(h[v]={},m,d,n,r)}return t.rich=h,Xs(t,e,d,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function Xs(t,e,n,r,o,l){n=!o&&n||hs,t.textFill=Ys(e.getShallow("color"),r)||n.color,t.textStroke=Ys(e.getShallow("textBorderColor"),r)||n.textBorderColor,t.textStrokeWidth=J(e.getShallow("textBorderWidth"),n.textBorderWidth),o||(l&&(t.insideRollbackOpt=r,js(t)),null==t.textFill&&(t.textFill=r.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),l&&r.disableBox||(t.textBackgroundColor=Ys(e.getShallow("backgroundColor"),r),t.textPadding=e.getShallow("padding"),t.textBorderColor=Ys(e.getShallow("borderColor"),r),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Ys(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function js(t){var e,n=t.textPosition,r=t.insideRollbackOpt;if(r&&null==t.textFill){var o=r.autoColor,l=r.isRectText,h=r.useInsideStyle,c=!1!==h&&(!0===h||l&&n&&"string"==typeof n&&n.indexOf("inside")>=0),d=!c&&null!=o;(c||d)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),c&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=o,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),d&&(t.textFill=o)}t.insideRollback=e}function Us(style){var t=style.insideRollback;t&&(style.textFill=t.textFill,style.textStroke=t.textStroke,style.textStrokeWidth=t.textStrokeWidth,style.insideRollback=null)}function qs(t,e){var n=e||e.getModel("textStyle");return at([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function Zs(t,e,n,r,o,l){if("function"==typeof o&&(l=o,o=null),r&&r.isAnimationEnabled()){var h=t?"Update":"",c=r.getShallow("animationDuration"+h),d=r.getShallow("animationEasing"+h),f=r.getShallow("animationDelay"+h);"function"==typeof f&&(f=f(o,r.getAnimationDelayParams?r.getAnimationDelayParams(e,o):null)),"function"==typeof c&&(c=c(o)),c>0?e.animateTo(n,c,f||0,d,l,!!l):(e.stopAnimation(),e.attr(n),l&&l())}else e.stopAnimation(),e.attr(n),l&&l()}function Ks(t,e,n,r,o){Zs(!0,t,e,n,r,o)}function $s(t,e,n,r,o){Zs(!1,t,e,n,r,o)}function Qs(t,e,n){return e&&!z(e)&&(e=me.getLocalTransform(e)),n&&(e=de([],e)),kt([],t,e)}function Js(t,e,rect){var style=(e=A({rectHover:!0},e)).style={strokeNoScale:!0};if(rect=rect||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(style.image=t.slice(8),P(style,rect),new Ki(e)):ys(t.replace("path://",""),e,rect,"center")}function tl(t,e,n,r,o,l,h,c){var d,f=n-t,v=r-e,m=h-o,y=c-l,_=el(m,y,f,v);if((d=_)<=1e-6&&d>=-1e-6)return!1;var x=t-o,w=e-l,q=el(x,w,f,v)/_;if(q<0||q>1)return!1;var p=el(x,w,m,y)/_;return!(p<0||p>1)}function el(t,e,n,r){return t*r-n*e}ms("circle",Lo),ms("sector",Bo),ms("ring",Ro),ms("polygon",Vo),ms("polyline",Wo),ms("rect",qo),ms("line",Ko),ms("bezierCurve",Jo),ms("arc",ts);var nl=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:us,CACHED_LABEL_STYLE_PROPERTIES:{color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},extendShape:vs,extendPath:function(t,e){return function(t,e){return fo.extend(ko(t,e))}(t,e)},registerShape:ms,getShapeClass:function(t){if(gs.hasOwnProperty(t))return gs[t]},makePath:ys,makeImage:_s,mergePath:ws,resizePath:bs,subPixelOptimizeLine:function(param){return Xo(param.shape,param.shape,param.style),param},subPixelOptimizeRect:function(param){return Yo(param.shape,param.shape,param.style),param},subPixelOptimize:Ss,setElementHoverStyle:Ps,setHoverStyle:Es,setAsHighDownDispatcher:zs,isHighDownDispatcher:Fs,getHighlightDigit:Hs,setLabelStyle:Vs,modifyLabelStyle:function(t,e,n){var r=t.style;e&&(Us(r),t.setStyle(e),js(r)),r=t.__hoverStl,n&&r&&(Us(r),A(r,n),js(r))},setTextStyle:Ws,setText:function(t,e,n){var r,o={isRectText:!0};!1===n?r=!0:o.autoColor=n,Gs(t,e,o,r)},getFont:qs,updateProps:Ks,initProps:$s,getTransform:function(t,e){for(var n=oe([]);t&&t!==e;)le(n,t.getLocalTransform(),n),t=t.parent;return n},applyTransform:Qs,transformDirection:function(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),l=["left"===t?-r:"right"===t?r:0,"top"===t?-o:"bottom"===t?o:0];return l=Qs(l,e,n),Math.abs(l[0])>Math.abs(l[1])?l[0]>0?"right":"left":l[1]>0?"bottom":"top"},groupTransition:function(t,e,n,r){if(t&&e){var o,l=(o={},t.traverse(function(t){!t.isGroup&&t.anid&&(o[t.anid]=t)}),o);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=l[t.anid];if(e){var r=h(t);t.attr(h(e)),Ks(t,r,n,t.dataIndex)}}})}function h(t){var e={position:mt(t.position),rotation:t.rotation};return t.shape&&(e.shape=A({},t.shape)),e}},clipPointsByRect:function(t,rect){return map(t,function(t){var e=t[0];e=ss(e,rect.x),e=ls(e,rect.x+rect.width);var n=t[1];return n=ss(n,rect.y),[e,n=ls(n,rect.y+rect.height)]})},clipRectByRect:function(t,rect){var e=ss(t.x,rect.x),n=ls(t.x+t.width,rect.x+rect.width),r=ss(t.y,rect.y),o=ls(t.y+t.height,rect.y+rect.height);if(n>=e&&o>=r)return{x:e,y:r,width:n-e,height:o-r}},createIcon:Js,linePolygonIntersect:function(t,e,n,r,o){for(var i=0,l=o[o.length-1];i<o.length;i++){var p=o[i];if(tl(t,e,n,r,p[0],p[1],l[0],l[1]))return!0;l=p}},lineLineIntersect:tl,Group:Cn,Image:Ki,Text:Po,Circle:Lo,Sector:Bo,Ring:Ro,Polygon:Vo,Polyline:Wo,Rect:qo,Line:Ko,BezierCurve:Jo,Arc:ts,IncrementalDisplayable:as,CompoundPath:es,LinearGradient:is,RadialGradient:rs,BoundingRect:Tn}),il=["textStyle","color"],rl={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(il):null)},getFont:function(){return qs({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(text){return di(text,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},al=qr([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),sl={getItemStyle:function(t,e){var style=al(this,t,e),n=this.getBorderLineDash();return n&&(style.lineDash=n),style},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},ll=E,hl=Lr();function cl(option,t,e){this.parentModel=t,this.ecModel=e,this.option=option}function fl(t,e,n){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==typeof t?t[e[i]]:null));i++);return null==t&&n&&(t=n.get(e)),t}function pl(t,path){var e=hl(t).getParent;return e?e.call(t,path):t.parentModel}cl.prototype={constructor:cl,init:null,mergeOption:function(option){k(this.option,option,!0)},get:function(path,t){return null==path?this.option:fl(this.option,this.parsePath(path),!t&&pl(this,path))},getShallow:function(t,e){var option=this.option,n=null==option?option:option[t],r=!e&&pl(this,t);return null==n&&r&&(n=r.getShallow(t)),n},getModel:function(path,t){var e;return new cl(null==path?this.option:fl(this.option,path=this.parsePath(path)),t=t||(e=pl(this,path))&&e.getModel(path),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(D(this.option))},setReadOnly:function(t){},parsePath:function(path){return"string"==typeof path&&(path=path.split(".")),path},customizeGetParent:function(t){hl(this).getParent=t},isAnimationEnabled:function(){if(!f.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Wr(cl),Xr(cl),ll(cl,Kr),ll(cl,Qr),ll(cl,rl),ll(cl,sl);var base=0;function gl(t){return[t||"",base++,Math.random().toFixed(5)].join("_")}var vl=1e-4;function ml(t,e,n,r){var o=e[1]-e[0],l=n[1]-n[0];if(0===o)return 0===l?n[0]:(n[0]+n[1])/2;if(r)if(o>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/o*l+n[0]}function yl(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(n=t,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n}function _l(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function xl(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var r=+e.slice(n+1);return r<0?-r:0}var o=e.indexOf(".");return o<0?0:e.length-1-o}function wl(t,e){var n=Math.log,r=Math.LN10,o=Math.floor(n(t[1]-t[0])/r),l=Math.round(n(Math.abs(e[1]-e[0]))/r),h=Math.min(Math.max(-o+l,0),20);return isFinite(h)?h:20}function bl(t){var e=2*Math.PI;return(t%e+e)%e}function Sl(t){return t>-vl&&t<vl}var Ml=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Il(t){if(t instanceof Date)return t;if("string"==typeof t){var e=Ml.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Tl(t){return Math.pow(10,Cl(t))}function Cl(t){return Math.floor(Math.log(t)/Math.LN10)}function Dl(t,e){var n=Cl(t),r=Math.pow(10,n),o=t/r;return t=(e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*r,n>=-20?+t.toFixed(n<0?-n:0):t}var kl=(Object.freeze||Object)({linearMap:ml,parsePercent:yl,round:_l,asc:function(t){return t.sort(function(a,b){return a-b}),t},getPrecision:function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},getPrecisionSafe:xl,getPixelPrecision:wl,getPercentWithPrecision:function(t,e,n){if(!t[e])return 0;var r=H(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===r)return 0;for(var o=Math.pow(10,n),l=map(t,function(t){return(isNaN(t)?0:t)/r*o*100}),h=100*o,c=map(l,function(t){return Math.floor(t)}),d=H(c,function(t,e){return t+e},0),f=map(l,function(t,e){return t-c[e]});d<h;){for(var v=Number.NEGATIVE_INFINITY,m=null,i=0,y=f.length;i<y;++i)f[i]>v&&(v=f[i],m=i);++c[m],f[m]=0,++d}return c[e]/o},MAX_SAFE_INTEGER:9007199254740991,remRadian:bl,isRadianAroundZero:Sl,parseDate:Il,quantity:Tl,nice:Dl,quantile:function(t,p){var e=(t.length-1)*p+1,n=Math.floor(e),r=+t[n-1],o=e-n;return o?r+o*(t[n]-r):r},reformIntervals:function(t){t.sort(function(a,b){return function t(a,b,e){return a.interval[e]<b.interval[e]||a.interval[e]===b.interval[e]&&(a.close[e]-b.close[e]==(e?-1:1)||!e&&t(a,b,1))}(a,b,0)?-1:1});for(var e=-1/0,n=1,i=0;i<t.length;){for(var r=t[i].interval,o=t[i].close,l=0;l<2;l++)r[l]<=e&&(r[l]=e,o[l]=l?1:1-n),e=r[l],n=o[l];r[0]===r[1]&&o[0]*o[1]!=1?t.splice(i,1):i++}return t},isNumeric:function(t){return t-parseFloat(t)>=0}});function Al(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Pl(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var Ol=nt,Ll=/([&<>"'])/g,Nl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Bl(source){return null==source?"":(source+"").replace(Ll,function(t,e){return Nl[e]})}var Rl=["a","b","c","d","e","f","g"],El=function(t,e){return"{"+t+(null==e?"":e)+"}"};function zl(t,e,n){G(e)||(e=[e]);var r=e.length;if(!r)return"";for(var o=e[0].$vars||[],i=0;i<o.length;i++){var l=Rl[i];t=t.replace(El(l),El(l,0))}for(var h=0;h<r;h++)for(var c=0;c<o.length;c++){var d=e[h][o[c]];t=t.replace(El(Rl[c],h),n?Bl(d):d)}return t}function Fl(t,e){var n=(t=Y(t)?{color:t,extraCssText:e}:t||{}).color,r=t.type,o=(e=t.extraCssText,t.renderMode||"html"),l=t.markerId||"X";return n?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Bl(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Bl(n)+";"+(e||"")+'"></span>':{renderMode:o,content:"{marker"+l+"|}  ",style:{color:n}}:""}function Hl(t,e){return"0000".substr(0,e-(t+="").length)+t}function Vl(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=Il(e),o=n?"UTC":"",l=r["get"+o+"FullYear"](),h=r["get"+o+"Month"]()+1,c=r["get"+o+"Date"](),d=r["get"+o+"Hours"](),f=r["get"+o+"Minutes"](),s=r["get"+o+"Seconds"](),v=r["get"+o+"Milliseconds"]();return t=t.replace("MM",Hl(h,2)).replace("M",h).replace("yyyy",l).replace("yy",l%100).replace("dd",Hl(c,2)).replace("d",c).replace("hh",Hl(d,2)).replace("h",d).replace("mm",Hl(f,2)).replace("m",f).replace("ss",Hl(s,2)).replace("s",s).replace("SSS",Hl(v,3))}var Wl=vi,Gl=(Object.freeze||Object)({addCommas:Al,toCamelCase:Pl,normalizeCssArray:Ol,encodeHTML:Bl,formatTpl:zl,formatTplSimple:function(t,param,e){return F(param,function(n,r){t=t.replace("{"+r+"}",e?Bl(n):n)}),t},getTooltipMarker:Fl,formatTime:Vl,capitalFirst:function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},truncateText:Wl,getTextBoundingRect:function(t){return di(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)},getTextRect:function(text,t,e,n,r,o,l,h){return di(text,t,e,n,r,h,o,l)}}),Xl=F,Yl=["left","right","top","bottom","width","height"],jl=[["width","left","right"],["height","top","bottom"]];function Ul(t,e,n,r,o){var l=0,h=0;null==r&&(r=1/0),null==o&&(o=1/0);var c=0;e.eachChild(function(d,f){var v,m,y=d.position,rect=d.getBoundingRect(),_=e.childAt(f+1),x=_&&_.getBoundingRect();if("horizontal"===t){var w=rect.width+(x?-x.x+rect.x:0);(v=l+w)>r||d.newline?(l=0,v=w,h+=c+n,c=rect.height):c=Math.max(c,rect.height)}else{var S=rect.height+(x?-x.y+rect.y:0);(m=h+S)>o||d.newline?(l+=c+n,h=0,m=S,c=rect.width):c=Math.max(c,rect.width)}d.newline||(y[0]=l,y[1]=h,"horizontal"===t?l=v+n:h=m+n)})}var ql=Ul;function Zl(t,e,n){n=Ol(n||0);var r=e.width,o=e.height,l=yl(t.left,r),h=yl(t.top,o),c=yl(t.right,r),d=yl(t.bottom,o),f=yl(t.width,r),v=yl(t.height,o),m=n[2]+n[0],y=n[1]+n[3],_=t.aspect;switch(isNaN(f)&&(f=r-c-y-l),isNaN(v)&&(v=o-d-m-h),null!=_&&(isNaN(f)&&isNaN(v)&&(_>r/o?f=.8*r:v=.8*o),isNaN(f)&&(f=_*v),isNaN(v)&&(v=f/_)),isNaN(l)&&(l=r-c-f-y),isNaN(h)&&(h=o-d-v-m),t.left||t.right){case"center":l=r/2-f/2-n[3];break;case"right":l=r-f-y}switch(t.top||t.bottom){case"middle":case"center":h=o/2-v/2-n[0];break;case"bottom":h=o-v-m}l=l||0,h=h||0,isNaN(f)&&(f=r-y-l-(c||0)),isNaN(v)&&(v=o-m-h-(d||0));var rect=new Tn(l+n[3],h+n[0],f,v);return rect.margin=n,rect}function Kl(t,e,n){!j(n)&&(n={});var r=n.ignoreSize;!G(r)&&(r=[r,r]);var o=h(jl[0],0),l=h(jl[1],1);function h(n,o){var l={},h=0,f={},v=0;if(Xl(n,function(e){f[e]=t[e]}),Xl(n,function(t){c(e,t)&&(l[t]=f[t]=e[t]),d(l,t)&&h++,d(f,t)&&v++}),r[o])return d(e,n[1])?f[n[2]]=null:d(e,n[2])&&(f[n[1]]=null),f;if(2!==v&&h){if(h>=2)return l;for(var i=0;i<n.length;i++){var m=n[i];if(!c(l,m)&&c(t,m)){l[m]=t[m];break}}return l}return f}function c(t,e){return t.hasOwnProperty(e)}function d(t,e){return null!=t[e]&&"auto"!==t[e]}function f(t,e,source){Xl(t,function(t){e[t]=source[t]})}f(jl[0],t,o),f(jl[1],t,l)}function $l(source){return function(t,source){return source&&t&&Xl(Yl,function(e){source.hasOwnProperty(e)&&(t[e]=source[e])}),t}({},source)}W(Ul,"vertical"),W(Ul,"horizontal");var Ql,Jl,eh=Lr(),nh=cl.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(option,t,e,n){cl.call(this,option,t,e,n),this.uid=gl("ec_cpt_model")},init:function(option,t,e,n){this.mergeDefaultAndTheme(option,e)},mergeDefaultAndTheme:function(option,t){var e=this.layoutMode,n=e?$l(option):{};k(option,t.getTheme().get(this.mainType)),k(option,this.getDefaultOption()),e&&Kl(option,n,e)},mergeOption:function(option,t){k(this.option,option,!0);var e=this.layoutMode;e&&Kl(this.option,option,e)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=eh(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var r=n.prototype.defaultOption;r&&e.push(r),n=n.superClass}for(var o={},i=e.length-1;i>=0;i--)o=k(o,e[i],!0);t.defaultOption=o}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});Ur(nh,{registerWhenExtend:!0}),Jl={},(Ql=nh).registerSubTypeDefaulter=function(t,e){t=Vr(t),Jl[t.main]=e},Ql.determineSubType=function(t,option){var e=option.type;if(!e){var n=Vr(t).main;Ql.hasSubTypes(t)&&Jl[n]&&(e=Jl[n](option))}return e},function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,r,o,l){if(t.length){var h=function(t){var r={},o=[];return F(t,function(l){var h=n(r,l),c=function(t,e){var n=[];return F(t,function(t){B(e,t)>=0&&n.push(t)}),n}(h.originalDeps=e(l),t);h.entryCount=c.length,0===h.entryCount&&o.push(l),F(c,function(t){B(h.predecessor,t)<0&&h.predecessor.push(t);var e=n(r,t);B(e.successor,t)<0&&e.successor.push(l)})}),{graph:r,noEntryList:o}}(r),c=h.graph,d=h.noEntryList,f={};for(F(t,function(t){f[t]=!0});d.length;){var v=d.pop(),m=c[v],y=!!f[v];y&&(o.call(l,v,m.originalDeps.slice()),delete f[v]),F(m.successor,y?x:_)}F(f,function(){throw new Error("Circle dependency may exists")})}function _(t){c[t].entryCount--,0===c[t].entryCount&&d.push(t)}function x(t){f[t]=!0,_(t)}}}(nh,function(t){var e=[];return F(nh.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=map(e,function(t){return Vr(t).main}),"dataset"!==t&&B(e,"dataset")<=0&&e.unshift("dataset"),e}),E(nh,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});var ih="";"undefined"!=typeof navigator&&(ih=navigator.platform||"");var rh={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:ih.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},ah=Lr(),oh={clearColorPalette:function(){ah(this).colorIdx=0,ah(this).colorNameMap={}},getColorFromPalette:function(t,e,n){var r=ah(e=e||this),o=r.colorIdx||0,l=r.colorNameMap=r.colorNameMap||{};if(l.hasOwnProperty(t))return l[t];var h=Ir(this.get("color",!0)),c=this.get("colorLayer",!0),d=null!=n&&c?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(c,n):h;if((d=d||h)&&d.length){var f=d[o];return t&&(l[t]=f),r.colorIdx=(o+1)%d.length,f}}};function sh(t){var e=t.get("coordinateSystem"),n={coordSysName:e,coordSysDims:[],axisMap:ut(),categoryAxisMap:ut()},r=lh[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}var lh={cartesian2d:function(t,e,n,r){var o=t.getReferringComponents("xAxis")[0],l=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",o),n.set("y",l),hh(o)&&(r.set("x",o),e.firstCategoryDimIndex=0),hh(l)&&(r.set("y",l),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,r){var o=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",o),hh(o)&&(r.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var o=t.getReferringComponents("polar")[0],l=o.findAxisModel("radiusAxis"),h=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",l),n.set("angle",h),hh(l)&&(r.set("radius",l),e.firstCategoryDimIndex=0),hh(h)&&(r.set("angle",h),e.firstCategoryDimIndex=1)},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var o=t.ecModel,l=o.getComponent("parallel",t.get("parallelIndex")),h=e.coordSysDims=l.dimensions.slice();F(l.parallelAxisIndex,function(t,l){var c=o.getComponent("parallelAxis",t),d=h[l];n.set(d,c),hh(c)&&null==e.firstCategoryDimIndex&&(r.set(d,c),e.firstCategoryDimIndex=l)})}};function hh(t){return"category"===t.get("type")}var uh="original",ch="arrayRows",dh="objectRows",fh="keyedColumns",ph="unknown",gh="typedArray",vh="column",mh="row";function yh(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===fh?{}:[]),this.sourceFormat=t.sourceFormat||ph,this.seriesLayoutBy=t.seriesLayoutBy||vh,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&ut(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}yh.seriesDataToSource=function(data){return new yh({data:data,sourceFormat:Z(data)?gh:uh,fromDataset:!1})},Xr(yh);var _h=Lr();function xh(t){var e=t.option,data=e.data,n=Z(data)?gh:uh,r=!1,o=e.seriesLayoutBy,l=e.sourceHeader,h=e.dimensions,c=function(t){var option=t.option;if(!option.data)return t.ecModel.getComponent("dataset",option.datasetIndex||0)}(t);if(c){var d=c.option;data=d.source,n=_h(c).sourceFormat,r=!0,o=o||d.seriesLayoutBy,null==l&&(l=d.sourceHeader),h=h||d.dimensions}var f=function(data,t,e,n,r){if(!data)return{dimensionsDefine:wh(r)};var o,l,h,c;if(t===ch)"auto"===n||null==n?bh(function(t){null!=t&&"-"!==t&&(Y(t)?null==l&&(l=1):l=0)},e,data,10):l=n?1:0,r||1!==l||(r=[],bh(function(t,e){r[e]=null!=t?t:""},e,data)),o=r?r.length:e===mh?data.length:data[0]?data[0].length:null;else if(t===dh)r||(r=function(data){for(var t,e=0;e<data.length&&!(t=data[e++]););if(t){var n=[];return F(t,function(t,e){n.push(e)}),n}}(data),h=!0);else if(t===fh)r||(r=[],h=!0,F(data,function(t,e){r.push(e)}));else if(t===uh){var d=Dr(data[0]);o=G(d)&&d.length||1}return h&&F(r,function(t,e){"name"===(j(t)?t.name:t)&&(c=e)}),{startIndex:l,dimensionsDefine:wh(r),dimensionsDetectCount:o,potentialNameDimIndex:c}}(data,n,o,l,h),v=e.encode;!v&&c&&(v=function(t,e,data,n,r,o){var l=sh(t),h={},c=[],d=[],f=t.subType,v=ut(["pie","map","funnel"]),m=ut(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(l&&null!=m.get(f)){var y=t.ecModel,_=_h(y).datasetMap,x=e.uid+"_"+r,w=_.get(x)||_.set(x,{categoryWayDim:1,valueWayDim:0});F(l.coordSysDims,function(t){if(null==l.firstCategoryDimIndex){var e=w.valueWayDim++;h[t]=e,d.push(e)}else l.categoryAxisMap.get(t)?(h[t]=0,c.push(0)):(e=w.categoryWayDim++,h[t]=e,d.push(e))})}else if(null!=v.get(f)){for(var S,i=0;i<5&&null==S;i++)Mh(data,n,r,o.dimensionsDefine,o.startIndex,i)||(S=i);if(null!=S){h.value=S;var M=o.potentialNameDimIndex||Math.max(S-1,0);d.push(M),c.push(M)}}return c.length&&(h.itemName=c),d.length&&(h.seriesName=d),h}(t,c,data,n,o,f)),_h(t).source=new yh({data:data,fromDataset:r,seriesLayoutBy:o,sourceFormat:n,dimensionsDefine:f.dimensionsDefine,startIndex:f.startIndex,dimensionsDetectCount:f.dimensionsDetectCount,encodeDefine:v})}function wh(t){if(t){var e=ut();return map(t,function(t,n){if(null==(t=A({},j(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var r=e.get(t.name);return r?t.name+="-"+r.count++:e.set(t.name,{count:1}),t})}}function bh(t,e,data,n){if(null==n&&(n=1/0),e===mh)for(var i=0;i<data.length&&i<n;i++)t(data[i]?data[i][0]:null,i);else{var r=data[0]||[];for(i=0;i<r.length&&i<n;i++)t(r[i],i)}}function Sh(source,t){return Mh(source.data,source.sourceFormat,source.seriesLayoutBy,source.dimensionsDefine,source.startIndex,t)}function Mh(data,t,e,n,r,o){var l,h;if(Z(data))return!1;if(n&&(h=j(h=n[o])?h.name:h),t===ch)if(e===mh){for(var c=data[o],i=0;i<(c||[]).length&&i<5;i++)if(null!=(l=m(c[r+i])))return l}else for(i=0;i<data.length&&i<5;i++){var d=data[r+i];if(d&&null!=(l=m(d[o])))return l}else if(t===dh){if(!h)return;for(i=0;i<data.length&&i<5;i++)if((f=data[i])&&null!=(l=m(f[h])))return l}else if(t===fh){if(!h)return;if(!(c=data[h])||Z(c))return!1;for(i=0;i<c.length&&i<5;i++)if(null!=(l=m(c[i])))return l}else if(t===uh)for(i=0;i<data.length&&i<5;i++){var f,v=Dr(f=data[i]);if(!G(v))return!1;if(null!=(l=m(v[o])))return l}function m(t){return(null==t||!isFinite(t)||""===t)&&(!(!Y(t)||"-"===t)||void 0)}return!1}var Ih="\0_ec_inner",Th=cl.extend({init:function(option,t,e,n){e=e||{},this.option=null,this._theme=new cl(e),this._optionManager=n},setOption:function(option,t){it(!(Ih in option),"please use chart.getOption()"),this._optionManager.setOption(option,t),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var r=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(r)):function(t){t=t,this.option={},this.option[Ih]=1,this._componentsMap=ut({series:[]}),this._seriesIndices,this._seriesIndicesMap,function(option,t){var e=option.color&&!option.colorLayer;F(t,function(t,n){"colorLayer"===n&&e||nh.hasClass(n)||("object"==typeof t?option[n]=option[n]?k(option[n],t,!1):D(t):null==option[n]&&(option[n]=t))})}(t,this._theme.option),k(t,rh,!1),this.mergeOption(t)}.call(this,r),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||"recreate"===t||"media"===t){var l=n.getMediaOption(this,this._api);l.length&&F(l,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){var option=this.option,e=this._componentsMap,n=[];_h(this).datasetMap=ut(),F(t,function(t,e){null!=t&&(nh.hasClass(e)?e&&n.push(e):option[e]=null==option[e]?D(t):k(option[e],t,!0))}),nh.topologicalTravel(n,nh.getAllClassMainTypes(),function(n,r){var o=Ir(t[n]),l=kr(e.get(n),o);(function(t){var e=ut();xr(t,function(t,n){var r=t.exist;r&&e.set(r.id,t)}),xr(t,function(t,n){var r=t.option;it(!r||null==r.id||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),xr(t,function(t,n){var r=t.exist,o=t.option,l=t.keyInfo;if(wr(o)){if(l.name=null!=o.name?o.name+"":r?r.name:Mr+n,r)l.id=r.id;else if(null!=o.id)l.id=o.id+"";else{var h=0;do{l.id="\0"+l.name+"\0"+h++}while(e.get(l.id))}e.set(l.id,t)}})})(l),F(l,function(t,e){var r=t.option;j(r)&&(t.keyInfo.mainType=n,t.keyInfo.subType=function(t,e,n){return e.type?e.type:n?n.subType:nh.determineSubType(t,e)}(n,r,t.exist))});var h=function(t,e){G(e)||(e=e?[e]:[]);var n={};return F(e,function(e){n[e]=(t.get(e)||[]).slice()}),n}(e,r);option[n]=[],e.set(n,[]),F(l,function(t,r){var o=t.exist,l=t.option;if(it(j(l)||o,"Empty component definition"),l){var c=nh.getClass(n,t.keyInfo.subType,!0);if(o&&o instanceof c)o.name=t.keyInfo.name,o.mergeOption(l,this),o.optionUpdated(l,!1);else{var d=A({dependentModels:h,componentIndex:r},t.keyInfo);A(o=new c(l,this,this,d),d),o.init(l,this,this,d),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);e.get(n)[r]=o,option[n][r]=o.option},this),"series"===n&&Ch(this,e.get("series"))},this),this._seriesIndicesMap=ut(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var option=D(this.option);return F(option,function(t,e){if(nh.hasClass(e)){for(var i=(t=Ir(t)).length-1;i>=0;i--)Pr(t[i])&&t.splice(i,1);option[e]=t}}),delete option[Ih],option},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,o=t.id,l=t.name,h=this._componentsMap.get(e);if(!h||!h.length)return[];if(null!=r)G(r)||(r=[r]),n=filter(map(r,function(t){return h[t]}),function(t){return!!t});else if(null!=o){var c=G(o);n=filter(h,function(t){return c&&B(o,t.id)>=0||!c&&t.id===o})}else if(null!=l){var d=G(l);n=filter(h,function(t){return d&&B(l,t.name)>=0||!d&&t.name===l})}else n=h.slice();return Dh(n,t)},findComponents:function(t){var q,e,n,r,o,l=t.query,h=t.mainType,c=(e=h+"Index",n=h+"Id",r=h+"Name",!(q=l)||null==q[e]&&null==q[n]&&null==q[r]?null:{mainType:h,index:q[e],id:q[n],name:q[r]}),d=c?this.queryComponents(c):this._componentsMap.get(h);return o=Dh(d,t),t.filter?filter(o,t.filter):o},eachComponent:function(t,e,n){var r=this._componentsMap;"function"==typeof t?(n=e,e=t,r.each(function(t,r){F(t,function(component,t){e.call(n,r,component,t)})})):Y(t)?F(r.get(t),e,n):j(t)&&F(this.findComponents(t),e,n)},getSeriesByName:function(t){return filter(this._componentsMap.get("series"),function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){return filter(this._componentsMap.get("series"),function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){F(this._seriesIndices,function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)},this)},eachRawSeries:function(t,e){F(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){F(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];o.subType===t&&e.call(n,o,r)},this)},eachRawSeriesByType:function(t,e,n){return F(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){Ch(this,filter(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;Ch(this,e.get("series"));var n=[];e.each(function(t,e){n.push(e)}),nh.topologicalTravel(n,nh.getAllClassMainTypes(),function(n,r){F(e.get(n),function(component){("series"!==n||!function(t,e){if(e){var n=e.seiresIndex,r=e.seriesId,o=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=o&&t.name!==o}}(component,t))&&component.restoreData()})})}});function Ch(t,e){t._seriesIndicesMap=ut(t._seriesIndices=map(e,function(t){return t.componentIndex})||[])}function Dh(t,e){return e.hasOwnProperty("subType")?filter(t,function(t){return t.subType===e.subType}):t}E(Th,oh);var kh=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function Ah(t){F(kh,function(e){this[e]=V(t[e],t)},this)}var Ph={};function Oh(){this._coordinateSystems=[]}Oh.prototype={constructor:Oh,create:function(t,e){var n=[];F(Ph,function(r,o){var l=r.create(t,e);n=n.concat(l||[])}),this._coordinateSystems=n},update:function(t,e){F(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Oh.register=function(t,e){Ph[t]=e},Oh.get=function(t){return Ph[t]};var Lh=F,Nh=D,Bh=map,Rh=k,Eh=/^(min|max)?(.+)$/;function zh(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Fh(t,e,n){var r={width:e,height:n,aspectratio:e/n},o=!0;return F(t,function(t,e){var n=e.match(Eh);if(n&&n[1]&&n[2]){var l=n[1],h=n[2].toLowerCase();(function(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e})(r[h],t,l)||(o=!1)}}),o}zh.prototype={constructor:zh,setOption:function(t,e){t&&F(Ir(t.series),function(t){t&&t.data&&Z(t.data)&&st(t.data)}),t=Nh(t);var n,r,o=this._optionBackup,l=function(t,e,n){var r,o,l=[],h=[],c=t.timeline;if(t.baseOption&&(o=t.baseOption),(c||t.options)&&(o=o||{},l=(t.options||[]).slice()),t.media){o=o||{};var d=t.media;Lh(d,function(t){t&&t.option&&(t.query?h.push(t):r||(r=t))})}return o||(o=t),o.timeline||(o.timeline=c),Lh([o].concat(l).concat(map(h,function(t){return t.option})),function(option){Lh(e,function(t){t(option,n)})}),{baseOption:o,timelineOptions:l,mediaDefault:r,mediaList:h}}.call(this,t,e,!o);this._newBaseOption=l.baseOption,o?(n=o.baseOption,r=l.baseOption,Lh(r=r||{},function(t,e){if(null!=t){var r=n[e];if(nh.hasClass(e)){t=Ir(t);var o=kr(r=Ir(r),t);n[e]=Bh(o,function(t){return t.option&&t.exist?Rh(t.exist,t.option,!0):t.exist||t.option})}else n[e]=Rh(r,t,!0)}}),l.timelineOptions.length&&(o.timelineOptions=l.timelineOptions),l.mediaList.length&&(o.mediaList=l.mediaList),l.mediaDefault&&(o.mediaDefault=l.mediaDefault)):this._optionBackup=l},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=Bh(e.timelineOptions,Nh),this._mediaList=Bh(e.mediaList,Nh),this._mediaDefault=Nh(e.mediaDefault),this._currentMediaIndices=[],Nh(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var option,e=this._timelineOptions;if(e.length){var n=t.getComponent("timeline");n&&(option=Nh(e[n.getCurrentIndex()],!0))}return option},getMediaOption:function(t){var e,n,r=this._api.getWidth(),o=this._api.getHeight(),l=this._mediaList,h=this._mediaDefault,c=[],d=[];if(!l.length&&!h)return d;for(var i=0,f=l.length;i<f;i++)Fh(l[i].query,r,o)&&c.push(i);return!c.length&&h&&(c=[-1]),c.length&&(e=c,n=this._currentMediaIndices,e.join(",")!==n.join(","))&&(d=Bh(c,function(t){return Nh(-1===t?h.option:l[t].option)})),this._currentMediaIndices=c,d}};var Hh=F,Vh=j,Wh=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Gh(t){var e=t&&t.itemStyle;if(e)for(var i=0,n=Wh.length;i<n;i++){var r=Wh[i],o=e.normal,l=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?k(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),l&&l[r]&&(t[r]=t[r]||{},t[r].emphasis?k(t[r].emphasis,l[r]):t[r].emphasis=l[r],l[r]=null)}}function Xh(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,o=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,P(t[e],r)):t[e]=r),o&&(t.emphasis=t.emphasis||{},t.emphasis[e]=o)}}function Yh(t){Xh(t,"itemStyle"),Xh(t,"lineStyle"),Xh(t,"areaStyle"),Xh(t,"label"),Xh(t,"labelLine"),Xh(t,"upperLabel"),Xh(t,"edgeLabel")}function jh(t,e){var n=Vh(t)&&t[e],r=Vh(n)&&n.textStyle;if(r)for(var i=0,o=Cr.length;i<o;i++)e=Cr[i],r.hasOwnProperty(e)&&(n[e]=r[e])}function Uh(t){t&&(Yh(t),jh(t,"label"),t.emphasis&&jh(t.emphasis,"label"))}function qh(t){return G(t)?t:t?[t]:[]}function Zh(t){return(G(t)?t[0]:t)||{}}var Kh=function(option,t){Hh(qh(option.series),function(t){Vh(t)&&function(t){if(Vh(t)){Gh(t),Yh(t),jh(t,"label"),jh(t,"upperLabel"),jh(t,"edgeLabel"),t.emphasis&&(jh(t.emphasis,"label"),jh(t.emphasis,"upperLabel"),jh(t.emphasis,"edgeLabel")),(n=t.markPoint)&&(Gh(n),Uh(n)),(r=t.markLine)&&(Gh(r),Uh(r));var e=t.markArea;e&&Uh(e);var n,r,data=t.data;if("graph"===t.type){data=data||t.nodes;var o=t.links||t.edges;if(o&&!Z(o))for(var i=0;i<o.length;i++)Uh(o[i]);F(t.categories,function(t){Yh(t)})}if(data&&!Z(data))for(i=0;i<data.length;i++)Uh(data[i]);if((n=t.markPoint)&&n.data){var l=n.data;for(i=0;i<l.length;i++)Uh(l[i])}if((r=t.markLine)&&r.data){var h=r.data;for(i=0;i<h.length;i++)G(h[i])?(Uh(h[i][0]),Uh(h[i][1])):Uh(h[i])}"gauge"===t.type?(jh(t,"axisLabel"),jh(t,"title"),jh(t,"detail")):"treemap"===t.type?(Xh(t.breadcrumb,"itemStyle"),F(t.levels,function(t){Yh(t)})):"tree"===t.type&&Yh(t.leaves)}}(t)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),Hh(e,function(t){Hh(qh(option[t]),function(t){t&&(jh(t,"axisLabel"),jh(t.axisPointer,"label"))})}),Hh(qh(option.parallel),function(t){var e=t&&t.parallelAxisDefault;jh(e,"axisLabel"),jh(e&&e.axisPointer,"label")}),Hh(qh(option.calendar),function(t){Xh(t,"itemStyle"),jh(t,"dayLabel"),jh(t,"monthLabel"),jh(t,"yearLabel")}),Hh(qh(option.radar),function(t){jh(t,"name")}),Hh(qh(option.geo),function(t){Vh(t)&&(Uh(t),Hh(qh(t.regions),function(t){Uh(t)}))}),Hh(qh(option.timeline),function(t){Uh(t),Xh(t,"label"),Xh(t,"itemStyle"),Xh(t,"controlStyle",!0);var data=t.data;G(data)&&F(data,function(t){j(t)&&(Xh(t,"label"),Xh(t,"itemStyle"))})}),Hh(qh(option.toolbox),function(t){Xh(t,"iconStyle"),Hh(t.feature,function(t){Xh(t,"iconStyle")})}),jh(Zh(option.axisPointer),"label"),jh(Zh(option.tooltip).axisPointer,"label")};function $h(option){F(Qh,function(t){t[0]in option&&!(t[1]in option)&&(option[t[1]]=option[t[0]])})}var Qh=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Jh=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],tu=function(option,t){Kh(option,t),option.series=Ir(option.series),F(option.series,function(t){if(j(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e)null!=t.clockWise&&(t.clockwise=t.clockWise);else if("gauge"===e){var n=function(t,path){path=path.split(",");for(var e=t,i=0;i<path.length&&null!=(e=e&&e[path[i]]);i++);return e}(t,"pointer.color");null!=n&&function(t,path,e,n){path=path.split(",");for(var r,o=t,i=0;i<path.length-1;i++)null==o[r=path[i]]&&(o[r]={}),o=o[r];(n||null==o[path[i]])&&(o[path[i]]=e)}(t,"itemStyle.color",n)}$h(t)}}),option.dataRange&&(option.visualMap=option.dataRange),F(Jh,function(t){var e=option[t];e&&(G(e)||(e=[e]),F(e,function(option){$h(option)}))})};function eu(t){F(t,function(e,n){var r=[],o=[NaN,NaN],l=[e.stackResultDimension,e.stackedOverDimension],h=e.data,c=e.isStackedByIndex,d=h.map(l,function(l,d,f){var v,m,y=h.get(e.stackedDimension,f);if(isNaN(y))return o;c?m=h.getRawIndex(f):v=h.get(e.stackedByDimension,f);for(var _=NaN,x=n-1;x>=0;x--){var w=t[x];if(c||(m=w.data.rawIndexOf(w.stackedByDimension,v)),m>=0){var S=w.data.getByRawIndex(w.stackResultDimension,m);if(y>=0&&S>0||y<=0&&S<0){y+=S,_=S;break}}}return r[0]=y,r[1]=_,r});h.hostModel.setData(d),e.data=d})}function nu(source,t){yh.isInstance(source)||(source=yh.seriesDataToSource(source)),this._source=source;var data=this._data=source.data,e=source.sourceFormat;e===gh&&(this._offset=0,this._dimSize=t,this._data=data),A(this,ru[e===ch?e+"_"+source.seriesLayoutBy:e])}var iu=nu.prototype;iu.pure=!1,iu.persistent=!0,iu.getSource=function(){return this._source};var ru={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:su},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],data=this._data,i=0;i<data.length;i++){var n=data[i];e.push(n?n[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:au,getItem:ou,appendData:su},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,col=this._data[t];return col?col.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var col=this._data[n[i].name];e.push(col?col[t]:null)}return e},appendData:function(t){var data=this._data;F(t,function(t,e){for(var n=data[e]||(data[e]=[]),i=0;i<(t||[]).length;i++)n.push(t[i])})}},original:{count:au,getItem:ou,appendData:su},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,i=0;i<this._dimSize;i++)e[i]=this._data[n+i];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}};function au(){return this._data.length}function ou(t){return this._data[t]}function su(t){for(var i=0;i<t.length;i++)this._data.push(t[i])}var lu={arrayRows:hu,objectRows:function(t,e,n,r){return null!=n?t[r]:t},keyedColumns:hu,original:function(t,e,n,r){var o=Dr(t);return null!=n&&o instanceof Array?o[n]:o},typedArray:hu};function hu(t,e,n,r){return null!=n?t[n]:t}var uu={arrayRows:cu,objectRows:function(t,e,n,r){return du(t[e],this._dimensionInfos[e])},keyedColumns:cu,original:function(t,e,n,r){var o=t&&(null==t.value?t:t.value);return!this._rawData.pure&&function(t){return wr(t)&&!(t instanceof Array)}(t)&&(this.hasItemOption=!0),du(o instanceof Array?o[r]:o,this._dimensionInfos[e])},typedArray:function(t,e,n,r){return t[r]}};function cu(t,e,n,r){return du(t[r],this._dimensionInfos[e])}function du(t,e){var n=e&&e.type;if("ordinal"===n){var r=e&&e.ordinalMeta;return r?r.parseAndCollect(t):t}return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Il(t)),null==t||""===t?NaN:+t}function fu(data,t,e){if(data){var n=data.getRawDataItem(t);if(null!=n){var r,o,l=data.getProvider().getSource().sourceFormat,h=data.getDimensionInfo(e);return h&&(r=h.name,o=h.index),lu[l](n,t,o,r)}}}var pu=/\{@(.+?)\}/g,gu={getDataParams:function(t,e){var data=this.getData(e),n=this.getRawValue(t,e),r=data.getRawIndex(t),o=data.getName(t),l=data.getRawDataItem(t),h=data.getItemVisual(t,"color"),c=data.getItemVisual(t,"borderColor"),d=this.ecModel.getComponent("tooltip"),f=zr(d&&d.get("renderMode")),v=this.mainType,m="series"===v,y=data.userOutput;return{componentType:v,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:m?this.subType:null,seriesIndex:this.seriesIndex,seriesId:m?this.id:null,seriesName:m?this.name:null,name:o,dataIndex:r,data:l,dataType:e,value:n,color:h,borderColor:c,dimensionNames:y?y.dimensionNames:null,encode:y?y.encode:null,marker:Fl({color:h,renderMode:f}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,r,o){e=e||"normal";var data=this.getData(n),l=data.getItemModel(t),h=this.getDataParams(t,n);null!=r&&h.value instanceof Array&&(h.value=h.value[r]);var c=l.get("normal"===e?[o||"label","formatter"]:[e,o||"label","formatter"]);return"function"==typeof c?(h.status=e,h.dimensionIndex=r,c(h)):"string"==typeof c?zl(c,h).replace(pu,function(e,n){var r=n.length;return"["===n.charAt(0)&&"]"===n.charAt(r-1)&&(n=+n.slice(1,r-1)),fu(data,t,n)}):void 0},getRawValue:function(t,e){return fu(this.getData(e),t)},formatTooltip:function(){}};function vu(t){return new mu(t)}function mu(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}var yu=mu.prototype;yu.perform=function(t){var e,n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var l,h=v(this._modBy),c=this._modDataCount||0,d=v(t&&t.modBy),f=t&&t.modDataCount||0;function v(t){return!(t>=1)&&(t=1),t}h===d&&c===f||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,l=function(t,e){var progress,n;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((progress=t._reset(t.context))&&progress.progress&&(n=progress.forceFirstProgress,progress=progress.progress),G(progress)&&!progress.length&&(progress=null)),t._progress=progress,t._modBy=t._modDataCount=null;var r=t._downstream;return r&&r.dirty(),n}(this,r)),this._modBy=d,this._modDataCount=f;var m=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var y=this._dueIndex,_=Math.min(null!=m?this._dueIndex+m:1/0,this._dueEnd);if(!r&&(l||y<_)){var progress=this._progress;if(G(progress))for(var i=0;i<progress.length;i++)xu(this,progress[i],y,_,d,f);else xu(this,progress,y,_,d,f)}this._dueIndex=_;var x=null!=this._settedOutputEnd?this._settedOutputEnd:_;this._outputDueEnd=x}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var _u=function(){var t,e,n,r,o,l={reset:function(s,d,f,v){e=s,t=d,n=f,r=v,o=Math.ceil(r/n),l.next=n>1&&r>0?c:h}};return l;function h(){return e<t?e++:null}function c(){var l=e%o*n+Math.ceil(e/o),h=e>=t?null:l<r?l:e;return e++,h}}();function xu(t,progress,e,n,r,o){_u.reset(e,n,r,o),t._callingProgress=progress,t._callingProgress({start:e,end:n,count:n-e,next:_u.next},t.context)}yu.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},yu.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},yu.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},yu.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},yu.getUpstream=function(){return this._upstream},yu.getDownstream=function(){return this._downstream},yu.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var wu=Lr(),bu=nh.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(option,t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=vu({count:Mu,reset:Iu}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(option,e),xh(this);var data=this.getInitialData(option,e);Cu(data,this),this.dataTask.context.data=data,wu(this).dataBeforeProcessed=data,Su(this)},mergeDefaultAndTheme:function(option,t){var e=this.layoutMode,n=e?$l(option):{},r=this.subType;nh.hasClass(r)&&(r+="Series"),k(option,t.getTheme().get(this.subType)),k(option,this.getDefaultOption()),Tr(option,"label",["show"]),this.fillDataTextStyle(option.data),e&&Kl(option,n,e)},mergeOption:function(t,e){t=k(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&Kl(this.option,t,n),xh(this);var data=this.getInitialData(t,e);Cu(data,this),this.dataTask.dirty(),this.dataTask.context.data=data,wu(this).dataBeforeProcessed=data,Su(this)},fillDataTextStyle:function(data){if(data&&!Z(data))for(var t=["show"],i=0;i<data.length;i++)data[i]&&data[i].label&&Tr(data[i],"label",t)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=ku(this);if(e){var data=e.context.data;return null==t?data:data.getLinkedData(t)}return wu(this).data},setData:function(data){var t=ku(this);if(t){var e=t.context;e.data!==data&&t.modifyOutputEnd&&t.setOutputEnd(data.count()),e.outputData=data,t!==this.dataTask&&(e.data=data)}wu(this).data=data},getSource:function(){return _h(this).source},getRawData:function(){return wu(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n,r){var o=this,l="html"===(r=r||"html")?"<br/>":"\n",h="richText"===r,c={},d=0;function f(t){return{renderMode:r,content:Bl(Al(t)),style:c}}var data=this.getData(),v=data.mapDimension("defaultedTooltip",!0),m=v.length,y=this.getRawValue(t),_=G(y),x=data.getItemVisual(t,"color");j(x)&&x.colorStops&&(x=(x.colorStops[0]||{}).color),x=x||"transparent";var content=(m>1||_&&!m?function(n){var l=H(n,function(t,e,n){var r=data.getDimensionInfo(n);return t|(r&&!1!==r.tooltip&&null!=r.displayName)},0),f=[];function m(t,n){var v=data.getDimensionInfo(n);if(v&&!1!==v.otherDims.tooltip){var m=v.type,y="sub"+o.seriesIndex+"at"+d,_=Fl({color:x,type:"subItem",renderMode:r,markerId:y}),w="string"==typeof _?_:_.content,S=(l?w+Bl(v.displayName||"-")+": ":"")+Bl("ordinal"===m?t+"":"time"===m?e?"":Vl("yyyy/MM/dd hh:mm:ss",t):Al(t));S&&f.push(S),h&&(c[y]=x,++d)}}v.length?F(v,function(e){m(fu(data,t,e),e)}):F(n,m);var y=l?h?"\n":"<br/>":"",content=y+f.join(y||", ");return{renderMode:r,content:content,style:c}}(y):f(m?fu(data,t,v[0]):_?y[0]:y)).content,w=o.seriesIndex+"at"+d,S=Fl({color:x,type:"item",renderMode:r,markerId:w});c[w]=x,++d;var M=data.getName(t),I=this.name;Ar(this)||(I=""),I=I?Bl(I)+(e?": ":l):"";var T="string"==typeof S?S:S.content;return{html:e?T+I+content:I+T+(M?Bl(M)+": "+content:content),markers:c}},isAnimationEnabled:function(){if(f.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var r=this.ecModel,o=oh.getColorFromPalette.call(this,t,e,n);return o||(o=r.getColorFromPalette(t,e,n)),o},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function Su(t){var e=t.name;Ar(t)||(t.name=function(t){var data=t.getRawData(),e=data.mapDimension("seriesName",!0),n=[];return F(e,function(t){var e=data.getDimensionInfo(t);e.displayName&&n.push(e.displayName)}),n.join(" ")}(t)||e)}function Mu(t){return t.model.getRawData().count()}function Iu(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),Tu}function Tu(param,t){param.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Cu(data,t){F(data.CHANGABLE_METHODS,function(e){data.wrapMethod(e,W(Du,t))})}function Du(t){var e=ku(t);e&&e.setOutputEnd(this.count())}function ku(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var o=r.agentStubMap;o&&(r=o.get(t.uid))}return r}}E(bu,gu),E(bu,oh);var Au=function(){this.group=new Cn,this.uid=gl("viewComponent")};Au.prototype={constructor:Au,init:function(t,e){},render:function(t,e,n,r){},dispose:function(){},filterForExposedEvent:null};var Pu=Au.prototype;Pu.updateView=Pu.updateLayout=Pu.updateVisual=function(t,e,n,r){},Wr(Au),Ur(Au,{registerWhenExtend:!0});var Ou=function(){var t=Lr();return function(e){var n=t(e),r=e.pipelineContext,o=n.large,l=n.progressiveRender,h=n.large=r.large,c=n.progressiveRender=r.progressiveRender;return!!(o^h||l^c)&&"reset"}},Lu=Lr(),Nu=Ou();function Bu(){this.group=new Cn,this.uid=gl("viewChart"),this.renderTask=vu({plan:Fu,reset:Hu}),this.renderTask.context={view:this}}Bu.prototype={type:"chart",init:function(t,e){},render:function(t,e,n,r){},highlight:function(t,e,n,r){zu(t.getData(),r,"emphasis")},downplay:function(t,e,n,r){zu(t.getData(),r,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var Ru=Bu.prototype;function Eu(t,e,n){if(t&&(t.trigger(e,n),t.isGroup&&!Fs(t)))for(var i=0,r=t.childCount();i<r;i++)Eu(t.childAt(i),e,n)}function zu(data,t,e){var n=Or(data,t),r=t&&null!=t.highlightKey?Hs(t.highlightKey):null;null!=n?F(Ir(n),function(t){Eu(data.getItemGraphicEl(t),e,r)}):data.eachItemGraphicEl(function(t){Eu(t,e,r)})}function Fu(t){return Nu(t.model)}function Hu(t){var e=t.model,n=t.ecModel,r=t.api,o=t.payload,l=e.pipelineContext.progressiveRender,view=t.view,h=o&&Lu(o).updateMethod,c=l?"incrementalPrepareRender":h&&view[h]?h:"render";return"render"!==c&&view[c](e,n,r,o),Vu[c]}Ru.updateView=Ru.updateLayout=Ru.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},Wr(Bu),Ur(Bu,{registerWhenExtend:!0}),Bu.markUpdateMethod=function(t,e){Lu(t).updateMethod=e};var Vu={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Wu="\0__throttleOriginMethod",Gu="\0__throttleRate",Xu="\0__throttleType";function Yu(t,e,n){var r,o,l,h,c,d=0,f=0,v=null;function m(){f=(new Date).getTime(),v=null,t.apply(l,h||[])}e=e||0;var y=function(){r=(new Date).getTime(),l=this,h=arguments;var t=c||e,y=c||n;c=null,o=r-(y?d:f)-t,clearTimeout(v),y?v=setTimeout(m,t):o>=0?m():v=setTimeout(m,-o),d=r};return y.clear=function(){v&&(clearTimeout(v),v=null)},y.debounceNextCall=function(t){c=t},y}var ju={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var data=t.getData(),n=(t.visualColorAccessPath||"itemStyle.color").split("."),r=t.get(n)||t.getColorFromPalette(t.name,null,e.getSeriesCount());data.setVisual("color",r);var o=(t.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),l=t.get(o);if(data.setVisual("borderColor",l),!e.isSeriesFiltered(t))return"function"!=typeof r||r instanceof ns||data.each(function(e){data.setItemVisual(e,"color",r(t.getDataParams(e)))}),{dataEach:data.hasItemOption?function(data,t){var e=data.getItemModel(t),r=e.get(n,!0),l=e.get(o,!0);null!=r&&data.setItemVisual(t,"color",r),null!=l&&data.setItemVisual(t,"borderColor",l)}:null}}},Uu={legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}},qu=function(t,e){var n=e.getModel("aria");if(n.get("show"))if(n.get("description"))t.setAttribute("aria-label",n.get("description"));else{var r=0;e.eachSeries(function(t,e){++r},this);var o,l=n.get("data.maxCount")||10,h=n.get("series.maxCount")||10,c=Math.min(r,h);if(!(r<1)){var title=function(){var title=e.getModel("title").option;return title&&title.length&&(title=title[0]),title&&title.text}();o=title?f(v("general.withTitle"),{title:title}):v("general.withoutTitle");var d=[];o+=f(v(r>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:r}),e.eachSeries(function(t,e){if(e<c){var n,o=t.get("name"),h="series."+(r>1?"multiple":"single")+".";n=f(n=v(o?h+"withName":h+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(x=t.subType,Uu.series.typeNames[x]||"")});var data=t.getData();window.data=data,data.count()>l?n+=f(v("data.partialData"),{displayCnt:l}):n+=v("data.allData");for(var m=[],i=0;i<data.count();i++)if(i<l){var y=data.getName(i),_=fu(data,i);m.push(f(v(y?"data.withName":"data.withoutName"),{name:y,value:_}))}n+=m.join(v("data.separator.middle"))+v("data.separator.end"),d.push(n)}var x}),o+=d.join(v("series.multiple.separator.middle"))+v("series.multiple.separator.end"),t.setAttribute("aria-label",o)}}function f(t,e){if("string"!=typeof t)return t;var n=t;return F(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}function v(path){var t=n.get(path);if(null==t){for(var e=path.split("."),r=Uu.aria,i=0;i<e.length;++i)r=r[e[i]];return r}return t}},Zu=Math.PI;function Ku(t,e,n,r){this.ecInstance=t,this.api=e,this.unfinished,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r),this._stageTaskMap=ut()}var $u=Ku.prototype;function Qu(t,e,n,r,o){var l;function h(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}o=o||{},F(e,function(e,c){if(!o.visualType||o.visualType===e.visualType){var d=t._stageTaskMap.get(e.uid),f=d.seriesTaskMap,v=d.overallTask;if(v){var m,y=v.agentStubMap;y.each(function(t){h(o,t)&&(t.dirty(),m=!0)}),m&&v.dirty(),Ju(v,r);var _=t.getPerformArgs(v,o.block);y.each(function(t){t.perform(_)}),l|=v.perform(_)}else f&&f.each(function(c,d){h(o,c)&&c.dirty();var f=t.getPerformArgs(c,o.block);f.skip=!e.performRawSeries&&n.isSeriesFiltered(c.context.model),Ju(c,r),l|=c.perform(f)})}}),t.unfinished|=l}$u.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},$u.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,o=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,l=r&&r.modDataCount;return{step:o,modBy:null!=l?Math.ceil(l/o):null,modDataCount:l}}},$u.getPipeline=function(t){return this._pipelineMap.get(t)},$u.updateStreamModes=function(t,view){var e=this._pipelineMap.get(t.uid),n=t.getData().count(),r=e.progressiveEnabled&&view.incrementalPrepareRender&&n>=e.threshold,o=t.get("large")&&n>=t.get("largeThreshold"),l="mod"===t.get("progressiveChunkMode")?n:null;t.pipelineContext=e.context={progressiveRender:r,modDataCount:l,large:o}},$u.restorePipelines=function(t){var e=this,n=e._pipelineMap=ut();t.eachSeries(function(t){var r=t.getProgressive(),o=t.uid;n.set(o,{id:o,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),hc(e,t,t.dataTask)})},$u.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),n=this.api;F(this._allHandlers,function(r){var o=t.get(r.uid)||t.set(r.uid,[]);r.reset&&function(t,e,n,r,o){var l=n.seriesTaskMap||(n.seriesTaskMap=ut()),h=e.seriesType,c=e.getTargetSeries;function d(n){var h=n.uid,c=l.get(h)||l.set(h,vu({plan:rc,reset:ac,count:lc}));c.context={model:n,ecModel:r,api:o,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},hc(t,n,c)}e.createOnAllSeries?r.eachRawSeries(d):h?r.eachRawSeriesByType(h,d):c&&c(r,o).each(d);var f=t._pipelineMap;l.each(function(t,e){f.get(e)||(t.dispose(),l.removeKey(e))})}(this,r,o,e,n),r.overallReset&&function(t,e,n,r,o){var l=n.overallTask=n.overallTask||vu({reset:tc});l.context={ecModel:r,api:o,overallReset:e.overallReset,scheduler:t};var h=l.agentStubMap=l.agentStubMap||ut(),c=e.seriesType,d=e.getTargetSeries,f=!0,v=e.modifyOutputEnd;function m(e){var n=e.uid,r=h.get(n);r||(r=h.set(n,vu({reset:ec,onDirty:ic})),l.dirty()),r.context={model:e,overallProgress:f,modifyOutputEnd:v},r.agent=l,r.__block=f,hc(t,e,r)}c?r.eachRawSeriesByType(c,m):d?d(r,o).each(m):(f=!1,F(r.getSeries(),m));var y=t._pipelineMap;h.each(function(t,e){y.get(e)||(t.dispose(),l.dirty(),h.removeKey(e))})}(this,r,o,e,n)},this)},$u.prepareView=function(view,t,e,n){var r=view.renderTask,o=r.context;o.model=t,o.ecModel=e,o.api=n,r.__block=!view.incrementalPrepareRender,hc(this,t,r)},$u.performDataProcessorTasks=function(t,e){Qu(this,this._dataProcessorHandlers,t,e,{block:!0})},$u.performVisualTasks=function(t,e,n){Qu(this,this._visualHandlers,t,e,n)},$u.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},$u.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var Ju=$u.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)};function tc(t){t.overallReset(t.ecModel,t.api,t.payload)}function ec(t,e){return t.overallProgress&&nc}function nc(){this.agent.dirty(),this.getDownstream().dirty()}function ic(){this.agent&&this.agent.dirty()}function rc(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function ac(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Ir(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?map(e,function(t,e){return sc(e)}):oc}var oc=sc(0);function sc(t){return function(e,n){var data=n.data,r=n.resetDefines[t];if(r&&r.dataEach)for(var i=e.start;i<e.end;i++)r.dataEach(data,i);else r&&r.progress&&r.progress(e,data)}}function lc(t){return t.data.count()}function hc(t,e,n){var r=e.uid,o=t._pipelineMap.get(r);!o.head&&(o.head=n),o.tail&&o.tail.pipe(n),o.tail=n,n.__idxInPipeline=o.count++,n.__pipeline=o}function uc(t){cc=null;try{t(dc,fc)}catch(t){}return cc}Ku.wrapStageHandler=function(t,e){return X(t)&&(t={overallReset:t,seriesType:uc(t)}),t.uid=gl("stageHandler"),e&&(t.visualType=e),t};var cc,dc={},fc={};function pc(t,e){for(var n in e.prototype)t[n]=ct}pc(dc,Th),pc(fc,Ah),dc.eachSeriesByType=dc.eachRawSeriesByType=function(t){cc=t},dc.eachComponent=function(t){"series"===t.mainType&&t.subType&&(cc=t.subType)};var gc=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],vc={color:gc,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],gc]},mc=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],yc={color:mc,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:mc[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:mc},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};yc.categoryAxis.splitLine.show=!1,nh.extend({type:"dataset",defaultOption:{seriesLayoutBy:vh,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(t){var data=t.option.source,e=ph;if(Z(data))e=gh;else if(G(data)){0===data.length&&(e=ch);for(var i=0,n=data.length;i<n;i++){var r=data[i];if(null!=r){if(G(r)){e=ch;break}if(j(r)){e=dh;break}}}}else if(j(data)){for(var o in data)if(data.hasOwnProperty(o)&&z(data[o])){e=fh;break}}else if(null!=data)throw new Error("Invalid data");_h(t).sourceFormat=e}(this)}}),Au.extend({type:"dataset"});var _c=fo.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var n=.5522848,r=e.cx,o=e.cy,a=e.rx,b=e.ry,l=a*n,h=b*n;t.moveTo(r-a,o),t.bezierCurveTo(r-a,o-h,r-l,o-b,r,o-b),t.bezierCurveTo(r+l,o-b,r+a,o-h,r+a,o),t.bezierCurveTo(r+a,o+h,r+l,o+b,r,o+b),t.bezierCurveTo(r-l,o+b,r-a,o+h,r-a,o),t.closePath()}}),xc=/[\s,]+/;function wc(svg){for(Y(svg)&&(svg=(new DOMParser).parseFromString(svg,"text/xml")),9===svg.nodeType&&(svg=svg.firstChild);"svg"!==svg.nodeName.toLowerCase()||1!==svg.nodeType;)svg=svg.nextSibling;return svg}function bc(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}bc.prototype.parse=function(t,e){e=e||{};var svg=wc(t);if(!svg)throw new Error("Illegal svg");var n=new Cn;this._root=n;var r=svg.getAttribute("viewBox")||"",o=parseFloat(svg.getAttribute("width")||e.width),l=parseFloat(svg.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),Dc(svg,n,null,!0);for(var h,c,d=svg.firstChild;d;)this._parseNode(d,n),d=d.nextSibling;if(r){var f=at(r).split(xc);f.length>=4&&(h={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(h&&null!=o&&null!=l&&(c=function(t,e,n){var r=e/t.width,o=n/t.height,l=Math.min(r,o),h=[l,l],c=[-(t.x+t.width/2)*l+e/2,-(t.y+t.height/2)*l+n/2];return{scale:h,position:c}}(h,o,l),!e.ignoreViewBox)){var v=n;(n=new Cn).add(v),v.scale=c.scale.slice(),v.position=c.position.slice()}return e.ignoreRootClip||null==o||null==l||n.setClipPath(new qo({shape:{x:0,y:0,width:o,height:l}})),{root:n,width:o,height:l,viewBoxRect:h,viewBoxTransform:c}},bc.prototype._parseNode=function(t,e){var n,r,o=t.nodeName.toLowerCase();if("defs"===o?this._isDefine=!0:"text"===o&&(this._isText=!0),this._isDefine){if(r=Mc[o]){var l=r.call(this,t),h=t.getAttribute("id");h&&(this._defs[h]=l)}}else(r=Sc[o])&&(n=r.call(this,t,e),e.add(n));for(var c=t.firstChild;c;)1===c.nodeType&&this._parseNode(c,n),3===c.nodeType&&this._isText&&this._parseText(c,n),c=c.nextSibling;"defs"===o?this._isDefine=!1:"text"===o&&(this._isText=!1)},bc.prototype._parseText=function(t,e){if(1===t.nodeType){var n=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(r)}var text=new Po({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Ic(e,text),Dc(t,text,this._defs);var o=text.style.fontSize;o&&o<9&&(text.style.fontSize=9,text.scale=text.scale||[1,1],text.scale[0]*=o/9,text.scale[1]*=o/9);var rect=text.getBoundingRect();return this._textX+=rect.width,e.add(text),text};var Sc={g:function(t,e){var g=new Cn;return Ic(e,g),Dc(t,g,this._defs),g},rect:function(t,e){var rect=new qo;return Ic(e,rect),Dc(t,rect,this._defs),rect.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),rect},circle:function(t,e){var circle=new Lo;return Ic(e,circle),Dc(t,circle,this._defs),circle.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),circle},line:function(t,e){var line=new Ko;return Ic(e,line),Dc(t,line,this._defs),line.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),line},ellipse:function(t,e){var ellipse=new _c;return Ic(e,ellipse),Dc(t,ellipse,this._defs),ellipse.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),ellipse},polygon:function(t,e){var n=t.getAttribute("points");n&&(n=Tc(n));var polygon=new Vo({shape:{points:n||[]}});return Ic(e,polygon),Dc(t,polygon,this._defs),polygon},polyline:function(t,e){var path=new fo;Ic(e,path),Dc(t,path,this._defs);var n=t.getAttribute("points");return n&&(n=Tc(n)),new Wo({shape:{points:n||[]}})},image:function(t,e){var img=new Ki;return Ic(e,img),Dc(t,img,this._defs),img.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),img},text:function(t,e){var n=t.getAttribute("x")||0,r=t.getAttribute("y")||0,o=t.getAttribute("dx")||0,l=t.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(l);var g=new Cn;return Ic(e,g),Dc(t,g,this._defs),g},tspan:function(t,e){var n=t.getAttribute("x"),r=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var o=t.getAttribute("dx")||0,l=t.getAttribute("dy")||0,g=new Cn;return Ic(e,g),Dc(t,g,this._defs),this._textX+=o,this._textY+=l,g},path:function(t,e){var path=Ao(t.getAttribute("d")||"");return Ic(e,path),Dc(t,path,this._defs),path}},Mc={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),n=parseInt(t.getAttribute("y1")||0,10),r=parseInt(t.getAttribute("x2")||10,10),o=parseInt(t.getAttribute("y2")||0,10),l=new is(e,n,r,o);return function(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType){var r=n.getAttribute("offset");r=r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var o=n.getAttribute("stop-color")||"#000000";e.addColorStop(r,o)}n=n.nextSibling}}(t,l),l},radialgradient:function(t){}};function Ic(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),P(e.__inheritedStyle,t.__inheritedStyle))}function Tc(t){for(var e=at(t).split(xc),n=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);n.push([r,o])}return n}var Cc={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Dc(t,e,defs,n){var r=e.__inheritedStyle||{},o="text"===e.type;if(1===t.nodeType&&(function(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=null,o=[];n.replace(Pc,function(t,e,n){o.push(e,n)});for(var i=o.length-1;i>0;i-=2){var l=o[i],h=o[i-1];switch(r=r||ae(),h){case"translate":l=at(l).split(xc),he(r,r,[parseFloat(l[0]),parseFloat(l[1]||0)]);break;case"scale":l=at(l).split(xc),ce(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":l=at(l).split(xc),ue(r,r,parseFloat(l[0]));break;case"skew":l=at(l).split(xc),console.warn("Skew transform is not supported yet");break;case"matrix":l=at(l).split(xc),r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5])}}e.setLocalTransform(r)}}(t,e),A(r,function(t){var style=t.getAttribute("style"),e={};if(!style)return e;var n,r={};for(Oc.lastIndex=0;null!=(n=Oc.exec(style));)r[n[1]]=n[2];for(var o in Cc)Cc.hasOwnProperty(o)&&null!=r[o]&&(e[Cc[o]]=r[o]);return e}(t)),!n))for(var l in Cc)if(Cc.hasOwnProperty(l)){var h=t.getAttribute(l);null!=h&&(r[Cc[l]]=h)}var c=o?"textFill":"fill",d=o?"textStroke":"stroke";e.style=e.style||new Gn;var f=e.style;null!=r.fill&&f.set(c,Ac(r.fill,defs)),null!=r.stroke&&f.set(d,Ac(r.stroke,defs)),F(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&o?"textStrokeWidth":t;null!=r[t]&&f.set(e,parseFloat(r[t]))}),r.textBaseline&&"auto"!==r.textBaseline||(r.textBaseline="alphabetic"),"alphabetic"===r.textBaseline&&(r.textBaseline="bottom"),"start"===r.textAlign&&(r.textAlign="left"),"end"===r.textAlign&&(r.textAlign="right"),F(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=r[t]&&f.set(t,r[t])}),r.lineDash&&(e.style.lineDash=at(r.lineDash).split(xc)),f[d]&&"none"!==f[d]&&(e[d]=!0),e.__inheritedStyle=r}var kc=/url\(\s*#(.*?)\)/;function Ac(t,defs){var e=defs&&t&&t.match(kc);return e?defs[at(e[1])]:t}var Pc=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,Oc=/([^\s:;]+)\s*:\s*([^:;]+)/g,Lc=ut(),Nc={registerMap:function(t,e,n){var r;return G(e)?r=e:e.svg?r=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),r=[{type:"geoJSON",source:e,specialAreas:n}]),F(r,function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON"),(0,Bc[e])(t)}),Lc.set(t,r)},retrieveMap:function(t){return Lc.get(t)}},Bc={geoJSON:function(t){var source=t.source;t.geoJSON=Y(source)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(source):new Function("return ("+source+");")():source},svg:function(t){t.svgXML=wc(t.source)}},Rc=it,Ec=F,zc=X,Fc=j,Hc=nh.parseClassType,Vc=1e3,Wc=1e3,Gc=3e3,Xc={PROCESSOR:{FILTER:Vc,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:Wc,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:Gc,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},Yc="__flagInMainProcess",jc="__optionUpdated",Uc=/^[a-zA-Z0-9_]+$/;function qc(t,e){return function(n,r,o){!e&&this._disposed||(n=n&&n.toLowerCase(),Bt.prototype[t].call(this,n,r,o))}}function Zc(){Bt.call(this)}function Kc(t,e,n){n=n||{},"string"==typeof e&&(e=bd[e]),this.id,this.group,this._dom=t;var r=this._zr=mr(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=Yu(V(r.flush,r),17),(e=D(e))&&tu(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Oh;var o,l,h=this._api=(l=(o=this)._coordSysMgr,A(new Ah(o),{getCoordinateSystems:V(l.getCoordinateSystems,l),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return o._model.getComponent(e.mainType,e.index);t=t.parent}}}));function c(a,b){return a.__prio-b.__prio}Bn(wd,c),Bn(yd,c),this._scheduler=new Ku(this,h,yd,wd),Bt.call(this,this._ecEventProcessor=new gd),this._messageCenter=new Zc,this._initEvents(),this.resize=V(this.resize,this),this._pendingActions=[],r.animation.on("frame",this._onframe,this),function(t,e){t.on("rendered",function(){e.trigger("rendered"),!t.animation.isFinished()||e[jc]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})}(r,this),st(this)}Zc.prototype.on=qc("on",!0),Zc.prototype.off=qc("off",!0),Zc.prototype.one=qc("one",!0),E(Zc,Bt);var $c=Kc.prototype;function Qc(t,e,n){if(!this._disposed){var r,o=this._model,l=this._coordSysMgr.getCoordinateSystems();e=Br(o,e);for(var i=0;i<l.length;i++){var h=l[i];if(h[t]&&null!=(r=h[t](o,e,n)))return r}}}$c._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[jc]){var e=this[jc].silent;this[Yc]=!0,ed(this),Jc.update.call(this),this[Yc]=!1,this[jc]=!1,ad.call(this,e),od.call(this,e)}else if(t.unfinished){var n=1,r=this._model;this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),id(this,r),t.performVisualTasks(r),ud(this,this._model,0,"remain"),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},$c.getDom=function(){return this._dom},$c.getZr=function(){return this._zr},$c.setOption=function(option,t,e){if(!this._disposed){var n;if(Fc(t)&&(e=t.lazyUpdate,n=t.silent,t=t.notMerge),this[Yc]=!0,!this._model||t){var r=new zh(this._api),o=this._theme,l=this._model=new Th;l.scheduler=this._scheduler,l.init(null,null,o,r)}this._model.setOption(option,_d),e?(this[jc]={silent:n},this[Yc]=!1):(ed(this),Jc.update.call(this),this._zr.flush(),this[jc]=!1,this[Yc]=!1,ad.call(this,n),od.call(this,n))}},$c.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},$c.getModel=function(){return this._model},$c.getOption=function(){return this._model&&this._model.getOption()},$c.getWidth=function(){return this._zr.getWidth()},$c.getHeight=function(){return this._zr.getHeight()},$c.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},$c.getRenderedCanvas=function(t){if(f.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},$c.getSvgDataUrl=function(){if(f.svgSupported){var t=this._zr;return F(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},$c.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,r=[],o=this;Ec(e,function(t){n.eachComponent({mainType:t},function(component){var view=o._componentsMap[component.__viewId];view.group.ignore||(r.push(view),view.group.ignore=!0)})});var l="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Ec(r,function(view){view.group.ignore=!1}),l}},$c.getConnectedDataURL=function(t){if(!this._disposed&&f.canvasSupported){var e=this.group,n=Math.min,r=Math.max;if(Id[e]){var o=1/0,l=1/0,h=-1/0,c=-1/0,d=[],v=t&&t.pixelRatio||1;F(Md,function(f,v){if(f.group===e){var canvas=f.getRenderedCanvas(D(t)),m=f.getDom().getBoundingClientRect();o=n(m.left,o),l=n(m.top,l),h=r(m.right,h),c=r(m.bottom,c),d.push({dom:canvas,left:m.left,top:m.top})}});var m=(h*=v)-(o*=v),y=(c*=v)-(l*=v),_=L();_.width=m,_.height=y;var x=mr(_);return t.connectedBackgroundColor&&x.add(new qo({shape:{x:0,y:0,width:m,height:y},style:{fill:t.connectedBackgroundColor}})),Ec(d,function(t){var img=new Ki({style:{x:t.left*v-o,y:t.top*v-l,image:t.dom}});x.add(img)}),x.refreshImmediately(),_.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},$c.convertToPixel=W(Qc,"convertToPixel"),$c.convertFromPixel=W(Qc,"convertFromPixel"),$c.containPixel=function(t,e){var n;if(!this._disposed)return F(t=Br(this._model,t),function(t,r){r.indexOf("Models")>=0&&F(t,function(t){var o=t.coordinateSystem;if(o&&o.containPoint)n|=!!o.containPoint(e);else if("seriesModels"===r){var view=this._chartsMap[t.__viewId];view&&view.containPoint&&(n|=view.containPoint(e,t))}},this)},this),!!n},$c.getVisual=function(t,e){var data=(t=Br(this._model,t,{defaultMainType:"series"})).seriesModel.getData(),n=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?data.indexOfRawIndex(t.dataIndex):null;return null!=n?data.getItemVisual(n,e):data.getVisual(e)},$c.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},$c.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var Jc={prepareAndUpdate:function(t){ed(this),Jc.update.call(this,t)},update:function(t){var e=this._model,n=this._api,r=this._zr,o=this._coordSysMgr,l=this._scheduler;if(e){l.restoreData(e,t),l.performSeriesTasks(e),o.create(e,n),l.performDataProcessorTasks(e,t),id(this,e),o.update(e,n),ld(e),l.performVisualTasks(e,t),hd(this,e,n,t);var h=e.get("backgroundColor")||"transparent";if(f.canvasSupported)r.setBackgroundColor(h);else{var c=Ve(h);h=Ze(c,"rgb"),0===c[3]&&(h="transparent")}cd(e,n)}},updateTransform:function(t){var e=this._model,n=this,r=this._api;if(e){var o=[];e.eachComponent(function(l,h){var c=n.getViewOfComponentModel(h);if(c&&c.__alive)if(c.updateTransform){var d=c.updateTransform(h,e,r,t);d&&d.update&&o.push(c)}else o.push(c)});var l=ut();e.eachSeries(function(o){var h=n._chartsMap[o.__viewId];if(h.updateTransform){var c=h.updateTransform(o,e,r,t);c&&c.update&&l.set(o.uid,1)}else l.set(o.uid,1)}),ld(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:l}),ud(n,e,0,t,l),cd(e,this._api)}},updateView:function(t){var e=this._model;e&&(Bu.markUpdateMethod(t,"updateView"),ld(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),hd(this,this._model,this._api,t),cd(e,this._api))},updateVisual:function(t){Jc.update.call(this,t)},updateLayout:function(t){Jc.update.call(this,t)}};function ed(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),sd(t,"component",e,n),sd(t,"chart",e,n),n.plan()}function nd(t,e,n,r,o){var l=t._model;if(r){var h={};h[r+"Id"]=n[r+"Id"],h[r+"Index"]=n[r+"Index"],h[r+"Name"]=n[r+"Name"];var c={mainType:r,query:h};o&&(c.subType=o);var d=n.excludeSeriesId;null!=d&&(d=ut(Ir(d))),l&&l.eachComponent(c,function(e){d&&null!=d.get(e.id)||f(t["series"===r?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else Ec(t._componentsViews.concat(t._chartsViews),f);function f(view){view&&view.__alive&&view[e]&&view[e](view.__model,l,t._api,n)}}function id(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries(function(t){r.updateStreamModes(t,n[t.__viewId])})}function rd(t,e){var n=t.type,r=t.escapeConnect,o=vd[n],l=o.actionInfo,h=(l.update||"update").split(":"),c=h.pop();h=null!=h[0]&&Hc(h[0]),this[Yc]=!0;var d=[t],f=!1;t.batch&&(f=!0,d=map(t.batch,function(e){return(e=P(A({},e),t)).batch=null,e}));var v,m=[],y="highlight"===n||"downplay"===n;Ec(d,function(t){(v=(v=o.action(t,this._model,this._api))||A({},t)).type=l.event||v.type,m.push(v),y?nd(this,c,t,"series"):h&&nd(this,c,t,h.main,h.sub)},this),"none"===c||y||h||(this[jc]?(ed(this),Jc.update.call(this,t),this[jc]=!1):Jc[c].call(this,t)),v=f?{type:l.event||n,escapeConnect:r,batch:m}:m[0],this[Yc]=!1,!e&&this._messageCenter.trigger(v.type,v)}function ad(t){for(var e=this._pendingActions;e.length;){var n=e.shift();rd.call(this,n,t)}}function od(t){!t&&this.trigger("updated")}function sd(t,e,n,r){for(var o="component"===e,l=o?t._componentsViews:t._chartsViews,h=o?t._componentsMap:t._chartsMap,c=t._zr,d=t._api,i=0;i<l.length;i++)l[i].__alive=!1;function f(t){var e="_ec_"+t.id+"_"+t.type,view=h[e];if(!view){var f=Hc(t.type);(view=new(o?Au.getClass(f.main,f.sub):Bu.getClass(f.sub))).init(n,d),h[e]=view,l.push(view),c.add(view.group)}t.__viewId=view.__id=e,view.__alive=!0,view.__model=t,view.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!o&&r.prepareView(view,t,n,d)}for(o?n.eachComponent(function(t,e){"series"!==t&&f(e)}):n.eachSeries(f),i=0;i<l.length;){var view=l[i];view.__alive?i++:(!o&&view.renderTask.dispose(),c.remove(view.group),view.dispose(n,d),l.splice(i,1),delete h[view.__id],view.__id=view.group.__ecComponentInfo=null)}}function ld(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function hd(t,e,n,r){!function(t,e,n,r,o){Ec(o||t._componentsViews,function(t){var o=t.__model;t.render(o,e,n,r),pd(o,t)})}(t,e,n,r),Ec(t._chartsViews,function(t){t.__alive=!1}),ud(t,e,0,r),Ec(t._chartsViews,function(t){t.__alive||t.remove(e,n)})}function ud(t,e,n,r,o){var l,h=t._scheduler;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var c=n.renderTask;h.updatePayload(c,r),o&&o.get(e.uid)&&c.dirty(),l|=c.perform(h.getPerformArgs(c)),n.group.silent=!!e.get("silent"),pd(e,n),function(t,e){var n=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",n)})})}(e,n)}),h.unfinished|=l,function(t,e){var n=t._zr.storage,r=0;n.traverse(function(t){r++}),r>e.get("hoverLayerThreshold")&&!f.node&&e.eachSeries(function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.group.traverse(function(t){t.useHoverLayer=!0})}})}(t,e),qu(t._zr.dom,e)}function cd(t,e){Ec(xd,function(n){n(t,e)})}$c.resize=function(t){if(!this._disposed){this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),r=t&&t.silent;this[Yc]=!0,n&&ed(this),Jc.update.call(this),this[Yc]=!1,ad.call(this,r),od.call(this,r)}}},$c.showLoading=function(t,e){if(!this._disposed&&(Fc(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Sd[t])){var n=Sd[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}},$c.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},$c.makeActionFromEvent=function(t){var e=A({},t);return e.type=md[t.type],e},$c.dispatchAction=function(t,e){this._disposed||(Fc(e)||(e={silent:!!e}),vd[t.type]&&this._model&&(this[Yc]?this._pendingActions.push(t):(rd.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&f.browser.weChat&&this._throttledZrFlush(),ad.call(this,e.silent),od.call(this,e.silent))))},$c.appendData=function(t){if(!this._disposed){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0}},$c.on=qc("on",!1),$c.off=qc("off",!1),$c.one=qc("one",!1);var fd=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function pd(t,view){var e=t.get("z"),n=t.get("zlevel");view.group.traverse(function(t){"group"!==t.type&&(null!=e&&(t.z=e),null!=n&&(t.zlevel=n))})}function gd(){this.eventInfo}$c._initEvents=function(){Ec(fd,function(t){var e=function(e){var n,r=this.getModel(),o=e.target;if("globalout"===t)n={};else if(o&&null!=o.dataIndex){var l=o.dataModel||r.getSeriesByIndex(o.seriesIndex);n=l&&l.getDataParams(o.dataIndex,o.dataType,o)||{}}else o&&o.eventData&&(n=A({},o.eventData));if(n){var h=n.componentType,c=n.componentIndex;"markLine"!==h&&"markPoint"!==h&&"markArea"!==h||(h="series",c=n.seriesIndex);var d=h&&null!=c&&r.getComponent(h,c),view=d&&this["series"===d.mainType?"_chartsMap":"_componentsMap"][d.__viewId];n.event=e,n.type=t,this._ecEventProcessor.eventInfo={targetEl:o,packedEvent:n,model:d,view:view},this.trigger(t,n)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)},this),Ec(md,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},$c.isDisposed=function(){return this._disposed},$c.clear=function(){this._disposed||this.setOption({series:[]},!0)},$c.dispose=function(){if(!this._disposed){this._disposed=!0,Er(this.getDom(),Dd,"");var t=this._api,e=this._model;Ec(this._componentsViews,function(component){component.dispose(e,t)}),Ec(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),delete Md[this.id]}},E(Kc,Bt),gd.prototype={constructor:gd,normalizeQuery:function(t){var e={},n={},r={};if(Y(t)){var o=Hc(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var l=["Index","Name","Id"],h={name:1,dataIndex:1,dataType:1};F(t,function(t,o){for(var c=!1,i=0;i<l.length;i++){var d=l[i],f=o.lastIndexOf(d);if(f>0&&f===o.length-d.length){var v=o.slice(0,f);"data"!==v&&(e.mainType=v,e[d.toLowerCase()]=t,c=!0)}}h.hasOwnProperty(o)&&(n[o]=t,c=!0),c||(r[o]=t)})}return{cptQuery:e,dataQuery:n,otherQuery:r}},filter:function(t,e,n){var r=this.eventInfo;if(!r)return!0;var o=r.targetEl,l=r.packedEvent,h=r.model,view=r.view;if(!h||!view)return!0;var c=e.cptQuery,d=e.dataQuery;return f(c,h,"mainType")&&f(c,h,"subType")&&f(c,h,"index","componentIndex")&&f(c,h,"name")&&f(c,h,"id")&&f(d,l,"name")&&f(d,l,"dataIndex")&&f(d,l,"dataType")&&(!view.filterForExposedEvent||view.filterForExposedEvent(t,e.otherQuery,o,l));function f(t,e,n,r){return null==t[n]||e[r||n]===t[n]}},afterTrigger:function(){this.eventInfo=null}};var vd={},md={},yd=[],_d=[],xd=[],wd=[],bd={},Sd={},Md={},Id={},Td=new Date-0,Cd=new Date-0,Dd="_echarts_instance_";function kd(t){Id[t]=!1}var Ad=kd;function Pd(t){return Md[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,Dd)]}function Od(t,e){bd[t]=e}function Ld(t){_d.push(t)}function Nd(t,e){zd(yd,t,e,Vc)}function Bd(t,e,n){"function"==typeof e&&(n=e,e="");var r=Fc(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,Rc(Uc.test(r)&&Uc.test(e)),vd[r]||(vd[r]={action:n,actionInfo:t}),md[e]=r}function Rd(t,e){zd(wd,t,e,Wc,"layout")}function Ed(t,e){zd(wd,t,e,Gc,"visual")}function zd(t,e,n,r,o){(zc(e)||Fc(e))&&(n=e,e=r);var l=Ku.wrapStageHandler(n,o);return l.__prio=e,l.__raw=n,t.push(l),l}function Fd(t,e){Sd[t]=e}function Hd(t){return nh.extend(t)}function Vd(t){return Au.extend(t)}function Wd(t){return Bu.extend(t)}function Gd(t){return t}function Xd(t,e,n,r,o){this._old=t,this._new=e,this._oldKeyGetter=n||Gd,this._newKeyGetter=r||Gd,this.context=o}function Yd(t,map,e,n,r){for(var i=0;i<t.length;i++){var o="_ec_"+r[n](t[i],i),l=map[o];null==l?(e.push(o),map[o]=i):(l.length||(map[o]=l=[l]),l.push(i))}}Ed(2e3,ju),Ld(tu),Nd(900,function(t){var e=ut();t.eachSeries(function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),data=t.getData(),o={stackResultDimension:data.getCalculationInfo("stackResultDimension"),stackedOverDimension:data.getCalculationInfo("stackedOverDimension"),stackedDimension:data.getCalculationInfo("stackedDimension"),stackedByDimension:data.getCalculationInfo("stackedByDimension"),isStackedByIndex:data.getCalculationInfo("isStackedByIndex"),data:data,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;r.length&&data.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}}),e.each(eu)}),Fd("default",function(t,e){P(e=e||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var mask=new qo({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),n=new ts({shape:{startAngle:-Zu/2,endAngle:-Zu/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),r=new qo({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});n.animateShape(!0).when(1e3,{endAngle:3*Zu/2}).start("circularInOut"),n.animateShape(!0).when(1e3,{startAngle:3*Zu/2}).delay(300).start("circularInOut");var o=new Cn;return o.add(n),o.add(r),o.add(mask),o.resize=function(){var e=t.getWidth()/2,o=t.getHeight()/2;n.setShape({cx:e,cy:o});var l=n.shape.r;r.setShape({x:e-l,y:o-l,width:2*l,height:2*l}),mask.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},o.resize(),o}),Bd({type:"highlight",event:"highlight",update:"highlight"},ct),Bd({type:"downplay",event:"downplay",update:"downplay"},ct),Od("light",vc),Od("dark",yc),Xd.prototype={constructor:Xd,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},r=[],o=[];for(Yd(t,{},r,"_oldKeyGetter",this),Yd(e,n,o,"_newKeyGetter",this),i=0;i<t.length;i++)null!=(h=n[l=r[i]])?((d=h.length)?(1===d&&(n[l]=null),h=h.unshift()):n[l]=null,this._update&&this._update(h,i)):this._remove&&this._remove(i);for(var i=0;i<o.length;i++){var l=o[i];if(n.hasOwnProperty(l)){var h;if(null==(h=n[l]))continue;if(h.length)for(var c=0,d=h.length;c<d;c++)this._add&&this._add(h[c]);else this._add&&this._add(h)}}}};var jd=ut(["tooltip","label","itemName","itemId","seriesName"]);function Ud(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}var qd=j,Zd=-1,Kd="e\0\0",$d={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},Qd="undefined"==typeof Uint32Array?Array:Uint32Array,Jd="undefined"==typeof Int32Array?Array:Int32Array,tf="undefined"==typeof Uint16Array?Array:Uint16Array;function ef(t){return t._rawCount>65535?Qd:tf}var nf=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],rf=["_extent","_approximateExtent","_rawExtent"];function af(t,source){F(nf.concat(source.__wrappedMethods||[]),function(e){source.hasOwnProperty(e)&&(t[e]=source[e])}),t.__wrappedMethods=source.__wrappedMethods,F(rf,function(e){t[e]=D(source[e])}),t._calculationInfo=A(source._calculationInfo)}var of=function(t,e){t=t||["x","y"];for(var n={},r=[],o={},i=0;i<t.length;i++){var l=t[i];Y(l)&&(l={name:l});var h=l.name;l.type=l.type||"float",l.coordDim||(l.coordDim=h,l.coordDimIndex=0),l.otherDims=l.otherDims||{},r.push(h),n[h]=l,l.index=i,l.createInvertedIndices&&(o[h]=[])}this.dimensions=r,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(data){var summary={},t=summary.encode={},e=ut(),n=[],r=[],o=summary.userOutput={dimensionNames:data.dimensions.slice(),encode:{}};F(data.dimensions,function(l){var h,c=data.getDimensionInfo(l),d=c.coordDim;if(d){var f=c.coordDimIndex;Ud(t,d)[f]=l,c.isExtraCoord||(e.set(d,1),"ordinal"!==(h=c.type)&&"time"!==h&&(n[0]=l),Ud(o.encode,d)[f]=c.index),c.defaultTooltip&&r.push(l)}jd.each(function(e,n){var r=Ud(t,n),o=c.otherDims[n];null!=o&&!1!==o&&(r[o]=c.name)})});var l=[],h={};e.each(function(e,n){var r=t[n];h[n]=r[0],l=l.concat(r)}),summary.dataDimsOnCoord=l,summary.encodeFirstDimNotExtra=h;var c=t.label;c&&c.length&&(n=c.slice());var d=t.tooltip;return d&&d.length?r=d.slice():r.length||(r=n.slice()),t.defaultedLabel=n,t.defaultedTooltip=r,summary}(this),this._invertedIndicesMap=o,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},sf=of.prototype;function lf(t,e,n,r,o){var l=$d[e.type],h=r-1,c=e.name,d=t[c][h];if(d&&d.length<n){for(var f=new l(Math.min(o-h*n,n)),v=0;v<d.length;v++)f[v]=d[v];t[c][h]=f}for(var m=r*n;m<o;m+=n)t[c].push(new l(Math.min(o-m,n)))}function hf(t){var e=t._invertedIndicesMap;F(e,function(n,r){var o=t._dimensionInfos[r].ordinalMeta;if(o){n=e[r]=new Jd(o.categories.length);for(var i=0;i<n.length;i++)n[i]=Zd;for(i=0;i<t._count;i++)n[t.get(r,i)]=i}})}function uf(t,e,n){var r;if(null!=e){var o=t._chunkSize,l=Math.floor(n/o),h=n%o,c=t.dimensions[e],d=t._storage[c][l];if(d){r=d[h];var f=t._dimensionInfos[c].ordinalMeta;f&&f.categories.length&&(r=f.categories[r])}}return r}function cf(t){return t}function df(t){return t<this._count&&t>=0?this._indices[t]:-1}function ff(t,e){var n=t._idList[e];return null==n&&(n=uf(t,t._idDimIdx,e)),null==n&&(n=Kd+e),n}function pf(t){return G(t)||(t=[t]),t}function gf(t,e){var n=t.dimensions,r=new of(map(n,t.getDimensionInfo,t),t.hostModel);af(r,t);for(var o=r._storage={},l=t._storage,i=0;i<n.length;i++){var h=n[i];l[h]&&(B(e,h)>=0?(o[h]=vf(l[h]),r._rawExtent[h]=[1/0,-1/0],r._extent[h]=null):o[h]=l[h])}return r}function vf(t){for(var e,n,r=new Array(t.length),o=0;o<t.length;o++)r[o]=(e=t[o],n=void 0,(n=e.constructor)===Array?e.slice():new n(e));return r}sf.type="list",sf.hasItemOption=!0,sf.getDimension=function(t){return"number"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},sf.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},sf.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},sf.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return!0===e?(r||[]).slice():r&&r[e]},sf.initData=function(data,t,e){(yh.isInstance(data)||z(data))&&(data=new nu(data,this.dimensions.length)),this._rawData=data,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},e||(this.hasItemOption=!1),this.defaultDimValueGetter=uu[this._rawData.getSource().sourceFormat],this._dimValueGetter=e=e||this.defaultDimValueGetter,this._dimValueGetterArrayRows=uu.arrayRows,this._rawExtent={},this._initDataFromProvider(0,data.count()),data.pure&&(this.hasItemOption=!1)},sf.getProvider=function(){return this._rawData},sf.appendData=function(data){var t=this._rawData,e=this.count();t.appendData(data);var n=t.count();t.persistent||(n+=e),this._initDataFromProvider(e,n)},sf.appendValues=function(t,e){for(var n=this._chunkSize,r=this._storage,o=this.dimensions,l=o.length,h=this._rawExtent,c=this.count(),d=c+Math.max(t.length,e?e.length:0),f=this._chunkCount,i=0;i<l;i++)h[S=o[i]]||(h[S]=[1/0,-1/0]),r[S]||(r[S]=[]),lf(r,this._dimensionInfos[S],n,f,d),this._chunkCount=r[S].length;for(var v=new Array(l),m=c;m<d;m++){for(var y=m-c,_=Math.floor(m/n),x=m%n,w=0;w<l;w++){var S=o[w],M=this._dimValueGetterArrayRows(t[y]||v,S,y,w);r[S][_][x]=M;var I=h[S];M<I[0]&&(I[0]=M),M>I[1]&&(I[1]=M)}e&&(this._nameList[m]=e[y])}this._rawCount=this._count=d,this._extent={},hf(this)},sf._initDataFromProvider=function(t,e){if(!(t>=e)){for(var n,r=this._chunkSize,o=this._rawData,l=this._storage,h=this.dimensions,c=h.length,d=this._dimensionInfos,f=this._nameList,v=this._idList,m=this._rawExtent,y=this._nameRepeatCount={},_=this._chunkCount,i=0;i<c;i++){m[C=h[i]]||(m[C]=[1/0,-1/0]);var x=d[C];0===x.otherDims.itemName&&(n=this._nameDimIdx=i),0===x.otherDims.itemId&&(this._idDimIdx=i),l[C]||(l[C]=[]),lf(l,x,r,_,e),this._chunkCount=l[C].length}for(var w=new Array(c),S=t;S<e;S++){w=o.getItem(S,w);for(var M=Math.floor(S/r),I=S%r,T=0;T<c;T++){var C,D=l[C=h[T]][M],k=this._dimValueGetter(w,C,S,T);D[I]=k;var A=m[C];k<A[0]&&(A[0]=k),k>A[1]&&(A[1]=k)}if(!o.pure){var P=f[S];if(w&&null==P)if(null!=w.name)f[S]=P=w.name;else if(null!=n){var O=h[n],L=l[O][M];if(L){P=L[I];var N=d[O].ordinalMeta;N&&N.categories.length&&(P=N.categories[P])}}var B=null==w?null:w.id;null==B&&null!=P&&(y[P]=y[P]||0,B=P,y[P]>0&&(B+="__ec__"+y[P]),y[P]++),null!=B&&(v[S]=B)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=e,this._extent={},hf(this)}},sf.count=function(){return this._count},sf.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array){r=new e(n);for(var i=0;i<n;i++)r[i]=t[i]}else r=new e(t.buffer,0,n)}else{var r=new(e=ef(this))(this.count());for(i=0;i<r.length;i++)r[i]=i}return r},sf.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var r=Math.floor(e/this._chunkSize),o=e%this._chunkSize;return n[t][r][o]},sf.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;var r=Math.floor(e/this._chunkSize),o=e%this._chunkSize;return n[r][o]},sf._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return this._storage[t][n][r]},sf.getValues=function(t,e){var n=[];G(t)||(e=t,t=this.dimensions);for(var i=0,r=t.length;i<r;i++)n.push(this.get(t[i],e));return n},sf.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=0,n=e.length;i<n;i++)if(isNaN(this.get(e[i],t)))return!1;return!0},sf.getDataExtent=function(t){t=this.getDimension(t);var e=[1/0,-1/0];if(!this._storage[t])return e;var n,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();for(var o=(n=e)[0],l=n[1],i=0;i<r;i++){var h=this._getFast(t,this.getRawIndex(i));h<o&&(o=h),h>l&&(l=h)}return n=[o,l],this._extent[t]=n,n},sf.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},sf.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},sf.getCalculationInfo=function(t){return this._calculationInfo[t]},sf.setCalculationInfo=function(t,e){qd(t)?A(this._calculationInfo,t):this._calculationInfo[t]=e},sf.getSum=function(t){var e=0;if(this._storage[t])for(var i=0,n=this.count();i<n;i++){var r=this.get(t,i);isNaN(r)||(e+=r)}return e},sf.getMedian=function(t){var e=[];this.each(t,function(t,n){isNaN(t)||e.push(t)});var n=[].concat(e).sort(function(a,b){return a-b}),r=this.count();return 0===r?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},sf.rawIndexOf=function(t,e){var n=(t&&this._invertedIndicesMap[t])[e];return null==n||isNaN(n)?Zd:n},sf.indexOfName=function(t){for(var i=0,e=this.count();i<e;i++)if(this.getName(i)===t)return i;return-1},sf.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var r=0,o=this._count-1;r<=o;){var l=(r+o)/2|0;if(e[l]<t)r=l+1;else{if(!(e[l]>t))return l;o=l-1}}return-1},sf.indicesOfNearest=function(t,e,n){var r=[];if(!this._storage[t])return r;null==n&&(n=1/0);for(var o=Number.MAX_VALUE,l=-1,i=0,h=this.count();i<h;i++){var c=e-this.get(t,i),d=Math.abs(c);c<=n&&d<=o&&((d<o||c>=0&&l<0)&&(o=d,l=c,r.length=0),r.push(i))}return r},sf.getRawIndex=cf,sf.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},sf.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||uf(this,this._nameDimIdx,e)||""},sf.getId=function(t){return ff(this,this.getRawIndex(t))},sf.each=function(t,e,n,r){if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this;for(var o=(t=map(pf(t),this.getDimension,this)).length,i=0;i<this.count();i++)switch(o){case 0:e.call(n,i);break;case 1:e.call(n,this.get(t[0],i),i);break;case 2:e.call(n,this.get(t[0],i),this.get(t[1],i),i);break;default:for(var l=0,h=[];l<o;l++)h[l]=this.get(t[l],i);h[l]=i,e.apply(n,h)}}},sf.filterSelf=function(t,e,n,r){if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this,t=map(pf(t),this.getDimension,this);for(var o=this.count(),l=new(ef(this))(o),h=[],c=t.length,d=0,f=t[0],i=0;i<o;i++){var v,m=this.getRawIndex(i);if(0===c)v=e.call(n,i);else if(1===c){var y=this._getFast(f,m);v=e.call(n,y,i)}else{for(var _=0;_<c;_++)h[_]=this._getFast(f,m);h[_]=i,v=e.apply(n,h)}v&&(l[d++]=m)}return d<o&&(this._indices=l),this._count=d,this._extent={},this.getRawIndex=this._indices?df:cf,this}},sf.selectRange=function(t){if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var r=e.length;if(r){var o=this.count(),l=new(ef(this))(o),h=0,c=e[0],d=t[c][0],f=t[c][1],v=!1;if(!this._indices){var m=0;if(1===r){for(var y=this._storage[e[0]],_=0;_<this._chunkCount;_++)for(var x=y[_],w=Math.min(this._count-_*this._chunkSize,this._chunkSize),i=0;i<w;i++)((C=x[i])>=d&&C<=f||isNaN(C))&&(l[h++]=m),m++;v=!0}else if(2===r){y=this._storage[c];var S=this._storage[e[1]],M=t[e[1]][0],I=t[e[1]][1];for(_=0;_<this._chunkCount;_++){x=y[_];var T=S[_];for(w=Math.min(this._count-_*this._chunkSize,this._chunkSize),i=0;i<w;i++){var C=x[i],D=T[i];(C>=d&&C<=f||isNaN(C))&&(D>=M&&D<=I||isNaN(D))&&(l[h++]=m),m++}}v=!0}}if(!v)if(1===r)for(i=0;i<o;i++){var k=this.getRawIndex(i);((C=this._getFast(c,k))>=d&&C<=f||isNaN(C))&&(l[h++]=k)}else for(i=0;i<o;i++){var A=!0;for(k=this.getRawIndex(i),_=0;_<r;_++){var P=e[_];((C=this._getFast(n,k))<t[P][0]||C>t[P][1])&&(A=!1)}A&&(l[h++]=this.getRawIndex(i))}return h<o&&(this._indices=l),this._count=h,this._extent={},this.getRawIndex=this._indices?df:cf,this}}},sf.mapArray=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this;var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},n),o},sf.map=function(t,e,n,r){n=n||r||this;var o=gf(this,t=map(pf(t),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?df:cf;for(var l=o._storage,h=[],c=this._chunkSize,d=t.length,f=this.count(),v=[],m=o._rawExtent,y=0;y<f;y++){for(var _=0;_<d;_++)v[_]=this.get(t[_],y);v[d]=y;var x=e&&e.apply(n,v);if(null!=x){"object"!=typeof x&&(h[0]=x,x=h);for(var w=this.getRawIndex(y),S=Math.floor(w/c),M=w%c,i=0;i<x.length;i++){var I=t[i],T=x[i],C=m[I],D=l[I];D&&(D[S][M]=T),T<C[0]&&(C[0]=T),T>C[1]&&(C[1]=T)}}}return o},sf.downSample=function(t,e,n,r){for(var o=gf(this,[t]),l=o._storage,h=[],c=Math.floor(1/e),d=l[t],f=this.count(),v=this._chunkSize,m=o._rawExtent[t],y=new(ef(this))(f),_=0,i=0;i<f;i+=c){c>f-i&&(c=f-i,h.length=c);for(var x=0;x<c;x++){var w=this.getRawIndex(i+x),S=Math.floor(w/v),M=w%v;h[x]=d[S][M]}var I=n(h),T=this.getRawIndex(Math.min(i+r(h,I)||0,f-1)),C=T%v;d[Math.floor(T/v)][C]=I,I<m[0]&&(m[0]=I),I>m[1]&&(m[1]=I),y[_++]=T}return o._count=_,o._indices=y,o.getRawIndex=df,o},sf.getItemModel=function(t){var e=this.hostModel;return new cl(this.getRawDataItem(t),e,e&&e.ecModel)},sf.diff=function(t){var e=this;return new Xd(t?t.getIndices():[],this.getIndices(),function(e){return ff(t,e)},function(t){return ff(e,t)})},sf.getVisual=function(t){var e=this._visual;return e&&e[t]},sf.setVisual=function(t,e){if(qd(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},sf.setLayout=function(t,e){if(qd(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},sf.getLayout=function(t){return this._layout[t]},sf.getItemLayout=function(t){return this._itemLayouts[t]},sf.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?A(this._itemLayouts[t]||{},e):e},sf.clearItemLayouts=function(){this._itemLayouts.length=0},sf.getItemVisual=function(t,e,n){var r=this._itemVisuals[t],o=r&&r[e];return null!=o||n?o:this.getVisual(e)},sf.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{},o=this.hasItemVisual;if(this._itemVisuals[t]=r,qd(e))for(var l in e)e.hasOwnProperty(l)&&(r[l]=e[l],o[l]=!0);else r[e]=n,o[e]=!0},sf.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var mf=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};function yf(t,source,e){yh.isInstance(source)||(source=yh.seriesDataToSource(source)),e=e||{},t=(t||[]).slice();for(var n=(e.dimsDef||[]).slice(),r=ut(e.encodeDef),o=ut(),l=ut(),h=[],c=function(source,t,e,n){var r=Math.max(source.dimensionsDetectCount||1,t.length,e.length,n||0);return F(t,function(t){var e=t.dimsDef;e&&(r=Math.max(r,e.length))}),r}(source,t,n,e.dimCount),i=0;i<c;i++){var d=n[i]=A({},j(n[i])?n[i]:{name:n[i]}),f=d.name,v=h[i]={otherDims:{}};null!=f&&null==o.get(f)&&(v.name=v.displayName=f,o.set(f,i)),null!=d.type&&(v.type=d.type),null!=d.displayName&&(v.displayName=d.displayName)}r.each(function(t,e){if(1===(t=Ir(t).slice()).length&&!Y(t[0])&&t[0]<0)r.set(e,!1);else{var n=r.set(e,[]);F(t,function(t,r){Y(t)&&(t=o.get(t)),null!=t&&t<c&&(n[r]=t,y(h[t],e,r))})}});var m=0;function y(t,e,n){null!=jd.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,l.set(e,!0))}F(t,function(t,e){var n,o,l;if(Y(t))n=t,t={};else{n=t.name;var c=t.ordinalMeta;t.ordinalMeta=null,(t=D(t)).ordinalMeta=c,o=t.dimsDef,l=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}if(!1!==(d=r.get(n))){var d;if(!(d=Ir(d)).length)for(var i=0;i<(o&&o.length||1);i++){for(;m<h.length&&null!=h[m].coordDim;)m++;m<h.length&&d.push(m++)}F(d,function(e,r){var c=h[e];if(y(P(c,t),n,r),null==c.name&&o){var d=o[r];!j(d)&&(d={name:d}),c.name=c.displayName=d.name,c.defaultTooltip=d.defaultTooltip}l&&P(c.otherDims,l)})}});var _=e.generateCoord,x=e.generateCoordCount,w=null!=x;x=_?x||1:0;for(var S=_||"value",M=0;M<c;M++)null==(v=h[M]=h[M]||{}).coordDim&&(v.coordDim=_f(S,l,w),v.coordDimIndex=0,(!_||x<=0)&&(v.isExtraCoord=!0),x--),null==v.name&&(v.name=_f(v.coordDim,o)),null==v.type&&Sh(source,M,v.name)&&(v.type="ordinal");return h}function _f(t,e,n){if(n||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}sf.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(mf,e)),this._graphicEls[t]=e},sf.getItemGraphicEl=function(t){return this._graphicEls[t]},sf.eachItemGraphicEl=function(t,e){F(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},sf.cloneShallow=function(t){if(!t){var e=map(this.dimensions,this.getDimensionInfo,this);t=new of(e,this.hostModel)}if(t._storage=this._storage,af(t,this),this._indices){var n=this._indices.constructor;t._indices=new n(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?df:cf,t},sf.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(et(arguments)))})},sf.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],sf.CHANGABLE_METHODS=["filterSelf","selectRange"];var xf=function(source,t){return yf((t=t||{}).coordDimensions||[],source,{dimsDef:t.dimensionsDefine||source.dimensionsDefine,encodeDef:t.encodeDefine||source.encodeDefine,dimCount:t.dimensionsCount,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})};function wf(t,e,n){var r,o,l,h,c=(n=n||{}).byIndex,d=n.stackedCoordDimension,f=!(!t||!t.get("stack"));if(F(e,function(t,n){Y(t)&&(e[n]=t={name:t}),f&&!t.isExtraCoord&&(c||r||!t.ordinalMeta||(r=t),o||"ordinal"===t.type||"time"===t.type||d&&d!==t.coordDim||(o=t))}),!o||c||r||(c=!0),o){l="__\0ecstackresult",h="__\0ecstackedover",r&&(r.createInvertedIndices=!0);var v=o.coordDim,m=o.type,y=0;F(e,function(t){t.coordDim===v&&y++}),e.push({name:l,coordDim:v,coordDimIndex:y,type:m,isExtraCoord:!0,isCalculationCoord:!0}),y++,e.push({name:h,coordDim:h,coordDimIndex:y,type:m,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:r&&r.name,isStackedByIndex:c,stackedOverDimension:h,stackResultDimension:l}}function bf(data,t){return!!t&&t===data.getCalculationInfo("stackedDimension")}function Sf(source,t,e){e=e||{},yh.isInstance(source)||(source=yh.seriesDataToSource(source));var n,r=t.get("coordinateSystem"),o=Oh.get(r),l=sh(t);l&&(n=map(l.coordSysDims,function(t){var e={name:t},n=l.axisMap.get(t);if(n){var r=n.get("type");e.type=function(t){return"category"===t?"ordinal":"time"===t?"time":"float"}(r)}return e})),n||(n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]);var h,c,d=xf(source,{coordDimensions:n,generateCoord:e.generateCoord});l&&F(d,function(t,e){var n=t.coordDim,r=l.categoryAxisMap.get(n);r&&(null==h&&(h=e),t.ordinalMeta=r.getOrdinalMeta()),null!=t.otherDims.itemName&&(c=!0)}),c||null==h||(d[h].otherDims.itemName=0);var f=wf(t,d),v=new of(d,t);v.setCalculationInfo(f);var m=null!=h&&function(source){if(source.sourceFormat===uh){var t=function(data){for(var i=0;i<data.length&&null==data[i];)i++;return data[i]}(source.data||[]);return null!=t&&!G(Dr(t))}}(source)?function(t,e,n,r){return r===h?n:this.defaultDimValueGetter(t,e,n,r)}:null;return v.hasItemOption=!1,v.initData(source,null,m),v}function Mf(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function If(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}Mf.prototype.parse=function(t){return t},Mf.prototype.getSetting=function(t){return this._setting[t]},Mf.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},Mf.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},Mf.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},Mf.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},Mf.prototype.unionExtentFromData=function(data,t){this.unionExtent(data.getApproximateExtent(t))},Mf.prototype.getExtent=function(){return this._extent.slice()},Mf.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},Mf.prototype.isBlank=function(){return this._isBlank},Mf.prototype.setBlank=function(t){this._isBlank=t},Mf.prototype.getLabel=null,Wr(Mf),Ur(Mf,{registerWhenExtend:!0}),If.createByAxisModel=function(t){var option=t.option,data=option.data,e=data&&map(data,Df);return new If({categories:e,needCollect:!e,deduplication:!1!==option.dedplication})};var Tf=If.prototype;function Cf(t){return t._map||(t._map=ut(t.categories))}function Df(t){return j(t)&&null!=t.value?t.value:t+""}Tf.getOrdinal=function(t){return Cf(this).get(t)},Tf.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=Cf(this);return null==(e=r.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e};var kf=Mf.prototype,Af=Mf.extend({type:"ordinal",init:function(t,e){t&&!G(t)||(t=new If({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),kf.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return kf.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(kf.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(data,t){this.unionExtent(data.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:ct,niceExtent:ct});Af.create=function(){return new Af};var Pf=_l;function Of(t){return xl(t)+2}function Lf(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Nf(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Lf(t,0,e),Lf(t,1,e),t[0]>t[1]&&(t[0]=t[1])}var Bf=_l,Rf=Mf.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),Rf.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Of(t)},getTicks:function(){return function(t,e,n,r){var o=[];if(!t)return o;e[0]<n[0]&&o.push(e[0]);for(var l=n[0];l<=n[1]&&(o.push(l),(l=Pf(l+t,r))!==o[o.length-1]);)if(o.length>1e4)return[];return e[1]>(o.length?o[o.length-1]:n[1])&&o.push(e[1]),o}(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(data,t){if(null==data)return"";var e=t&&t.precision;return null==e?e=xl(data)||0:"auto"===e&&(e=this._intervalPrecision),Al(data=Bf(data,e,!0))},niceTicks:function(t,e,n){t=t||5;var r=this._extent,span=r[1]-r[0];if(isFinite(span)){span<0&&(span=-span,r.reverse());var o=function(t,e,n,r){var o={},span=t[1]-t[0],l=o.interval=Dl(span/e,!0);null!=n&&l<n&&(l=o.interval=n),null!=r&&l>r&&(l=o.interval=r);var h=o.intervalPrecision=Of(l);return Nf(o.niceTickExtent=[Pf(Math.ceil(t[0]/l)*l,h),Pf(Math.floor(t[1]/l)*l,h)],t),o}(r,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var span=e[1]-e[0];isFinite(span)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=Bf(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=Bf(Math.ceil(e[1]/r)*r))}});Rf.create=function(){return new Rf};var Ef="__ec_stack_";function zf(t){return t.get("stack")||Ef+t.seriesIndex}function Ff(t){return t.dim+t.index}function Hf(t){var e=[];return F(t,function(t){var data=t.getData(),n=t.coordinateSystem.getBaseAxis(),r=n.getExtent(),o="category"===n.type?n.getBandWidth():Math.abs(r[1]-r[0])/data.count(),l=yl(t.get("barWidth"),o),h=yl(t.get("barMaxWidth"),o),c=t.get("barGap"),d=t.get("barCategoryGap");e.push({bandWidth:o,barWidth:l,barMaxWidth:h,barGap:c,barCategoryGap:d,axisKey:Ff(n),stackId:zf(t)})}),function(t){var e={};F(t,function(t,n){var r=t.axisKey,o=t.bandWidth,l=e[r]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=l.stacks;e[r]=l;var c=t.stackId;h[c]||l.autoWidthCount++,h[c]=h[c]||{width:0,maxWidth:0};var d=t.barWidth;d&&!h[c].width&&(h[c].width=d,d=Math.min(l.remainedWidth,d),l.remainedWidth-=d);var f=t.barMaxWidth;f&&(h[c].maxWidth=f);var v=t.barGap;null!=v&&(l.gap=v);var m=t.barCategoryGap;null!=m&&(l.categoryGap=m)});var n={};return F(e,function(t,e){n[e]={};var r=t.stacks,o=t.bandWidth,l=yl(t.categoryGap,o),h=yl(t.gap,1),c=t.remainedWidth,d=t.autoWidthCount,f=(c-l)/(d+(d-1)*h);f=Math.max(f,0),F(r,function(t,e){var n=t.maxWidth;n&&n<f&&(n=Math.min(n,c),t.width&&(n=Math.min(n,t.width)),c-=n,t.width=n,d--)}),f=(c-l)/(d+(d-1)*h),f=Math.max(f,0);var v,m=0;F(r,function(t,e){t.width||(t.width=f),v=t,m+=t.width*(1+h)}),v&&(m-=v.width*h);var y=-m/2;F(r,function(t,r){n[e][r]=n[e][r]||{bandWidth:o,offset:y,width:t.width},y+=t.width*(1+h)})}),n}(e)}function Vf(t,e,n){if(t&&e){var r=t[Ff(e)];return null!=r&&null!=n&&(r=r[zf(n)]),r}}function Wf(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Gf(t){return t.pipelineContext&&t.pipelineContext.large}"undefined"!=typeof Float32Array?Float32Array:Array,Ou();var Xf=Rf.prototype,Yf=Math.ceil,jf=Math.floor,Uf=Rf.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return Vl(e[0],n,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=_l(jf(e[0]/r)*r)),t.fixMax||(e[1]=_l(Yf(e[1]/r)*r))},niceTicks:function(t,e,n){t=t||10;var r=this._extent,span=r[1]-r[0],o=span/t;null!=e&&o<e&&(o=e),null!=n&&o>n&&(o=n);var l=qf.length,h=function(a,t,e,n){for(;e<n;){var r=e+n>>>1;a[r][1]<t?e=r+1:n=r}return e}(qf,o,0,l),c=qf[Math.min(h,l-1)],d=c[1];"year"===c[0]&&(d*=Dl(span/d/t,!0));var f=this.getSetting("useUTC")?0:60*new Date(+r[0]||+r[1]).getTimezoneOffset()*1e3,v=[Math.round(Yf((r[0]-f)/d)*d+f),Math.round(jf((r[1]-f)/d)*d+f)];Nf(v,r),this._stepLvl=c,this._interval=d,this._niceExtent=v},parse:function(t){return+Il(t)}});F(["contain","normalize"],function(t){Uf.prototype[t]=function(e){return Xf[t].call(this,this.parse(e))}});var qf=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",6048e6],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];Uf.create=function(t){return new Uf({useUTC:t.ecModel.get("useUTC")})};var Zf=Mf.prototype,Kf=Rf.prototype,$f=xl,Qf=_l,Jf=Math.floor,tp=Math.ceil,ep=Math.pow,np=Math.log,ip=Mf.extend({type:"log",base:10,$constructor:function(){Mf.apply(this,arguments),this._originalScale=new Rf},getTicks:function(){var t=this._originalScale,e=this._extent,n=t.getExtent();return map(Kf.getTicks.call(this),function(r){var o=_l(ep(this.base,r));return o=r===e[0]&&t.__fixMin?ap(o,n[0]):o,o=r===e[1]&&t.__fixMax?ap(o,n[1]):o},this)},getLabel:Kf.getLabel,scale:function(t){return t=Zf.scale.call(this,t),ep(this.base,t)},setExtent:function(t,e){var base=this.base;t=np(t)/np(base),e=np(e)/np(base),Kf.setExtent.call(this,t,e)},getExtent:function(){var base=this.base,t=Zf.getExtent.call(this);t[0]=ep(base,t[0]),t[1]=ep(base,t[1]);var e=this._originalScale,n=e.getExtent();return e.__fixMin&&(t[0]=ap(t[0],n[0])),e.__fixMax&&(t[1]=ap(t[1],n[1])),t},unionExtent:function(t){this._originalScale.unionExtent(t);var base=this.base;t[0]=np(t[0])/np(base),t[1]=np(t[1])/np(base),Zf.unionExtent.call(this,t)},unionExtentFromData:function(data,t){this.unionExtent(data.getApproximateExtent(t))},niceTicks:function(t){t=t||10;var e=this._extent,span=e[1]-e[0];if(!(span===1/0||span<=0)){var n=Tl(span);for(t/span*n<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var r=[_l(tp(e[0]/n)*n),_l(Jf(e[1]/n)*n)];this._interval=n,this._niceExtent=r}},niceExtent:function(t){Kf.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function ap(t,e){return Qf(t,$f(e))}function op(t,e){var n,r,span,o=t.type,l=e.getMin(),h=e.getMax(),c=null!=l,d=null!=h,f=t.getExtent();"ordinal"===o?n=e.getCategories().length:(G(r=e.get("boundaryGap"))||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=yl(r[0],1),r[1]=yl(r[1],1),span=f[1]-f[0]||Math.abs(f[0])),null==l&&(l="ordinal"===o?n?0:NaN:f[0]-r[0]*span),null==h&&(h="ordinal"===o?n?n-1:NaN:f[1]+r[1]*span),"dataMin"===l?l=f[0]:"function"==typeof l&&(l=l({min:f[0],max:f[1]})),"dataMax"===h?h=f[1]:"function"==typeof h&&(h=h({min:f[0],max:f[1]})),(null==l||!isFinite(l))&&(l=NaN),(null==h||!isFinite(h))&&(h=NaN),t.setBlank($(l)||$(h)||"ordinal"===o&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(l>0&&h>0&&!c&&(l=0),l<0&&h<0&&!d&&(h=0));var v=e.ecModel;if(v&&"time"===o){var m,y=function(t,e){var n=[];return e.eachSeriesByType(t,function(t){Wf(t)&&!Gf(t)&&n.push(t)}),n}("bar",v);if(F(y,function(t){m|=t.getBaseAxis()===e.axis}),m){var _=Hf(y),x=function(t,e,n,r){var o=n.axis.getExtent(),l=o[1]-o[0],h=Vf(r,n.axis);if(void 0===h)return{min:t,max:e};var c=1/0;F(h,function(t){c=Math.min(t.offset,c)});var d=-1/0;F(h,function(t){d=Math.max(t.offset+t.width,d)}),c=Math.abs(c),d=Math.abs(d);var f=c+d,v=e-t,m=v/(1-(c+d)/l)-v;return{min:t-=m*(c/f),max:e+=m*(d/f)}}(l,h,e,_);l=x.min,h=x.max}}return[l,h]}function sp(t){var e,n=t.getLabelModel().get("formatter"),r="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof n?(e=n,n=function(n){return n=t.scale.getLabel(n),e.replace("{value}",null!=n?n:"")}):"function"==typeof n?function(e,o){return null!=r&&(o=e-r),n(lp(t,e),o)}:function(e){return t.scale.getLabel(e)}}function lp(t,e){return"category"===t.type?t.scale.getLabel(e):e}function hp(t){var e=t.get("interval");return null==e?"auto":e}function up(t){return"category"===t.type&&0===hp(t.getLabelModel())}F(["contain","normalize"],function(t){ip.prototype[t]=function(e){return e=np(e)/np(this.base),Zf[t].call(this,e)}}),ip.create=function(){return new ip};var cp={getMin:function(t){var option=this.option,e=t||null==option.rangeStart?option.min:option.rangeStart;return this.axis&&null!=e&&"dataMin"!==e&&"function"!=typeof e&&!$(e)&&(e=this.axis.scale.parse(e)),e},getMax:function(t){var option=this.option,e=t||null==option.rangeEnd?option.max:option.rangeEnd;return this.axis&&null!=e&&"dataMax"!==e&&"function"!=typeof e&&!$(e)&&(e=this.axis.scale.parse(e)),e},getNeedCrossZero:function(){var option=this.option;return null==option.rangeStart&&null==option.rangeEnd&&!option.scale},getCoordSysModel:ct,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},dp=vs({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(path,t){var e=t.cx,n=t.cy,r=t.width/2,o=t.height/2;path.moveTo(e,n-o),path.lineTo(e+r,n+o),path.lineTo(e-r,n+o),path.closePath()}}),fp=vs({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(path,t){var e=t.cx,n=t.cy,r=t.width/2,o=t.height/2;path.moveTo(e,n-o),path.lineTo(e+r,n),path.lineTo(e,n+o),path.lineTo(e-r,n),path.closePath()}}),pp=vs({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(path,t){var e=t.x,n=t.y,r=t.width/5*3,o=Math.max(r,t.height),l=r/2,h=l*l/(o-l),c=n-o+l+h,d=Math.asin(h/l),f=Math.cos(d)*l,v=Math.sin(d),m=Math.cos(d),y=.6*l,_=.7*l;path.moveTo(e-f,c+h),path.arc(e,c,l,Math.PI-d,2*Math.PI+d),path.bezierCurveTo(e+f-v*y,c+h+m*y,e,n-_,e,n),path.bezierCurveTo(e,n-_,e-f+v*y,c+h+m*y,e-f,c+h),path.closePath()}}),gp=vs({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,o=e.x,l=e.y,h=r/3*2;t.moveTo(o,l),t.lineTo(o+h,l+n),t.lineTo(o,l+n/4*3),t.lineTo(o-h,l+n),t.lineTo(o,l),t.closePath()}}),vp={line:function(t,e,n,r,o){o.x1=t,o.y1=e+r/2,o.x2=t+n,o.y2=e+r/2},rect:function(t,e,n,r,o){o.x=t,o.y=e,o.width=n,o.height=r},roundRect:function(t,e,n,r,o){o.x=t,o.y=e,o.width=n,o.height=r,o.r=Math.min(n,r)/4},square:function(t,e,n,r,o){var l=Math.min(n,r);o.x=t,o.y=e,o.width=l,o.height=l},circle:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.r=Math.min(n,r)/2},diamond:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.width=n,o.height=r},pin:function(t,e,n,r,o){o.x=t+n/2,o.y=e+r/2,o.width=n,o.height=r},arrow:function(t,e,n,r,o){o.x=t+n/2,o.y=e+r/2,o.width=n,o.height=r},triangle:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.width=n,o.height=r}},mp={};F({line:Ko,rect:qo,roundRect:qo,square:qo,circle:Lo,diamond:fp,pin:pp,arrow:gp,triangle:dp},function(t,e){mp[e]=new t});var yp=vs({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,style,rect){var e=gi(t,style,rect),n=this.shape;return n&&"pin"===n.symbolType&&"inside"===style.textPosition&&(e.y=rect.y+.4*rect.height),e},buildPath:function(t,e,n){var r=e.symbolType;if("none"!==r){var o=mp[r];o||(o=mp[r="rect"]),vp[r](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,n)}}});function _p(t,e){if("image"!==this.type){var n=this.style,r=this.shape;r&&"line"===r.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}}function xp(t,e,n,r,o,l,h){var c,d=0===t.indexOf("empty");return d&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(c=0===t.indexOf("image://")?_s(t.slice(8),new Tn(e,n,r,o),h?"center":"cover"):0===t.indexOf("path://")?ys(t.slice(7),{},new Tn(e,n,r,o),h?"center":"cover"):new yp({shape:{symbolType:t,x:e,y:n,width:r,height:o}})).__isEmptyBrush=d,c.setColor=_p,c.setColor(l),c}var wp={isDimensionStacked:bf,enableDataStack:wf,getStackedDimension:function(data,t){return bf(data,t)?data.getCalculationInfo("stackResultDimension"):t}},bp=(Object.freeze||Object)({createList:function(t){return Sf(t.getSource(),t)},getLayoutRect:Zl,dataStack:wp,createScale:function(t,option){var e=option;cl.isInstance(option)||E(e=new cl(option),cp);var n=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new Af(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new Rf;default:return(Mf.getClass(e)||Rf).create(t)}}(e);return n.setExtent(t[0],t[1]),function(t,e){var n=op(t,e),r=null!=e.getMin(),o=null!=e.getMax(),l=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var h=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:l,fixMin:r,fixMax:o,minInterval:"interval"===h||"time"===h?e.get("minInterval"):null,maxInterval:"interval"===h||"time"===h?e.get("maxInterval"):null});var c=e.get("interval");null!=c&&t.setInterval&&t.setInterval(c)}(n,e),n},mixinAxisModelCommonMethods:function(t){E(t,cp)},completeDimensions:yf,createDimensions:xf,createSymbol:xp}),Sp=1e-8;function Mp(a,b){return Math.abs(a-b)<Sp}function Ip(t,e,n){var r=0,p=t[0];if(!p)return!1;for(var i=1;i<t.length;i++){var o=t[i];r+=Ja(p[0],p[1],o[0],o[1],e,n),p=o}var l=t[0];return Mp(p[0],l[0])&&Mp(p[1],l[1])||(r+=Ja(p[0],p[1],l[0],l[1],e,n)),0!==r}function Tp(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var rect=this.getBoundingRect();n=[rect.x+rect.width/2,rect.y+rect.height/2]}this.center=n}function Cp(t,e,n){for(var r=[],o=e[0],l=e[1],i=0;i<t.length;i+=2){var h=t.charCodeAt(i)-64,c=t.charCodeAt(i+1)-64;h=h>>1^-(1&h),c=c>>1^-(1&c),o=h+=o,l=c+=l,r.push([h/n,c/n])}return r}Tp.prototype={constructor:Tp,properties:null,getBoundingRect:function(){var rect=this._rect;if(rect)return rect;for(var t=Number.MAX_VALUE,e=[t,t],n=[-t,-t],r=[],o=[],l=this.geometries,i=0;i<l.length;i++)"polygon"===l[i].type&&(Ta(l[i].exterior,r,o),At(e,e,r),Pt(n,n,o));return 0===i&&(e[0]=e[1]=n[0]=n[1]=0),this._rect=new Tn(e[0],e[1],n[0]-e[0],n[1]-e[1])},contain:function(t){var rect=this.getBoundingRect(),e=this.geometries;if(!rect.contain(t[0],t[1]))return!1;t:for(var i=0,n=e.length;i<n;i++)if("polygon"===e[i].type){var r=e[i].exterior,o=e[i].interiors;if(Ip(r,t[0],t[1])){for(var l=0;l<(o?o.length:0);l++)if(Ip(o[l]))continue t;return!0}}return!1},transformTo:function(t,e,n,r){var rect=this.getBoundingRect(),o=rect.width/rect.height;n?r||(r=n/o):n=o*r;for(var l=new Tn(t,e,n,r),h=rect.calculateTransform(l),c=this.geometries,i=0;i<c.length;i++)if("polygon"===c[i].type){for(var d=c[i].exterior,f=c[i].interiors,p=0;p<d.length;p++)kt(d[p],d[p],h);for(var v=0;v<(f?f.length:0);v++)for(p=0;p<f[v].length;p++)kt(f[v][p],f[v][p],h)}(rect=this._rect).copy(l),this.center=[rect.x+rect.width/2,rect.y+rect.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new Tp(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var Dp=function(t){return function(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,r=0;r<n.length;r++)for(var o=n[r].geometry,l=o.coordinates,h=o.encodeOffsets,c=0;c<l.length;c++){var d=l[c];if("Polygon"===o.type)l[c]=Cp(d,h[c],e);else if("MultiPolygon"===o.type)for(var f=0;f<d.length;f++){var polygon=d[f];d[f]=Cp(polygon,h[c][f],e)}}t.UTF8Encoding=!1}(t),map(filter(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var e=t.properties,n=t.geometry,r=n.coordinates,o=[];"Polygon"===n.type&&o.push({type:"polygon",exterior:r[0],interiors:r.slice(1)}),"MultiPolygon"===n.type&&F(r,function(t){t[0]&&o.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var l=new Tp(e.name,o,e.cp);return l.properties=e,l})},kp=Lr();function Ap(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=Op(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=sp(t);return{labels:map(e,function(e,r){return{formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e}})}}(t)}function Pp(t,e){return"category"===t.type?function(t,e){var n,r,o=Lp(t,"ticks"),l=hp(e),h=Np(o,l);if(h)return h;if(e.get("show")&&!t.scale.isBlank()||(n=[]),X(l))n=Ep(t,l,!0);else if("auto"===l){var c=Op(t,t.getLabelModel());r=c.labelCategoryInterval,n=map(c.labels,function(t){return t.tickValue})}else n=Rp(t,r=l,!0);return Bp(o,l,{ticks:n,tickCategoryInterval:r})}(t,e):{ticks:t.scale.getTicks()}}function Op(t,e){var n,r,o=Lp(t,"labels"),l=hp(e),h=Np(o,l);return h||(X(l)?n=Ep(t,l):(r="auto"===l?function(t){var e=kp(t).autoInterval;return null!=e?e:kp(t).autoInterval=t.calculateCategoryInterval()}(t):l,n=Rp(t,r)),Bp(o,l,{labels:n,labelCategoryInterval:r}))}function Lp(t,e){return kp(t)[e]||(kp(t)[e]=[])}function Np(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function Bp(t,e,n){return t.push({key:e,value:n}),n}function Rp(t,e,n){var r=sp(t),o=t.scale,l=o.getExtent(),h=t.getLabelModel(),c=[],d=Math.max((e||0)+1,1),f=l[0],v=o.count();0!==f&&d>1&&v/d>2&&(f=Math.round(Math.ceil(f/d)*d));var m=up(t),y=h.get("showMinLabel")||m,_=h.get("showMaxLabel")||m;y&&f!==l[0]&&w(l[0]);for(var x=f;x<=l[1];x+=d)w(x);function w(t){c.push(n?t:{formattedLabel:r(t),rawLabel:o.getLabel(t),tickValue:t})}return _&&x-d!==l[1]&&w(l[1]),c}function Ep(t,e,n){var r=t.scale,o=sp(t),l=[];return F(r.getTicks(),function(t){var h=r.getLabel(t);e(t,h)&&l.push(n?t:{formattedLabel:o(t),rawLabel:h,tickValue:t})}),l}var zp=[0,1],Fp=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};function Hp(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}Fp.prototype={constructor:Fp,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},containData:function(data){return this.contain(this.dataToCoord(data))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return wl(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(data,t){var e=this._extent,n=this.scale;return data=n.normalize(data),this.onBand&&"ordinal"===n.type&&Hp(e=e.slice(),n.count()),ml(data,zp,e,t)},coordToData:function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&Hp(n=n.slice(),r.count());var o=ml(t,n,zp,e);return this.scale.scale(o)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=Pp(this,e),r=map(n.ticks,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this),o=e.get("alignWithLabel");return function(t,e,n,r,o){var l=e.length;if(t.onBand&&!r&&l){var h,c=t.getExtent();if(1===l)e[0].coord=c[0],h=e[1]={coord:c[0]};else{var d=e[1].coord-e[0].coord;F(e,function(t){t.coord-=d/2;var e=e||0;e%2>0&&(t.coord-=d/(2*(e+1)))}),h={coord:e[l-1].coord+d},e.push(h)}var f=c[0]>c[1];v(e[0].coord,c[0])&&(o?e[0].coord=c[0]:e.shift()),o&&v(c[0],e[0].coord)&&e.unshift({coord:c[0]}),v(c[1],h.coord)&&(o?h.coord=c[1]:e.pop()),o&&v(h.coord,c[1])&&e.push({coord:c[1]})}function v(a,b){return f?a>b:a<b}}(this,r,n.tickCategoryInterval,o,t.clamp),r},getViewLabels:function(){return Ap(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=sp(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,l=o.getExtent(),h=o.count();if(l[1]-l[0]<1)return 0;var c=1;h>40&&(c=Math.max(1,Math.floor(h/40)));for(var d=l[0],f=t.dataToCoord(d+1)-t.dataToCoord(d),v=Math.abs(f*Math.cos(r)),m=Math.abs(f*Math.sin(r)),y=0,_=0;d<=l[1];d+=c){var x,w,rect=di(n(d),e.font,"center","top");x=1.3*rect.width,w=1.3*rect.height,y=Math.max(y,x,7),_=Math.max(_,w,7)}var S=y/v,M=_/m;isNaN(S)&&(S=1/0),isNaN(M)&&(M=1/0);var I=Math.max(0,Math.floor(Math.min(S,M))),T=kp(t.model),C=T.lastAutoInterval,D=T.lastTickCount;return null!=C&&null!=D&&Math.abs(C-I)<=1&&Math.abs(D-h)<=1&&C>I?I=C:(T.lastTickCount=h,T.lastAutoInterval=I),I}(this)}};var Vp=Dp,Wp={};F(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){Wp[t]=ft[t]});var Gp={};F(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(t){Gp[t]=nl[t]});var Xp=F,Yp="\0__link_datas",jp="\0__link_mainData";function Up(t,e){if((data=this)[jp]===data){var n=A({},this[Yp]);n[this.dataType]=e,$p(e,n,t)}else Qp(e,this.dataType,this[jp],t);var data;return e}function qp(t,e){return t.struct&&t.struct.update(this),e}function Zp(t,e){return Xp(e[Yp],function(data,n){data!==e&&Qp(data.cloneShallow(),n,e,t)}),e}function Kp(t){var e=this[jp];return null==t||null==e?e:e[Yp][t]}function $p(t,e,n){t[Yp]={},Xp(e,function(data,e){Qp(data,e,t,n)})}function Qp(data,t,e,n){e[Yp][t]=data,data[jp]=e,data.dataType=t,n.struct&&(data[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=data),data.getLinkedData=Kp}var Jp=function(t,e){this.name=t||"",this.depth=0,this.mcHereShow=!0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};function tg(t,e,n){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=map(e||[],function(e){return new cl(e,t,t.ecModel)}),this.leavesModel=new cl(n||{},t,t.ecModel)}function eg(data,t,e){Cn.call(this),this.updateData(data,t,e)}Jp.prototype={constructor:Jp,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),Y(t=t||{})&&(t={order:t});var r,o=t.order||"preorder",l=this[t.attr||"children"];"preorder"===o&&(r=e.call(n,this));for(var i=0;!r&&i<l.length;i++)l[i].eachNode(t,e,n);"postorder"===o&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var i=0,e=this.children,n=e.length;i<n;i++){var r=e[i].getNodeById(t);if(r)return r}},contains:function(t){if(t===this)return!0;for(var i=0,e=this.children,n=e.length;i<n;i++){var r=e[i].contains(t);if(r)return r}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var data=this.hostTree.data;return data.get(data.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(path){if(!(this.dataIndex<0)){var t,e=this.hostTree,n=e.data.getItemModel(this.dataIndex),r=this.getLevelModel();return r||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(t=this.getLeavesModel()),n.getModel(path,(r||t||e.hostModel).getModel(path))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},tg.prototype={constructor:tg,type:"tree",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var data=this.data,t=this._nodes,i=0,e=t.length;i<e;i++)t[i].dataIndex=-1;for(i=0,e=data.count();i<e;i++)t[data.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},tg.createTree=function(t,e,n){var r=new tg(e,n.levels,n.leaves),o=[],l=1;!function t(e,n){var h=e.value;l=Math.max(l,G(h)?h.length:1),o.push(e);var c=new Jp(e.name,r);null!=e.mcHereShow&&(c.mcHereShow=e.mcHereShow),n?function(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}(c,n):r.root=c,r._nodes.push(c);var d=e.children;if(d)for(var i=0;i<d.length;i++)t(d[i],c)}(t),r.root.updateDepthAndHeight(0);var h,c,d,f=xf(o,{coordDimensions:["value"],dimensionsCount:l}),v=new of(f,e);return v.initData(o),c=(h={mainData:v,struct:r,structAttr:"tree"}).mainData,(d=h.datas)||(d={main:c},h.datasAttr={main:"data"}),h.datas=h.mainData=null,$p(c,d,h),Xp(d,function(data){Xp(c.TRANSFERABLE_METHODS,function(t){data.wrapMethod(t,W(Up,h))})}),c.wrapMethod("cloneShallow",W(Zp,h)),Xp(c.CHANGABLE_METHODS,function(t){c.wrapMethod(t,W(qp,h))}),it(d[c.dataType]===c),r.update(),r},bu.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(option){var t={name:option.name,children:option.data},e=option.leaves||{},n={};n.leaves=e;var r=tg.createTree(t,this,n),o=0;r.eachNode("preorder",function(t){t.depth>o&&(o=t.depth)});var l=option.expandAndCollapse&&option.initialTreeDepth>=0?option.initialTreeDepth:o;return r.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=l}),r.data},getOrient:function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},formatTooltip:function(t){for(var e=this.getData().tree,n=e.root.children[0],r=e.getNodeByDataIndex(t),o=r.getValue(),l=r.name;r&&r!==n;)l=r.parentNode.name+"."+l,r=r.parentNode;return Bl(l+(isNaN(o)||null==o?"":" : "+o))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});var ng=eg.prototype,ig=eg.getSymbolSize=function(data,t){var e=data.getItemVisual(t,"symbolSize");return e instanceof Array?e.slice():[+e,+e]};function rg(t){return[t[0]/2,t[1]/2]}function ag(t,e){this.parent.drift(t,e)}ng._createSymbol=function(t,data,e,n,r){this.removeAll();var o=xp(t,-1,-1,2,2,data.getItemVisual(e,"color"),r);o.attr({z2:100,culling:!0,scale:rg(n)}),o.drift=ag,this._symbolType=t,this.add(o)},ng.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},ng.getSymbolPath=function(){return this.childAt(0)},ng.getScale=function(){return this.childAt(0).scale},ng.highlight=function(){this.childAt(0).trigger("emphasis")},ng.downplay=function(){this.childAt(0).trigger("normal")},ng.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},ng.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},ng.updateData=function(data,t,e){this.silent=!1;var n=data.getItemVisual(t,"symbol")||"circle",r=data.hostModel,o=ig(data,t),l=n!==this._symbolType;if(l){var h=data.getItemVisual(t,"symbolKeepAspect");this._createSymbol(n,data,t,o,h)}else(c=this.childAt(0)).silent=!1,Ks(c,{scale:rg(o)},r,t);if(this._updateCommon(data,t,o,e),l){var c=this.childAt(0),d=e&&e.fadeIn,f={scale:c.scale.slice()};d&&(f.style={opacity:c.style.opacity}),c.scale=[0,0],d&&(c.style.opacity=0),$s(c,f,r,t)}this._seriesModel=r};var og=["itemStyle"],sg=["emphasis","itemStyle"],lg=["label"],hg=["emphasis","label"];function ug(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var n=this.__symbolOriginalScale,r=n[1]/n[0],o={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*r)]};this.animateTo(o,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function cg(t,e){var n=t.isExpand?t.children:[],r=t.parentNode.children,o=t.hierNode.i?r[t.hierNode.i-1]:null;if(n.length){!function(t){for(var e=t.children,n=e.length,r=0,o=0;--n>=0;){var l=e[n];l.hierNode.prelim+=r,l.hierNode.modifier+=r,o+=l.hierNode.change,r+=l.hierNode.shift+o}}(t);var l=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(t.hierNode.prelim=o.hierNode.prelim+e(t,o),t.hierNode.modifier=t.hierNode.prelim-l):t.hierNode.prelim=l}else o&&(t.hierNode.prelim=o.hierNode.prelim+e(t,o));t.parentNode.hierNode.defaultAncestor=function(t,e,n,r){if(e){for(var o=t,l=t,h=l.parentNode.children[0],c=e,d=o.hierNode.modifier,f=l.hierNode.modifier,v=h.hierNode.modifier,m=c.hierNode.modifier;c=gg(c),l=vg(l),c&&l;){o=gg(o),h=vg(h),o.hierNode.ancestor=t;var y=c.hierNode.prelim+m-l.hierNode.prelim-f+r(c,l);y>0&&(yg(mg(c,t,n),t,y),f+=y,d+=y),m+=c.hierNode.modifier,f+=l.hierNode.modifier,d+=o.hierNode.modifier,v+=h.hierNode.modifier}c&&!gg(o)&&(o.hierNode.thread=c,o.hierNode.modifier+=m-d),l&&!vg(h)&&(h.hierNode.thread=l,h.hierNode.modifier+=f-v,n=t)}return n}(t,o,t.parentNode.hierNode.defaultAncestor||r[0],e)}function dg(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function fg(t){return arguments.length?t:_g}function pg(t,e){var n={};return t-=Math.PI/2,n.x=e*Math.cos(t),n.y=e*Math.sin(t),n}function gg(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function vg(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function mg(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function yg(t,e,n){var r=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=r}function _g(t,e){return t.parentNode===e.parentNode?1:2}ng._updateCommon=function(data,t,e,n){var r=this.childAt(0),o=data.hostModel,l=data.getItemVisual(t,"color");"image"!==r.type&&r.useStyle({strokeNoScale:!0});var h=n&&n.itemStyle,c=n&&n.hoverItemStyle,d=n&&n.symbolRotate,f=n&&n.symbolOffset,v=n&&n.labelModel,m=n&&n.hoverLabelModel,y=n&&n.hoverAnimation,_=n&&n.cursorStyle;if(!n||data.hasItemOption){var x=n&&n.itemModel?n.itemModel:data.getItemModel(t);h=x.getModel(og).getItemStyle(["color"]),c=x.getModel(sg).getItemStyle(),d=x.getShallow("symbolRotate"),f=x.getShallow("symbolOffset"),v=x.getModel(lg),m=x.getModel(hg),y=x.getShallow("hoverAnimation"),_=x.getShallow("cursor")}else c=A({},c);var w=r.style;r.attr("rotation",(d||0)*Math.PI/180||0),f&&r.attr("position",[yl(f[0],e[0]),yl(f[1],e[1])]),_&&r.attr("cursor",_),r.setColor(l,n&&n.symbolInnerColor),r.setStyle(h);var S=data.getItemVisual(t,"opacity");null!=S&&(w.opacity=S);var M=data.getItemVisual(t,"liftZ"),I=r.__z2Origin;null!=M?null==I&&(r.__z2Origin=r.z2,r.z2+=M):null!=I&&(r.z2=I,r.__z2Origin=null);var T=n&&n.useNameLabel;Vs(w,c,v,m,{labelFetcher:o,labelDataIndex:t,defaultText:function(t,e){return T?data.getName(t):function(data,t){var e=data.mapDimension("defaultedLabel",!0),n=e.length;if(1===n)return fu(data,t,e[0]);if(n){for(var r=[],i=0;i<e.length;i++){var o=fu(data,t,e[i]);r.push(o)}return r.join(" ")}}(data,t)},isRectText:!0,autoColor:l}),r.__symbolOriginalScale=rg(e),r.hoverStyle=c,r.highDownOnUpdate=y&&o.isAnimationEnabled()?ug:null,Es(r)},ng.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,(!e||!e.keepLabel)&&(n.style.text=null),Ks(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},R(eg,Cn);var xg=kt;function wg(){me.call(this)}function bg(t){this.name=t,this.zoomLimit,me.call(this),this._roamTransformable=new wg,this._rawTransformable=new wg,this._center,this._zoom}function Sg(t,e,n,r){var o=n.seriesModel,l=o?o.coordinateSystem:null;return l===this?l[t](r):null}E(wg,me),bg.prototype={constructor:bg,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,n,r){return this._rect=new Tn(t,e,n,r),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,r){this.transformTo(t,e,n,r),this._viewRect=new Tn(t,e,n,r)},transformTo:function(t,e,n,r){var rect=this.getBoundingRect(),o=this._rawTransformable;o.transform=rect.calculateTransform(new Tn(t,e,n,r)),o.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),o=this.getZoom();r=kt([],r,t),n=kt([],n,t),e.origin=r,e.position=[n[0]-r[0],n[1]-r[1]],e.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),se(this.transform||(this.transform=[]),e.transform||ae()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],de(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var rect=this.getBoundingRect().clone();return rect.applyTransform(this.transform),rect},dataToPoint:function(data,t,e){var n=t?this._rawTransform:this.transform;return e=e||[],n?xg(e,data,n):vt(e,data)},pointToData:function(t){var e=this.invTransform;return e?xg([],t,e):[t[0],t[1]]},convertToPixel:W(Sg,"dataToPoint"),convertFromPixel:W(Sg,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},E(bg,me);var Mg="\0_ec_interaction_mutex";function Ig(t,e){return!!function(t){return t[Mg]||(t[Mg]={})}(t)[e]}function Tg(t){this.pointerChecker,this._zr=t,this._opt={};var e=V,n=e(Cg,this),r=e(Dg,this),o=e(kg,this),l=e(Ag,this),h=e(Pg,this);Bt.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,c){this.disable(),this._opt=P(D(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",r),t.on("mouseup",o)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",l),t.on("pinch",h))},this.disable=function(){t.off("mousedown",n),t.off("mousemove",r),t.off("mouseup",o),t.off("mousewheel",l),t.off("pinch",h)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function Cg(t){if(!(qt(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}}function Dg(t){if(this._dragging&&Ng("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!Ig(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,r=this._x,o=this._y,l=e-r,h=n-o;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&Ut(t.event),Lg(this,"pan","moveOnMouseMove",t,{dx:l,dy:h,oldX:r,oldY:o,newX:e,newY:n})}}function kg(t){qt(t)||(this._dragging=!1)}function Ag(t){var e=Ng("zoomOnMouseWheel",t,this._opt),n=Ng("moveOnMouseWheel",t,this._opt),r=t.wheelDelta,o=Math.abs(r),l=t.offsetX,h=t.offsetY;if(0!==r&&(e||n)){if(e){var c=o>3?1.4:o>1?1.2:1.1;Og(this,"zoom","zoomOnMouseWheel",t,{scale:r>0?c:1/c,originX:l,originY:h})}if(n){var d=Math.abs(r);Og(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(r>0?1:-1)*(d>3?.4:d>1?.15:.05),originX:l,originY:h})}}}function Pg(t){Ig(this._zr,"globalPan")||Og(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function Og(t,e,n,r,o){t.pointerChecker&&t.pointerChecker(r,o.originX,o.originY)&&(Ut(r.event),Lg(t,e,n,r,o))}function Lg(t,e,n,r,o){o.isAvailableBehavior=V(Ng,null,n,r),t.trigger(e,o)}function Ng(t,e,n){var r=n[t];return!t||r&&(!Y(r)||e.event[r+"Key"])}Bd({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),E(Tg,Bt);var Bg,Rg,Eg={axisPointer:1,tooltip:1,brush:1};function zg(data,t){var e=data.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)&&"none"!==data.getItemVisual(t,"symbol")}function Fg(t,e,n){return n.itemModel=e,n.itemStyle=e.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=e.getModel("lineStyle").getLineStyle(),n.labelModel=e.getModel("label"),n.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function Hg(data,t,e,n,r,o){var l=!e,h=data.tree.getNodeByDataIndex(t),c=h.getModel(),d=(o=Fg(h,c,o),data.tree.root),source=h.parentNode===d?h:h.parentNode||h,f=data.getItemGraphicEl(source.dataIndex),v=source.getLayout(),m=f?{x:f.position[0],y:f.position[1],rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:v,y=h.getLayout();l?(e=new eg(data,t,o)).attr("position",[m.x,m.y]):e.updateData(data,t,o),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=y.rawX,e.__radialRawY=y.rawY,n.add(e),data.setItemGraphicEl(t,e),Ks(e,{position:[y.x,y.y]},r);var _=e.getSymbolPath();if("radial"===o.layout){var x,w,S=d.children[0],M=S.getLayout(),I=S.children.length;if(y.x===M.x&&!0===h.isExpand){var T={};T.x=(S.children[0].getLayout().x+S.children[I-1].getLayout().x)/2,T.y=(S.children[0].getLayout().y+S.children[I-1].getLayout().y)/2,(x=Math.atan2(T.y-M.y,T.x-M.x))<0&&(x=2*Math.PI+x),(w=T.x<M.x)&&(x-=Math.PI)}else(x=Math.atan2(y.y-M.y,y.x-M.x))<0&&(x=2*Math.PI+x),0===h.children.length||0!==h.children.length&&!1===h.isExpand?(w=y.x<M.x)&&(x-=Math.PI):(w=y.x>M.x)||(x-=Math.PI);var C=w?"left":"right";_.setStyle({textPosition:C,textRotation:-x,textOrigin:"center",verticalAlign:"middle"})}if(h.parentNode&&h.parentNode!==d){var D=e.__edge;D||(D=e.__edge=new Jo({shape:Wg(o,m,m),style:P({opacity:0,strokeNoScale:!0},o.lineStyle)})),Ks(D,{shape:Wg(o,v,y),style:{opacity:1}},r),n.add(D)}}function Vg(data,t,e,n,r,o){for(var l,h=data.tree.getNodeByDataIndex(t),c=data.tree.root,d=h.getModel(),source=(o=Fg(h,d,o),h.parentNode===c?h:h.parentNode||h);null==(l=source.getLayout());)source=source.parentNode===c?source:source.parentNode||source;Ks(e,{position:[l.x+1,l.y+1]},r,function(){n.remove(e),data.setItemGraphicEl(t,null)}),e.fadeOut(null,{keepLabel:!0});var f=e.__edge;f&&Ks(f,{shape:Wg(o,l,l),style:{opacity:0}},r,function(){n.remove(f)})}function Wg(t,e,n){var r,o,l,h,c,d,f,v,m=t.orient;if("radial"===t.layout){c=e.rawX,f=e.rawY,d=n.rawX,v=n.rawY;var y=pg(c,f),_=pg(c,f+(v-f)*t.curvature),x=pg(d,v+(f-v)*t.curvature),w=pg(d,v);return{x1:y.x,y1:y.y,x2:w.x,y2:w.y,cpx1:_.x,cpy1:_.y,cpx2:x.x,cpy2:x.y}}return c=e.x,f=e.y,d=n.x,v=n.y,"LR"!==m&&"RL"!==m||(r=c+(d-c)*t.curvature,o=f,l=d+(c-d)*t.curvature,h=v),"TB"!==m&&"BT"!==m||(r=c,o=f+(v-f)*t.curvature,l=d,h=v+(f-v)*t.curvature),{x1:c,y1:f,x2:d,y2:v,cpx1:r,cpy1:o,cpx2:l,cpy2:h}}function Gg(t,e){for(var n,r=[t];n=r.pop();)if(e(n),n.isExpand){var o=n.children;if(o.length)for(var i=o.length-1;i>=0;i--)r.push(o[i])}}Wd({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new Cn,this._controller=new Tg(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(t,e,n,r){var data=t.getData(),o=t.layoutInfo,l=this._mainGroup,h=t.get("layout");"radial"===h?l.attr("position",[o.x+o.width/2,o.y+o.height/2]):l.attr("position",[o.x,o.y]),this._updateViewCoordSys(t,o,h),this._updateController(t,e,n);var c=this._data,d={expandAndCollapse:t.get("expandAndCollapse"),layout:h,orient:t.getOrient(),curvature:t.get("lineStyle.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};data.diff(c).add(function(e){zg(data,e)&&Hg(data,e,null,l,t,d)}).update(function(e,n){var r=c.getItemGraphicEl(n);zg(data,e)?Hg(data,e,r,l,t,d):r&&Vg(c,n,r,l,t,d)}).remove(function(e){var n=c.getItemGraphicEl(e);n&&Vg(c,e,n,l,t,d)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===d.expandAndCollapse&&data.eachItemGraphicEl(function(e,r){e.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:r})})}),this._data=data},_updateViewCoordSys:function(t){var data=t.getData(),e=[];data.each(function(t){var n=data.getItemLayout(t);!n||isNaN(n.x)||isNaN(n.y)||e.push([+n.x,+n.y])});var n=[],r=[];Ta(e,n,r);var o=this._min,l=this._max;r[0]-n[0]==0&&(n[0]=o?o[0]:n[0]-1,r[0]=l?l[0]:r[0]+1),r[1]-n[1]==0&&(n[1]=o?o[1]:n[1]-1,r[1]=l?l[1]:r[1]+1);var h=t.coordinateSystem=new bg;h.zoomLimit=t.get("scaleLimit"),h.setBoundingRect(n[0],n[1],r[0]-n[0],r[1]-n[1]),h.setCenter(t.get("center")),h.setZoom(t.get("zoom")),this.group.attr({position:h.position,scale:h.scale}),this._viewCoordSys=h,this._min=n,this._max=r},_updateController:function(t,e,n){var r=this._controller,o=this._controllerHost,l=this.group;r.setPointerChecker(function(e,r,o){var rect=l.getBoundingRect();return rect.applyTransform(l.transform),rect.contain(r,o)&&!function(t,e,n){var r=e.getComponentByElement(t.topTarget),o=r&&r.coordinateSystem;return r&&r!==n&&!Eg[r.mainType]&&o&&o.model!==n}(e,n,t)}),r.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",function(e){!function(t,e,n){var r=t.target,o=r.position;o[0]+=e,o[1]+=n,r.dirty()}(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})},this).on("zoom",function(e){!function(t,e,n,r){var o=t.target,l=t.zoomLimit,h=o.position,c=o.scale,d=t.zoom=t.zoom||1;if(d*=e,l){var f=l.min||0,v=l.max||1/0;d=Math.max(Math.min(v,d),f)}var m=d/t.zoom;t.zoom=d,h[0]-=(n-h[0])*(m-1),h[1]-=(r-h[1])*(m-1),c[0]*=m,c[1]*=m,o.dirty()}(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(t)},this)},_updateNodeAndLinkScale:function(t){var data=t.getData(),e=this._getNodeGlobalScale(t),n=[e,e];data.eachItemGraphicEl(function(t,e){t.attr("scale",n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,r=e.scale,o=r&&r[0]||1;return((e.getZoom()-1)*n+1)/o},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),Bd({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var r=t.dataIndex,o=n.getData().tree.getNodeByDataIndex(r);let l=e.option.series[0].diyExpand;o.isExpand=null!=l&&"function"==typeof l?l(o.name,o.isExpand):!o.isExpand})}),Bd({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var n=function(view,t,e){var n=view.getZoom(),r=view.getCenter(),o=t.zoom,l=view.dataToPoint(r);if(null!=t.dx&&null!=t.dy&&(l[0]-=t.dx,l[1]-=t.dy,r=view.pointToData(l),view.setCenter(r)),null!=o){if(e){var h=e.min||0,c=e.max||1/0;o=Math.max(Math.min(n*o,c),h)/n}view.scale[0]*=o,view.scale[1]*=o;var d=view.position,f=(t.originX-d[0])*(o-1),v=(t.originY-d[1])*(o-1);d[0]-=f,d[1]-=v,view.updateTransform(),r=view.pointToData(l),view.setCenter(r),view.setZoom(o*n)}return{center:view.getCenter(),zoom:view.getZoom()}}(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)})}),Ed((Bg="circle",{seriesType:"tree",performRawSeries:!0,reset:function(t,e,n){var data=t.getData(),r=t.get("symbol"),o=t.get("symbolSize"),l=t.get("symbolKeepAspect"),h=X(r),c=X(o),d=h||c,f=!h&&r?r:Bg,v=c?null:o;if(data.setVisual({legendSymbol:Rg||f,symbol:f,symbolSize:v,symbolKeepAspect:l}),!e.isSeriesFiltered(t))return{dataEach:data.hasItemOption||d?function(data,e){if(d){var n=t.getRawValue(e),l=t.getDataParams(e);h&&data.setItemVisual(e,"symbol",r(n,l)),c&&data.setItemVisual(e,"symbolSize",o(n,l))}if(data.hasItemOption){var f=data.getItemModel(e),v=f.getShallow("symbol",!0),m=f.getShallow("symbolSize",!0),y=f.getShallow("symbolKeepAspect",!0);null!=v&&data.setItemVisual(e,"symbol",v),null!=m&&data.setItemVisual(e,"symbolSize",m),null!=y&&data.setItemVisual(e,"symbolKeepAspect",y)}}:null}}})),Rd(function(t,e){t.eachSeriesByType("tree",function(t){!function(t,e){var n=function(t,e){return Zl(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=n;var r=t.get("layout"),o=0,l=0,h=null;"radial"===r?(o=2*Math.PI,l=Math.min(n.height,n.width)/2,h=fg(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(o=n.width,l=n.height,h=fg());var c=t.getData().tree.root,d=c.children[0];if(d){!function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,n,r=[t];e=r.pop();)if(n=e.children,e.isExpand&&n.length)for(var i=n.length-1;i>=0;i--){var o=n[i];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:i,thread:null},r.push(o)}}(c),function(t,e,n){for(var r,o=[t],l=[];r=o.pop();)if(l.push(r),r.isExpand){var h=r.children;if(h.length)for(var i=0;i<h.length;i++)o.push(h[i])}for(;r=l.pop();)e(r,n)}(d,cg,h),c.hierNode.modifier=-d.hierNode.prelim,Gg(d,dg);var f=d,v=d,m=d;Gg(d,function(t){var e=t.getLayout().x;e<f.getLayout().x&&(f=t),e>v.getLayout().x&&(v=t),t.depth>m.depth&&(m=t)});var y=f===v?1:h(f,v)/2,_=y-f.getLayout().x,x=0,w=0,S=0,M=0;if("radial"===r)x=o/(v.getLayout().x+y+_),w=l/(m.depth-1||1),Gg(d,function(t){S=(t.getLayout().x+_)*x,M=(t.depth-1)*w;var e=pg(S,M);t.setLayout({x:e.x,y:e.y,rawX:S,rawY:M},!0)});else{var I=t.getOrient();"RL"===I||"LR"===I?(w=l/(v.getLayout().x+y+_),x=o/(m.depth-1||1),Gg(d,function(t){M=(t.getLayout().x+_)*w,S="LR"===I?(t.depth-1)*x:o-(t.depth-1)*x,t.setLayout({x:S,y:M},!0)})):"TB"!==I&&"BT"!==I||(x=o/(v.getLayout().x+y+_),w=l/(m.depth-1||1),Gg(d,function(t){S=(t.getLayout().x+_)*x,M="TB"===I?(t.depth-1)*w:l-(t.depth-1)*w,t.setLayout({x:S,y:M},!0)}))}}}(t,e)})}),Hd({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),Vd({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var r=this.group,o=t.getModel("textStyle"),l=t.getModel("subtextStyle"),h=t.get("textAlign"),c=J(t.get("textBaseline"),t.get("textVerticalAlign")),d=new Po({style:Ws({},o,{text:t.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),f=d.getBoundingRect(),v=t.get("subtext"),m=new Po({style:Ws({},l,{text:v,textFill:l.getTextColor(),y:f.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),link=t.get("link"),y=t.get("sublink"),_=t.get("triggerEvent",!0);d.silent=!link&&!_,m.silent=!y&&!_,link&&d.on("click",function(){window.open(link,"_"+t.get("target"))}),y&&m.on("click",function(){window.open(y,"_"+t.get("subtarget"))}),d.eventData=m.eventData=_?{componentType:"title",componentIndex:t.componentIndex}:null,r.add(d),v&&r.add(m);var x=r.getBoundingRect(),w=t.getBoxLayoutParams();w.width=x.width,w.height=x.height;var S=Zl(w,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));h||("middle"===(h=t.get("left")||t.get("right"))&&(h="center"),"right"===h?S.x+=S.width:"center"===h&&(S.x+=S.width/2)),c||("center"===(c=t.get("top")||t.get("bottom"))&&(c="middle"),"bottom"===c?S.y+=S.height:"middle"===c&&(S.y+=S.height/2),c=c||"top"),r.attr("position",[S.x,S.y]);var M={textAlign:h,textVerticalAlign:c};d.setStyle(M),m.setStyle(M),x=r.getBoundingRect();var I=S.margin,style=t.getItemStyle(["color","opacity"]);style.fill=t.get("backgroundColor");var rect=new qo({shape:{x:x.x-I[3],y:x.y-I[0],width:x.width+I[1]+I[3],height:x.height+I[0]+I[2],r:t.get("borderRadius")},style:style,subPixelOptimize:!0,silent:!0});r.add(rect)}}});var Xg=Uu.legend.selector,Yg={all:{type:"all",title:D(Xg.all)},inverse:{type:"inverse",title:D(Xg.inverse)}},jg=Hd({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(option,t,e){this.mergeDefaultAndTheme(option,e),option.selected=option.selected||{},this._updateSelector(option)},mergeOption:function(option){jg.superCall(this,"mergeOption",option),this._updateSelector(option)},_updateSelector:function(option){var t=option.selector;!0===t&&(t=option.selector=["all","inverse"]),G(t)&&F(t,function(e,n){Y(e)&&(e={type:e}),t[n]=k(e,Yg[e.type])})},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],n=[];t.eachRawSeries(function(r){var o,l=r.name;if(n.push(l),r.legendDataProvider){var data=r.legendDataProvider(),h=data.mapArray(data.getName);t.isSeriesFiltered(r)||(n=n.concat(h)),h.length?e=e.concat(h):o=!0}else o=!0;o&&Ar(r)&&e.push(r.name)}),this._availableNames=n;var r=map(this.get("data")||e,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new cl(t,this,this.ecModel)},this);this._data=r},getData:function(){return this._data},select:function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&F(this._data,function(t){e[t.get("name")]=!1}),e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var data=this._data,t=this.option.selected;F(data,function(e){t[e.get("name",!0)]=!0})},inverseSelect:function(){var data=this._data,t=this.option.selected;F(data,function(e){var n=e.get("name",!0);t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]})},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&B(this._availableNames,t)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});function Ug(t,e,n){var r,o={},l="toggleSelected"===t;return n.eachComponent("legend",function(n){l&&null!=r?n[r?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),r=n.isSelected(e.name)),F(n.getData(),function(t){var e=t.get("name");if("\n"!==e&&""!==e){var r=n.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&r:o[e]=r}})}),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}Bd("legendToggleSelect","legendselectchanged",W(Ug,"toggleSelected")),Bd("legendAllSelect","legendselectall",W(Ug,"allSelect")),Bd("legendInverseSelect","legendinverseselect",W(Ug,"inverseSelect")),Bd("legendSelect","legendselected",W(Ug,"select")),Bd("legendUnSelect","legendunselected",W(Ug,"unSelect"));var qg=W,Zg=F,Kg=Cn,$g=Vd({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Kg),this._backgroundEl,this.group.add(this._selectorGroup=new Kg),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),l=t.get("orient");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===l?"right":"left");var h=t.get("selector",!0),c=t.get("selectorPosition",!0);!h||c&&"auto"!==c||(c="horizontal"===l?"end":"start"),this.renderInner(o,t,e,n,h,l,c);var d=t.getBoxLayoutParams(),f={width:n.getWidth(),height:n.getHeight()},v=t.get("padding"),m=Zl(d,f,v),y=this.layoutInner(t,o,m,r,h,c),_=Zl(P({width:y.width,height:y.height},d),f,v);this.group.attr("position",[_.x-y.x,_.y-y.y]),this.group.add(this._backgroundEl=function(rect,t){var e=Ol(t.get("padding")),style=t.getItemStyle(["color","opacity"]);return style.fill=t.get("backgroundColor"),rect=new qo({shape:{x:rect.x-e[3],y:rect.y-e[0],width:rect.width+e[1]+e[3],height:rect.height+e[0]+e[2],r:t.get("borderRadius")},style:style,silent:!0,z2:-1})}(y,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(t,e,n,r,o,l,h){var c=this.getContentGroup(),d=ut(),f=e.get("selectedMode"),v=[];n.eachRawSeries(function(t){!t.get("legendHoverLink")&&v.push(t.id)}),Zg(e.getData(),function(o,l){var h=o.get("name");if(this.newlineDisabled||""!==h&&"\n"!==h){var m=n.getSeriesByName(h)[0];if(!d.get(h))if(m){var data=m.getData(),y=data.getVisual("color"),_=data.getVisual("borderColor");"function"==typeof y&&(y=y(m.getDataParams(0))),"function"==typeof _&&(_=_(m.getDataParams(0)));var x=data.getVisual("legendSymbol")||"roundRect",w=data.getVisual("symbol");this._createItem(h,l,o,e,x,w,t,y,_,f).on("click",qg(Jg,h,r)).on("mouseover",qg(tv,m.name,null,r,v)).on("mouseout",qg(ev,m.name,null,r,v)),d.set(h,!0)}else n.eachRawSeries(function(n){if(!d.get(h)&&n.legendDataProvider){var data=n.legendDataProvider(),c=data.indexOfName(h);if(c<0)return;var m=data.getItemVisual(c,"color"),y=data.getItemVisual(c,"borderColor");this._createItem(h,l,o,e,"roundRect",null,t,m,y,f).on("click",qg(Jg,h,r)).on("mouseover",qg(tv,null,h,r,v)).on("mouseout",qg(ev,null,h,r,v)),d.set(h,!0)}},this)}else c.add(new Kg({newline:!0}))},this),o&&this._createSelector(o,e,r,l,h)},_createSelector:function(t,e,n,r,o){var l=this.getSelectorGroup();Zg(t,function(t){!function(t){var r=t.type,o=new Po({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect"})}});l.add(o);var h=e.getModel("selectorLabel"),c=e.getModel("emphasis.selectorLabel");Vs(o.style,o.hoverStyle={},h,c,{defaultText:t.title,isRectText:!1}),Es(o)}(t)})},_createItem:function(t,e,n,r,o,l,h,c,d,f){var v=r.get("itemWidth"),m=r.get("itemHeight"),y=r.get("inactiveColor"),_=r.get("inactiveBorderColor"),x=r.get("symbolKeepAspect"),w=r.getModel("itemStyle"),S=r.isSelected(t),M=new Kg,I=n.getModel("textStyle"),T=n.get("icon"),C=n.getModel("tooltip"),D=C.parentModel,k=xp(o=T||o,0,0,v,m,S?c:y,null==x||x);if(M.add(Qg(k,o,w,d,_,S)),!T&&l&&(l!==o||"none"===l)){var P=.8*m;"none"===l&&(l="circle");var O=xp(l,(v-P)/2,(m-P)/2,P,P,S?c:y,null==x||x);M.add(Qg(O,l,w,d,_,S))}var L="left"===h?v+5:-5,N=h,B=r.get("formatter"),content=t;"string"==typeof B&&B?content=B.replace("{name}",null!=t?t:""):"function"==typeof B&&(content=B(t)),M.add(new Po({style:Ws({},I,{text:content,x:L,y:m/2,textFill:S?I.getTextColor():y,textAlign:N,textVerticalAlign:"middle"})}));var R=new qo({shape:M.getBoundingRect(),invisible:!0,tooltip:C.get("show")?A({content:t,formatter:D.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:r.componentIndex,name:t,$vars:["name"]}},C.option):null});return M.add(R),M.eachChild(function(t){t.silent=!0}),R.silent=!f,this.getContentGroup().add(M),Es(M),M.__legendDataIndex=e,M},layoutInner:function(t,e,n,r,o,l){var h=this.getContentGroup(),c=this.getSelectorGroup();ql(t.get("orient"),h,t.get("itemGap"),n.width,n.height);var d=h.getBoundingRect(),f=[-d.x,-d.y];if(o){ql("horizontal",c,t.get("selectorItemGap",!0));var v=c.getBoundingRect(),m=[-v.x,-v.y],y=t.get("selectorButtonGap",!0),_=t.getOrient().index,x=0===_?"width":"height",w=0===_?"height":"width",S=0===_?"y":"x";"end"===l?m[_]+=d[x]+y:f[_]+=v[x]+y,m[1-_]+=d[w]/2-v[w]/2,c.attr("position",m),h.attr("position",f);var M={x:0,y:0};return M[x]=d[x]+y+v[x],M[w]=Math.max(d[w],v[w]),M[S]=Math.min(0,v[S]+m[1-_]),M}return h.attr("position",f),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function Qg(symbol,t,e,n,r,o){var l;return"line"!==t&&t.indexOf("empty")<0?(l=e.getItemStyle(),symbol.style.stroke=n,o||(l.stroke=r)):l=e.getItemStyle(["borderWidth","borderColor"]),symbol.setStyle(l)}function Jg(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function tv(t,e,n,r){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function ev(t,e,n,r){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}Nd(Xc.PROCESSOR.SERIES_FILTER,function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}),nh.registerSubTypeDefaulter("legend",function(){return"plain"});var nv=jg.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(option,t,e,n){var r=$l(option);nv.superCall(this,"init",option,t,e,n),iv(this,option,r)},mergeOption:function(option,t){nv.superCall(this,"mergeOption",option,t),iv(this,this.option,option)}});function iv(t,e,n){var r=[1,1];r[t.getOrient().index]=0,Kl(e,n,{type:"box",ignoreSize:r})}var rv=Cn,av=["width","height"],ov=["x","y"],sv=$g.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){sv.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new rv),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new rv),this._showController},resetInner:function(){sv.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,n,r,o,l,h){var c=this;sv.superCall(this,"renderInner",t,e,n,r,o,l,h);var d=this._controllerGroup,f=e.get("pageIconSize",!0);G(f)||(f=[f,f]),m("pagePrev",0);var v=e.getModel("pageTextStyle");function m(t,n){var o=t+"DataIndex",l=Js(e.get("pageIcons",!0)[e.getOrient().name][n],{onclick:V(c._pageGo,c,o,e,r)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});l.name=t,d.add(l)}d.add(new Po({name:"pageText",style:{textFill:v.getTextColor(),font:v.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),m("pageNext",1)},layoutInner:function(t,e,n,r,o,l){var h=this.getSelectorGroup(),c=t.getOrient().index,d=av[c],f=ov[c],v=av[1-c],m=ov[1-c];o&&ql("horizontal",h,t.get("selectorItemGap",!0));var y=t.get("selectorButtonGap",!0),_=h.getBoundingRect(),x=[-_.x,-_.y],w=D(n);o&&(w[d]=n[d]-_[d]-y);var S=this._layoutContentAndController(t,r,w,c,d,v,m);if(o){if("end"===l)x[c]+=S[d]+y;else{var M=_[d]+y;x[c]-=M,S[f]-=M}S[d]+=_[d]+y,x[1-c]+=S[m]+S[v]/2-_[v]/2,S[v]=Math.max(S[v],_[v]),S[m]=Math.min(S[m],_[m]+x[1-c]),h.attr("position",x)}return S},_layoutContentAndController:function(t,e,n,r,o,l,h){var c=this.getContentGroup(),d=this._containerGroup,f=this._controllerGroup;ql(t.get("orient"),c,t.get("itemGap"),r?n.width:null,r?null:n.height),ql("horizontal",f,t.get("pageButtonItemGap",!0));var v=c.getBoundingRect(),m=f.getBoundingRect(),y=this._showController=v[o]>n[o],_=[-v.x,-v.y];e||(_[r]=c.position[r]);var x=[0,0],w=[-m.x,-m.y],S=J(t.get("pageButtonGap",!0),t.get("itemGap",!0));y&&("end"===t.get("pageButtonPosition",!0)?w[r]+=n[o]-m[o]:x[r]+=m[o]+S),w[1-r]+=v[l]/2-m[l]/2,c.attr("position",_),d.attr("position",x),f.attr("position",w);var M={x:0,y:0};if(M[o]=y?n[o]:v[o],M[l]=Math.max(v[l],m[l]),M[h]=Math.min(0,m[h]+w[1-r]),d.__rectSize=n[o],y){var I={x:0,y:0};I[o]=Math.max(n[o]-m[o]-S,0),I[l]=M[l],d.setClipPath(new qo({shape:I})),d.__rectSize=I[o]}else f.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(t);return null!=T.pageIndex&&Ks(c,{position:T.contentPosition},!!y&&t),this._updatePageInfoView(t,T),M},_pageGo:function(t,e,n){var r=this._getPageInfo(e)[t];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:e.id})},_updatePageInfoView:function(t,e){var n=this._controllerGroup;F(["pagePrev","pageNext"],function(r){var o=null!=e[r+"DataIndex"],l=n.childOfName(r);l&&(l.setStyle("fill",o?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),l.cursor=o?"pointer":"default")});var r=n.childOfName("pageText"),o=t.get("pageFormatter"),l=e.pageIndex,h=null!=l?l+1:0,c=e.pageCount;r&&o&&r.setStyle("text",Y(o)?o.replace("{current}",h).replace("{total}",c):o({current:h,total:c}))},_getPageInfo:function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),r=this._containerGroup.__rectSize,o=t.getOrient().index,l=av[o],h=ov[o],c=this._findTargetItemIndex(e),d=n.children(),f=d[c],v=d.length,m=v?1:0,y={contentPosition:n.position.slice(),pageCount:m,pageIndex:m-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return y;var _=M(f);y.contentPosition[o]=-_.s;for(var i=c+1,x=_,w=_,S=null;i<=v;++i)(!(S=M(d[i]))&&w.e>x.s+r||S&&!I(S,x.s))&&(x=w.i>x.i?w:S)&&(null==y.pageNextDataIndex&&(y.pageNextDataIndex=x.i),++y.pageCount),w=S;for(i=c-1,x=_,w=_,S=null;i>=-1;--i)(S=M(d[i]))&&I(w,S.s)||!(x.i<w.i)||(w=x,null==y.pagePrevDataIndex&&(y.pagePrevDataIndex=x.i),++y.pageCount,++y.pageIndex),x=S;return y;function M(t){if(t){var e=t.getBoundingRect(),n=e[h]+t.position[o];return{s:n,e:n+e[l],i:t.__legendDataIndex}}}function I(t,e){return t.e>=e&&t.s<=e+r}},_findTargetItemIndex:function(t){var e,n,r=this.getContentGroup();return this._showController&&r.eachChild(function(r,o){var l=r.__legendDataIndex;null==n&&null!=l&&(n=o),l===t&&(e=o)}),null!=e?e:n}});Bd("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(n)})});var lv=F,hv=W;function uv(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var r=e.getComponent("tooltip"),o=e.getComponent("axisPointer"),l=o.get("link",!0)||[],h=[];lv(n.getCoordinateSystems(),function(n){if(n.axisPointerEnabled){var c=gv(n.model),d=t.coordSysAxesInfo[c]={};t.coordSysMap[c]=n;var f=n.model.getModel("tooltip",r);if(lv(n.getAxes(),hv(_,!1,null)),n.getTooltipAxes&&r&&f.get("show")){var v="axis"===f.get("trigger"),m="cross"===f.get("axisPointer.type"),y=n.getTooltipAxes(f.get("axisPointer.axis"));(v||m)&&lv(y.baseAxes,hv(_,!m||"cross",v)),m&&lv(y.otherAxes,hv(_,"cross",!1))}}function _(r,c,v){var m=v.model.getModel("axisPointer",o),y=m.get("show");if(y&&("auto"!==y||r||pv(m))){null==c&&(c=m.get("triggerTooltip"));var _=(m=r?function(t,e,n,r,o,l){var h=e.getModel("axisPointer"),c={};lv(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){c[t]=D(h.get(t))}),c.snap="category"!==t.type&&!!l,"cross"===h.get("type")&&(c.type="line");var d=c.label||(c.label={});if(null==d.show&&(d.show=!1),"cross"===o){var f=h.get("label.show");if(d.show=null==f||f,!l){var v=c.lineStyle=h.get("crossStyle");v&&P(d,v.textStyle)}}return t.model.getModel("axisPointer",new cl(c,n,r))}(v,f,o,e,r,c):m).get("snap"),x=gv(v.model),w=c||_||"category"===v.type,S=t.axesInfo[x]={key:x,axis:v,coordSys:n,axisPointerModel:m,triggerTooltip:c,involveSeries:w,snap:_,useHandle:pv(m),seriesModels:[]};d[x]=S,t.seriesInvolved|=w;var M=function(t,e){for(var n=e.model,r=e.dim,i=0;i<t.length;i++){var o=t[i]||{};if(cv(o[r+"AxisId"],n.id)||cv(o[r+"AxisIndex"],n.componentIndex)||cv(o[r+"AxisName"],n.name))return i}}(l,v);if(null!=M){var I=h[M]||(h[M]={axesInfo:{}});I.axesInfo[x]=S,I.mapper=l[M].mapper,S.linkGroup=I}}}})}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries(function(e){var n=e.coordinateSystem,r=e.get("tooltip.trigger",!0),o=e.get("tooltip.show",!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==o&&!1!==e.get("axisPointer.show",!0)&&lv(t.coordSysAxesInfo[gv(n.model)],function(t){var r=t.axis;n.getAxis(r.dim)===r&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}(n,t),n}function cv(t,e){return"all"===t||G(t)&&B(t,e)>=0||t===e}function dv(t){var e=fv(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,option=n.option,o=n.get("status"),l=n.get("value");null!=l&&(l=r.parse(l));var h=pv(n);null==o&&(option.status=h?"show":"hide");var c=r.getExtent().slice();c[0]>c[1]&&c.reverse(),(null==l||l>c[1])&&(l=c[1]),l<c[0]&&(l=c[0]),option.value=l,h&&(option.status=e.axis.scale.isBlank()?"hide":"show")}}function fv(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[gv(t)]}function pv(t){return!!t.get("handle.show")}function gv(t){return t.type+"||"+t.id}var vv=function(t,e){var n,r=[],o=t.seriesIndex;if(null==o||!(n=e.getSeriesByIndex(o)))return{point:[]};var data=n.getData(),l=Or(data,t);if(null==l||l<0||G(l))return{point:[]};var h=data.getItemGraphicEl(l),c=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(l)||[];else if(c&&c.dataToPoint)r=c.dataToPoint(data.getValues(map(c.dimensions,function(t){return data.mapDimension(t)}),l,!0))||[];else if(h){var rect=h.getBoundingRect().clone();rect.applyTransform(h.transform),r=[rect.x+rect.width/2,rect.y+rect.height/2]}return{point:r,el:h}},mv=F,yv=W,_v=Lr();function xv(t,e,n,r,o){var l=t.axis;if(!l.scale.isBlank()&&l.containData(e))if(t.involveSeries){var h=function(t,e){var n=e.axis,r=n.dim,o=t,l=[],h=Number.MAX_VALUE,c=-1;return mv(e.seriesModels,function(e,d){var f,v,m=e.getData().mapDimension(r,!0);if(e.getAxisTooltipData){var y=e.getAxisTooltipData(m,t,n);v=y.dataIndices,f=y.nestestValue}else{if(!(v=e.getData().indicesOfNearest(m[0],t,"category"===n.type?.5:null)).length)return;f=e.getData().get(m[0],v[0])}if(null!=f&&isFinite(f)){var _=t-f,x=Math.abs(_);x<=h&&((x<h||_>=0&&c<0)&&(h=x,c=_,o=f,l.length=0),mv(v,function(t){l.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:l,snapToValue:o}}(e,t),c=h.payloadBatch,d=h.snapToValue;c[0]&&null==o.seriesIndex&&A(o,c[0]),!r&&t.snap&&l.containData(d)&&null!=d&&(e=d),n.showPointer(t,e,c,o),n.showTooltip(t,h,d)}else n.showPointer(t,e)}function wv(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function bv(t,e,n,r){var o=n.payloadBatch,l=e.axis,h=l.model,c=e.axisPointerModel;if(e.triggerTooltip&&o.length){var d=e.coordSys.model,f=gv(d),v=t.map[f];v||(v=t.map[f]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},t.list.push(v)),v.dataByAxis.push({axisDim:l.dim,axisIndex:h.componentIndex,axisType:h.type,axisId:h.id,value:r,valueLabelOpt:{precision:c.get("label.precision"),formatter:c.get("label.formatter")},seriesDataIndices:o.slice()})}}function Sv(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function Mv(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}Hd({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var Iv=Lr(),Tv=F;function Cv(t,e,n){if(!f.node){var r=e.getZr();Iv(r).records||(Iv(r).records={}),function(t,e){function n(n,r){t.on(n,function(n){var o=function(t){var e={showTip:[],hideTip:[]},n=function(r){var o=e[r.type];o?o.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}(e);Tv(Iv(t).records,function(t){t&&r(t,n,o.dispatchAction)}),function(t,e){var n,r=t.showTip.length,o=t.hideTip.length;r?n=t.showTip[r-1]:o&&(n=t.hideTip[o-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}(o.pendings,e)})}Iv(t).initialized||(Iv(t).initialized=!0,n("click",W(kv,"click")),n("mousemove",W(kv,"mousemove")),n("globalout",Dv))}(r,e),(Iv(r).records[t]||(Iv(r).records[t]={})).handler=n}}function Dv(t,e,n){t.handler("leave",null,n)}function kv(t,e,n,r){e.handler(t,n,r)}function Av(t,e){if(!f.node){var n=e.getZr();(Iv(n).records||{})[t]&&(Iv(n).records[t]=null)}}var Pv=Vd({type:"axisPointer",render:function(t,e,n){var r=e.getComponent("tooltip"),o=t.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";Cv("axisPointer",n,function(t,e,n){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){Av(e.getZr(),"axisPointer"),Pv.superApply(this._model,"remove",arguments)},dispose:function(t,e){Av("axisPointer",e),Pv.superApply(this._model,"dispose",arguments)}}),Ov=Lr(),Lv=D,Nv=V;function Bv(){}function Rv(t,e,n,r){(function t(e,n){if(j(e)&&j(n)){var r=!0;return F(n,function(n,o){r=r&&t(e[o],n)}),!!r}return e===n})(Ov(n).lastProp,r)||(Ov(n).lastProp=r,e?Ks(n,r,t):(n.stopAnimation(),n.attr(r)))}function Ev(t,e){t[e.get("label.show")?"show":"hide"]()}function zv(t){return{position:t.position.slice(),rotation:t.rotation||0}}function Fv(t,e,n){var r=e.get("z"),o=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=r&&(t.z=r),null!=o&&(t.zlevel=o),t.silent=n)})}Bv.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,r){var o=e.get("value"),l=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==o||this._lastStatus!==l){this._lastValue=o,this._lastStatus=l;var h=this._group,c=this._handle;if(!l||"hide"===l)return h&&h.hide(),void(c&&c.hide());h&&h.show(),c&&c.show();var d={};this.makeElOption(d,o,t,e,n);var f=d.graphicKey;f!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=f;var v=this._moveAnimation=this.determineAnimation(t,e);if(h){var m=W(Rv,e,v);this.updatePointerEl(h,d,m,e),this.updateLabelEl(h,d,m,e)}else h=this._group=new Cn,this.createPointerEl(h,d,t,e),this.createLabelEl(h,d,t,e),n.getZr().add(h);Fv(h,e,!0),this._renderHandle(o)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),r=t.axis,o="category"===r.type,l=e.get("snap");if(!l&&!o)return!1;if("auto"===n||null==n){var h=this.animationThreshold;if(o&&r.getBandWidth()>h)return!0;if(l){var c=fv(t).seriesDataCount,d=r.getExtent();return Math.abs(d[0]-d[1])/c>h}return!1}return!0===n},makeElOption:function(t,e,n,r,o){},createPointerEl:function(t,e,n,r){var o=e.pointer;if(o){var l=Ov(t).pointerEl=new nl[o.type](Lv(e.pointer));t.add(l)}},createLabelEl:function(t,e,n,r){if(e.label){var o=Ov(t).labelEl=new qo(Lv(e.label));t.add(o),Ev(o,r)}},updatePointerEl:function(t,e,n){var r=Ov(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,r){var o=Ov(t).labelEl;o&&(o.setStyle(e.label.style),n(o,{shape:e.label.shape,position:e.label.position}),Ev(o,r))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),o=this._handle,l=n.getModel("handle"),h=n.get("status");if(!l.get("show")||!h||"hide"===h)return o&&r.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=Js(l.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Ut(t.event)},onmousedown:Nv(this._onHandleDragMove,this,0,0),drift:Nv(this._onHandleDragMove,this),ondragend:Nv(this._onHandleDragEnd,this)}),r.add(o)),Fv(o,n,!1),o.setStyle(l.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var c=l.get("size");G(c)||(c=[c,c]),o.attr("scale",[c[0]/2,c[1]/2]),function(t,e,n,r){var o=t[e];if(o){var l=o[Wu]||o,h=o[Xu];if(o[Gu]!==n||h!==r){if(null==n||!r)return t[e]=l;(o=t[e]=Yu(l,n,"debounce"===r))[Wu]=l,o[Xu]=r,o[Gu]=n}}}(this,"_doDispatchAxisPointer",l.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){Rv(this._axisPointerModel,!e&&this._moveAnimation,this._handle,zv(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(zv(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(zv(r)),Ov(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}},Bv.prototype.constructor=Bv,Wr(Bv);var Hv=Math.PI,Vv=function(t,e){this.opt=e,this.axisModel=t,P(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Cn;var n=new Cn({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};Vv.prototype={constructor:Vv,hasBuilder:function(t){return!!Wv[t]},add:function(t){Wv[t].call(this)},getGroup:function(){return this.group}};var Wv={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),r=this._transform,o=[n[0],0],l=[n[1],0];r&&(kt(o,o,r),kt(l,l,r));var h=A({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Ko({anid:"line",subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:h,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1}));var c=e.get("axisLine.symbol"),d=e.get("axisLine.symbolSize"),f=e.get("axisLine.symbolOffset")||0;if("number"==typeof f&&(f=[f,f]),null!=c){"string"==typeof c&&(c=[c,c]),"string"!=typeof d&&"number"!=typeof d||(d=[d,d]);var v=d[0],m=d[1];F([{rotate:t.rotation+Math.PI/2,offset:f[0],r:0},{rotate:t.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(e,n){if("none"!==c[n]&&null!=c[n]){var symbol=xp(c[n],-v/2,-m/2,v,m,h.stroke,!0),r=e.r+e.offset,l=[o[0]+r*Math.cos(t.rotation),o[1]-r*Math.sin(t.rotation)];symbol.attr({rotation:e.rotate,position:l,silent:!0,z2:11}),this.group.add(symbol)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=function(t,e,n){var r=e.axis;if(e.get("axisTick.show")&&!r.scale.isBlank()){for(var o=e.getModel("axisTick"),l=o.getModel("lineStyle"),h=o.get("length"),c=r.getTicksCoords(),d=[],f=[],v=t._transform,m=[],i=0;i<c.length;i++){var y=c[i].coord;d[0]=y,d[1]=0,f[0]=y,f[1]=n.tickDirection*h,v&&(kt(d,d,v),kt(f,f,v));var _=new Ko({anid:"tick_"+c[i].tickValue,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:P(l.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0});t.group.add(_),m.push(_)}return m}}(this,t,e),r=function(t,e,n){var r=e.axis;if(Q(n.axisLabelShow,e.get("axisLabel.show"))&&!r.scale.isBlank()){var o=e.getModel("axisLabel"),l=o.get("margin"),h=r.getViewLabels(),c=(Q(n.labelRotate,o.get("rotate"))||0)*Hv/180,d=Xv(n.rotation,c,n.labelDirection),f=e.getCategories&&e.getCategories(!0),v=[],m=Yv(e),y=e.get("triggerEvent");return F(h,function(h,c){var _=h.tickValue,x=h.formattedLabel,w=h.rawLabel,S=o;f&&f[_]&&f[_].textStyle&&(S=new cl(f[_].textStyle,o,e.ecModel));var M=S.getTextColor()||e.get("axisLine.lineStyle.color"),I=[r.dataToCoord(_),n.labelOffset+n.labelDirection*l],T=new Po({anid:"label_"+_,position:I,rotation:d.rotation,silent:m,z2:10});Ws(T.style,S,{text:x,textAlign:S.getShallow("align",!0)||d.textAlign,textVerticalAlign:S.getShallow("verticalAlign",!0)||S.getShallow("baseline",!0)||d.textVerticalAlign,textFill:"function"==typeof M?M("category"===r.type?w:"value"===r.type?_+"":_,c):M}),y&&(T.eventData=Gv(e),T.eventData.targetType="axisLabel",T.eventData.value=w),t._dumbGroup.add(T),T.updateTransform(),v.push(T),t.group.add(T),T.decomposeTransform()}),v}}(this,t,e);!function(t,e,n){if(!up(t.axis)){var r=t.get("axisLabel.showMinLabel"),o=t.get("axisLabel.showMaxLabel");n=n||[];var l=(e=e||[])[0],h=e[1],c=e[e.length-1],d=e[e.length-2],f=n[0],v=n[1],m=n[n.length-1],y=n[n.length-2];!1===r?(jv(l),jv(f)):Uv(l,h)&&(r?(jv(h),jv(v)):(jv(l),jv(f))),!1===o?(jv(c),jv(m)):Uv(d,c)&&(o?(jv(d),jv(y)):(jv(c),jv(m)))}}(t,r,n)},axisName:function(){var t=this.opt,e=this.axisModel,n=Q(t.axisName,e.get("name"));if(n){var r,o,l=e.get("nameLocation"),h=t.nameDirection,c=e.getModel("nameTextStyle"),d=e.get("nameGap")||0,f=this.axisModel.axis.getExtent(),v=f[0]>f[1]?-1:1,m=["start"===l?f[0]-v*d:"end"===l?f[1]+v*d:(f[0]+f[1])/2,qv(l)?t.labelOffset+h*d:0],y=e.get("nameRotate");null!=y&&(y=y*Hv/180),qv(l)?r=Xv(t.rotation,null!=y?y:t.rotation,h):(r=function(t,e,n,r){var o,l,h=bl(n-t.rotation),c=r[0]>r[1],d="start"===e&&!c||"start"!==e&&c;return Sl(h-Hv/2)?(l=d?"bottom":"top",o="center"):Sl(h-1.5*Hv)?(l=d?"top":"bottom",o="center"):(l="middle",o=h<1.5*Hv&&h>Hv/2?d?"left":"right":d?"right":"left"),{rotation:h,textAlign:o,textVerticalAlign:l}}(t,l,y||0,f),null!=(o=t.axisNameAvailableWidth)&&(o=Math.abs(o/Math.sin(r.rotation)),!isFinite(o)&&(o=null)));var _=c.getFont(),x=e.get("nameTruncate",!0)||{},w=x.ellipsis,S=Q(t.nameTruncateMaxWidth,x.maxWidth,o),M=null!=w&&null!=S?Wl(n,S,_,w,{minChar:2,placeholder:x.placeholder}):n,I=e.get("tooltip",!0),T=e.mainType,C={componentType:T,name:n,$vars:["name"]};C[T+"Index"]=e.componentIndex;var D=new Po({anid:"name",__fullText:n,__truncatedText:M,position:m,rotation:r.rotation,silent:Yv(e),z2:1,tooltip:I&&I.show?A({content:n,formatter:function(){return n},formatterParams:C},I):null});Ws(D.style,c,{text:M,textFont:_,textFill:c.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:c.get("align")||r.textAlign,textVerticalAlign:c.get("verticalAlign")||r.textVerticalAlign}),e.get("triggerEvent")&&(D.eventData=Gv(e),D.eventData.targetType="axisName",D.eventData.name=n),this._dumbGroup.add(D),D.updateTransform(),this.group.add(D),D.decomposeTransform()}}},Gv=Vv.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},Xv=Vv.innerTextLayout=function(t,e,n){var r,o,l=bl(e-t);return Sl(l)?(o=n>0?"top":"bottom",r="center"):Sl(l-Hv)?(o=n>0?"bottom":"top",r="center"):(o="middle",r=l>0&&l<Hv?n>0?"right":"left":n>0?"left":"right"),{rotation:l,textAlign:r,textVerticalAlign:o}},Yv=Vv.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)};function jv(t){t&&(t.ignore=!0)}function Uv(t,e,n){var r=t&&t.getBoundingRect().clone(),o=e&&e.getBoundingRect().clone();if(r&&o){var l=oe([]);return ue(l,l,-t.rotation),r.applyTransform(le([],l,t.getLocalTransform())),o.applyTransform(le([],l,e.getLocalTransform())),r.intersect(o)}}function qv(t){return"middle"===t||"center"===t}function Zv(t,e,n,r,o){var text=Kv(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),l=n.getModel("label"),h=Ol(l.get("padding")||0),c=l.getFont(),d=di(text,c),f=o.position,v=d.width+h[1]+h[3],m=d.height+h[0]+h[2],y=o.align;"right"===y&&(f[0]-=v),"center"===y&&(f[0]-=v/2);var _=o.verticalAlign;"bottom"===_&&(f[1]-=m),"middle"===_&&(f[1]-=m/2),function(t,e,n,r){var o=r.getWidth(),l=r.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+n,l)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(f,v,m,r);var x=l.get("backgroundColor");x&&"auto"!==x||(x=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:v,height:m,r:l.get("borderRadius")},position:f.slice(),style:{text:text,textFont:c,textFill:l.getTextColor(),textPosition:"inside",textPadding:h,fill:x,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function Kv(t,e,n,r,o){t=e.scale.parse(t);var text=e.scale.getLabel(t,{precision:o.precision}),l=o.formatter;if(l){var h={value:lp(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};F(r,function(t){var e=n.getSeriesByIndex(t.seriesIndex),r=t.dataIndexInside,o=e&&e.getDataParams(r);o&&h.seriesData.push(o)}),Y(l)?text=l.replace("{value}",text):X(l)&&(text=l(h))}return text}function $v(t,e,n){var r=ae();return ue(r,r,n.rotation),he(r,r,n.position),Qs([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function Qv(t,e,n){n=n||{};var r=t.coordinateSystem,o=e.axis,l={},h=o.getAxesOnZeroOf()[0],c=o.position,d=h?"onZero":c,f=o.dim,rect=r.getRect(),v=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],m={left:0,right:1,top:0,bottom:1,onZero:2},y=e.get("offset")||0,_="x"===f?[v[2]-y,v[3]+y]:[v[0]-y,v[1]+y];if(h){var x=h.toGlobalCoord(h.dataToCoord(0));_[m.onZero]=Math.max(Math.min(x,_[1]),_[0])}l.position=["y"===f?_[m[d]]:v[0],"x"===f?_[m[d]]:v[3]],l.rotation=Math.PI/2*("x"===f?0:1),l.labelDirection=l.tickDirection=l.nameDirection={top:-1,bottom:1,left:-1,right:1}[c],l.labelOffset=h?_[m[c]]-_[m.onZero]:0,e.get("axisTick.inside")&&(l.tickDirection=-l.tickDirection),Q(n.labelInside,e.get("axisLabel.inside"))&&(l.labelDirection=-l.labelDirection);var w=e.get("axisLabel.rotate");return l.labelRotate="top"===d?-w:w,l.z2=1,l}var Jv=Vd({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,r){this.axisPointerClass&&dv(t),Jv.superApply(this,"render",arguments),tm(this,t,0,n,0,!0)},updateAxisPointer:function(t,e,n,r,o){tm(this,t,0,n,0,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),Jv.superApply(this,"remove",arguments)},dispose:function(t,e){nm(this,e),Jv.superApply(this,"dispose",arguments)}});function tm(t,e,n,r,o,l){var h=Jv.getAxisPointerClass(t.axisPointerClass);if(h){var c=function(t){var e=fv(t);return e&&e.axisPointerModel}(e);c?(t._axisPointer||(t._axisPointer=new h)).render(e,c,r,l):nm(t,r)}}function nm(t,e,n){var r=t._axisPointer;r&&r.dispose(e,n),t._axisPointer=null}var im=[];Jv.registerAxisPointerClass=function(t,e){im[t]=e},Jv.getAxisPointerClass=function(t){return t&&im[t]};var rm=Bv.extend({makeElOption:function(t,e,n,r,o){var l=n.axis,h=l.grid,c=r.get("type"),d=am(h,l).getOtherAxis(l).getGlobalExtent(),f=l.toGlobalCoord(l.dataToCoord(e,!0));if(c&&"none"!==c){var v=function(t){var style,e=t.get("type"),n=t.getModel(e+"Style");return"line"===e?(style=n.getLineStyle()).fill=null:"shadow"===e&&((style=n.getAreaStyle()).stroke=null),style}(r),m=om[c](l,f,d);m.style=v,t.graphicKey=m.type,t.pointer=m}!function(t,e,n,r,o,l){var h=Vv.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get("label.margin"),Zv(e,r,o,l,{position:$v(r.axis,t,n),align:h.textAlign,verticalAlign:h.textVerticalAlign})}(e,t,Qv(h.model,n),n,r,o)},getHandleTransform:function(t,e,n){var r=Qv(e.axis.grid.model,e,{labelInside:!1});return r.labelMargin=n.get("handle.margin"),{position:$v(e.axis,t,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,r){var o=n.axis,l=o.grid,h=o.getGlobalExtent(!0),c=am(l,o).getOtherAxis(o).getGlobalExtent(),d="x"===o.dim?0:1,f=t.position;f[d]+=e[d],f[d]=Math.min(h[1],f[d]),f[d]=Math.max(h[0],f[d]);var v=(c[1]+c[0])/2,m=[v,v];return m[d]=f[d],{position:f,rotation:t.rotation,cursorPoint:m,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}});function am(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var om={line:function(t,e,n){var r,o,l;return{type:"Line",subPixelOptimize:!0,shape:(r=[e,n[0]],o=[e,n[1]],l=sm(t),{x1:r[l=l||0],y1:r[1-l],x2:o[l],y2:o[1-l]})}},shadow:function(t,e,n){var r,o,l,h=Math.max(1,t.getBandWidth()),span=n[1]-n[0];return{type:"Rect",shape:(r=[e-h/2,n[0]],o=[h,span],l=sm(t),{x:r[l=l||0],y:r[1-l],width:o[l],height:o[1-l]})}}};function sm(t){return"x"===t.dim?0:1}Jv.registerAxisPointerClass("CartesianAxisPointer",rm),Ld(function(option){if(option){(!option.axisPointer||0===option.axisPointer.length)&&(option.axisPointer={});var link=option.axisPointer.link;link&&!G(link)&&(option.axisPointer.link=[link])}}),Nd(Xc.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=uv(t,e)}),Bd({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,n){var r=t.currTrigger,o=[t.x,t.y],l=t,h=t.dispatchAction||V(n.dispatchAction,n),c=e.getComponent("axisPointer").coordSysAxesInfo;if(c){Mv(o)&&(o=vv({seriesIndex:l.seriesIndex,dataIndex:l.dataIndex},e).point);var d=Mv(o),f=l.axesInfo,v=c.axesInfo,m="leave"===r||Mv(o),y={},_={},x={list:[],map:{}},w={showPointer:yv(wv,_),showTooltip:yv(bv,x)};mv(c.coordSysMap,function(t,e){var n=d||t.containPoint(o);mv(c.coordSysAxesInfo[e],function(t,e){var r=t.axis,l=function(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}(f,t);if(!m&&n&&(!f||l)){var h=l&&l.value;null!=h||d||(h=r.pointToData(o)),null!=h&&xv(t,h,w,!1,y)}})});var S={};return mv(v,function(t,e){var n=t.linkGroup;n&&!_[e]&&mv(n.axesInfo,function(e,r){var o=_[r];if(e!==t&&o){var l=o.value;n.mapper&&(l=t.axis.scale.parse(n.mapper(l,Sv(e),Sv(t)))),S[t.key]=l}})}),mv(S,function(t,e){xv(v[e],t,w,!0,y)}),function(t,e,n){var r=n.axesInfo=[];mv(e,function(e,n){var option=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(option.status="show"),option.value=o.value,option.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(option.status="hide"),"show"===option.status&&r.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:option.value})})}(_,v,y),function(t,e,n,r){if(!Mv(e)&&t.list.length){var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}else r({type:"hideTip"})}(x,o,t,h),function(t,e,n){var r=n.getZr(),o=_v(r).axisPointerLastHighlights||{},l=_v(r).axisPointerLastHighlights={};mv(t,function(t,e){var option=t.axisPointerModel.option;"show"===option.status&&mv(option.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;l[e]=t})});var h=[],c=[];F(o,function(t,e){!l[e]&&c.push(t)}),F(l,function(t,e){!o[e]&&h.push(t)}),c.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:c}),h.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:h})}(v,0,n),y}}),Hd({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var lm=F,hm=Pl,um=["","-webkit-","-moz-","-o-"];function cm(t){var e,n,r=[],o=t.get("transitionDuration"),l=t.get("backgroundColor"),h=t.getModel("textStyle"),c=t.get("padding");return o&&r.push((n="left "+(e=o)+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)",map(um,function(t){return t+"transition:"+n}).join(";"))),l&&(f.canvasSupported?r.push("background-Color:"+l):(r.push("background-Color:#"+Xe(l)),r.push("filter:alpha(opacity=70)"))),lm(["width","color","radius"],function(e){var n="border-"+e,o=hm(n),l=t.get(o);null!=l&&r.push(n+":"+l+("color"===e?"":"px"))}),r.push(function(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();return r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),lm(["decoration","align"],function(n){var r=t.get(n);r&&e.push("text-"+n+":"+r)}),e.join(";")}(h)),null!=c&&r.push("padding:"+Ol(c).join("px ")+"px"),r.join(";")+";"}function dm(t,e){if(f.wxa)return null;var n=document.createElement("div"),r=this._zr=e.getZr();this.el=n,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!o._enterable){var n=r.handler;Yt(t,e,!0),n.dispatch("mousemove",e)}},n.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}function fm(t){this._zr=t.getZr(),this._show=!1,this._hideTimeout}dm.prototype={constructor:dm,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+cm(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(content){this.el.innerHTML=null==content?"":content},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n,r=this._zr;r&&r.painter&&(n=r.painter.getViewportRootOffset())&&(t+=n.offsetLeft,e+=n.offsetTop);var style=this.el.style;style.left=t+"px",style.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(time){!this._show||this._inContent&&this._enterable||(time?(this._hideDelay=time,this._show=!1,this._hideTimeout=setTimeout(V(this.hide,this),time)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(t+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:t,height:e}}},fm.prototype={constructor:fm,_enterable:!0,update:function(){},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(content,t,e){this.el&&this._zr.remove(this.el);for(var n={},text=content,r=text.indexOf("{marker");r>=0;){var o=text.indexOf("|}"),l=text.substr(r+"{marker".length,o-r-"{marker".length);l.indexOf("sub")>-1?n["marker"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[l],textOffset:[3,0]}:n["marker"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[l]},r=(text=text.substr(o+1)).indexOf("{marker")}this.el=new Po({style:{rich:n,text:content,textLineHeight:20,textBackgroundColor:e.get("backgroundColor"),textBorderRadius:e.get("borderRadius"),textFill:e.get("textStyle.color"),textPadding:e.get("padding")},z:e.get("z")}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){this.el&&this.el.attr("position",[t,e])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(time){!this._show||this._inContent&&this._enterable||(time?(this._hideDelay=time,this._show=!1,this._hideTimeout=setTimeout(V(this.hide,this),time)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var pm=V,gm=F,vm=yl,mm=new qo({shape:{x:-1,y:-1,width:2,height:2}});function ym(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(cl.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),e=new cl(n,e,e.ecModel))}return e}function _m(t,e){return t.dispatchAction||V(e.dispatchAction,e)}function xm(t){return"center"===t||"middle"===t}Vd({type:"tooltip",init:function(t,e){if(!f.node){var n,r=t.getComponent("tooltip").get("renderMode");this._renderMode=zr(r),"html"===this._renderMode?(n=new dm(e.getDom(),e),this._newLine="<br/>"):(n=new fm(e),this._newLine="\n"),this._tooltipContent=n}},render:function(t,e,n){if(!f.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var r=this._tooltipContent;r.update(),r.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");Cv("itemTooltip",this._api,pm(function(e,n,r){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,r):"leave"===e&&this._hide(r))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&r.manuallyShowTip(t,e,n,{x:r._lastX,y:r._lastY})})}},manuallyShowTip:function(t,e,n,r){if(r.from!==this.uid&&!f.node){var o=_m(r,n);this._ticket="";var l=r.dataByCoordSys;if(r.tooltip&&null!=r.x&&null!=r.y){var h=mm;h.position=[r.x,r.y],h.update(),h.tooltip=r.tooltip,this._tryShow({offsetX:r.x,offsetY:r.y,target:h},o)}else if(l)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,event:{},dataByCoordSys:r.dataByCoordSys,tooltipOption:r.tooltipOption},o);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,r))return;var c=vv(r,e),d=c.point[0],v=c.point[1];null!=d&&null!=v&&this._tryShow({offsetX:d,offsetY:v,position:r.position,target:c.el,event:{}},o)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target,event:{}},o))}},manuallyHideTip:function(t,e,n,r){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,r.from!==this.uid&&this._hide(_m(r,n))},_manuallyAxisShowTip:function(t,e,n,r){var o=r.seriesIndex,l=r.dataIndex,h=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=l&&null!=h){var c=e.getSeriesByIndex(o);if(c&&"axis"===(t=ym([c.getData().getItemModel(l),c,(c.coordinateSystem||{}).model,t])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:l,position:r.position}),!0}},_tryShow:function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var r=t.dataByCoordSys;r&&r.length?this._showAxisTooltip(r,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var n=t.get("showDelay");e=V(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},_showAxisTooltip:function(t,e){var n=this._ecModel,r=this._tooltipModel,o=[e.offsetX,e.offsetY],l=[],h=[],c=ym([e.tooltipOption,r]),d=this._renderMode,f=this._newLine,v={};gm(t,function(t){gm(t.dataByAxis,function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),r=t.value,o=[];if(e&&null!=r){var c=Kv(r,e.axis,n,t.seriesDataIndices,t.valueLabelOpt);F(t.seriesDataIndices,function(l){var f=n.getSeriesByIndex(l.seriesIndex),m=l.dataIndexInside,y=f&&f.getDataParams(m);if(y.axisDim=t.axisDim,y.axisIndex=t.axisIndex,y.axisType=t.axisType,y.axisId=t.axisId,y.axisValue=lp(e.axis,r),y.axisValueLabel=c,y){h.push(y);var html,_=f.formatTooltip(m,!0,null,d);if(j(_)){html=_.html;var x=_.markers;k(v,x)}else html=_;o.push(html)}});var m=c;"html"!==d?l.push(o.join(f)):l.push((m?Bl(m)+f:"")+o.join(f))}})},this),l.reverse(),l=l.join(this._newLine+this._newLine);var m=e.position;this._showOrMove(c,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(c,m,o[0],o[1],this._tooltipContent,h):this._showTooltipContent(c,l,h,Math.random(),o[0],o[1],m,void 0,v)})},_showSeriesItemTooltip:function(t,e,n){var r=this._ecModel,o=e.seriesIndex,l=r.getSeriesByIndex(o),h=e.dataModel||l,c=e.dataIndex,d=e.dataType,data=h.getData(),f=ym([data.getItemModel(c),h,l&&(l.coordinateSystem||{}).model,this._tooltipModel]),v=f.get("trigger");if(null==v||"item"===v){var m,y,_=h.getDataParams(c,d),x=h.formatTooltip(c,!1,d,this._renderMode);j(x)?(m=x.html,y=x.markers):(m=x,y=null);var w="item_"+h.name+"_"+c;this._showOrMove(f,function(){this._showTooltipContent(f,m,_,w,t.offsetX,t.offsetY,t.position,t.target,y)}),n({type:"showTip",dataIndexInside:c,dataIndex:data.getRawIndex(c),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(t,e,n){var r=e.tooltip;"string"==typeof r&&(r={content:r,formatter:r});var o=new cl(r,this._tooltipModel,this._ecModel),l=o.get("content"),h=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,l,o.get("formatterParams")||{},h,t.offsetX,t.offsetY,t.position,e)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,n,r,o,l,h,c,d){if(this._ticket="",t.get("showContent")&&t.get("show")){var f=this._tooltipContent,v=t.get("formatter");h=h||t.get("position");var html=e;if(v&&"string"==typeof v)html=zl(v,n,!0);else if("function"==typeof v){var m=pm(function(e,html){e===this._ticket&&(f.setContent(html,d,t),this._updatePosition(t,h,o,l,f,n,c))},this);this._ticket=r,html=v(n,r,m)}f.setContent(html,d,t),f.show(t),this._updatePosition(t,h,o,l,f,n,c)}},_updatePosition:function(t,e,n,r,content,o,l){var h=this._api.getWidth(),c=this._api.getHeight();e=e||t.get("position");var d=content.getSize(),f=t.get("align"),v=t.get("verticalAlign"),rect=l&&l.getBoundingRect().clone();if(l&&rect.applyTransform(l.transform),"function"==typeof e&&(e=e([n,r],o,content.el,rect,{viewSize:[h,c],contentSize:d.slice()})),G(e))n=vm(e[0],h),r=vm(e[1],c);else if(j(e)){e.width=d[0],e.height=d[1];var m=Zl(e,{width:h,height:c});n=m.x,r=m.y,f=null,v=null}else if("string"==typeof e&&l){var y=function(t,rect,e){var n=e[0],r=e[1],o=0,l=0,h=rect.width,c=rect.height;switch(t){case"inside":o=rect.x+h/2-n/2,l=rect.y+c/2-r/2;break;case"top":o=rect.x+h/2-n/2,l=rect.y-r-5;break;case"bottom":o=rect.x+h/2-n/2,l=rect.y+c+5;break;case"left":o=rect.x-n-5,l=rect.y+c/2-r/2;break;case"right":o=rect.x+h+5,l=rect.y+c/2-r/2}return[o,l]}(e,rect,d);n=y[0],r=y[1]}else y=function(t,e,content,n,r,o,l){var h=content.getOuterSize(),c=h.width,d=h.height;return null!=o&&(t+c+o>n?t-=c+o:t+=o),null!=l&&(e+d+l>r?e-=d+l:e+=l),[t,e]}(n,r,content,h,c,f?null:20,v?null:20),n=y[0],r=y[1];f&&(n-=xm(f)?d[0]/2:"right"===f?d[0]:0),v&&(r-=xm(v)?d[1]/2:"bottom"===v?d[1]:0),t.get("confine")&&(y=function(t,e,content,n,r){var o=content.getOuterSize(),l=o.width,h=o.height;return t=Math.min(t+l,n)-l,e=Math.min(e+h,r)-h,[t=Math.max(t,0),e=Math.max(e,0)]}(n,r,content,h,c),n=y[0],r=y[1]),content.moveTo(n,r)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&gm(e,function(e,r){var o=e.dataByAxis||{},l=(t[r]||{}).dataByAxis||[];(n&=o.length===l.length)&&gm(o,function(t,e){var r=l[e]||{},o=t.seriesDataIndices||[],h=r.seriesDataIndices||[];(n&=t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&o.length===h.length)&&gm(o,function(t,e){var r=h[e];n&=t.seriesIndex===r.seriesIndex&&t.dataIndex===r.dataIndex})})}),this._lastDataByCoordSys=t,!!n},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){f.node||(this._tooltipContent.hide(),Av("itemTooltip",e))}}),Bd({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Bd({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),t.version="4.4.0",t.dependencies={zrender:"4.1.1"},t.PRIORITY=Xc,t.init=function(t,e,n){var r=Pd(t);if(r)return r;var o=new Kc(t,e,n);return o.id="ec_"+Td++,Md[o.id]=o,Er(t,Dd,o.id),function(t){var e="__connectUpdateStatus";function n(t,n){for(var i=0;i<t.length;i++)t[i][e]=n}Ec(md,function(r,o){t._messageCenter.on(o,function(r){if(Id[t.group]&&0!==t[e]){if(r&&r.escapeConnect)return;var o=t.makeActionFromEvent(r),l=[];Ec(Md,function(e){e!==t&&e.group===t.group&&l.push(e)}),n(l,0),Ec(l,function(t){1!==t[e]&&t.dispatchAction(o)}),n(l,2)}})})}(o),o},t.connect=function(t){if(G(t)){var e=t;t=null,Ec(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+Cd++,Ec(e,function(e){e.group=t})}return Id[t]=!0,t},t.disConnect=kd,t.disconnect=Ad,t.dispose=function(t){"string"==typeof t?t=Md[t]:t instanceof Kc||(t=Pd(t)),t instanceof Kc&&!t.isDisposed()&&t.dispose()},t.getInstanceByDom=Pd,t.getInstanceById=function(t){return Md[t]},t.registerTheme=Od,t.registerPreprocessor=Ld,t.registerProcessor=Nd,t.registerPostUpdate=function(t){xd.push(t)},t.registerAction=Bd,t.registerCoordinateSystem=function(t,e){Oh.register(t,e)},t.getCoordinateSystemDimensions=function(t){var e=Oh.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},t.registerLayout=Rd,t.registerVisual=Ed,t.registerLoading=Fd,t.extendComponentModel=Hd,t.extendComponentView=Vd,t.extendSeriesModel=function(t){return bu.extend(t)},t.extendChartView=Wd,t.setCanvasCreator=function(t){C("createCanvas",t)},t.registerMap=function(t,e,n){Nc.registerMap(t,e,n)},t.getMap=function(t){var e=Nc.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}},t.dataTool={},t.zrender=_r,t.number=kl,t.format=Gl,t.throttle=Yu,t.helper=bp,t.matrix=fe,t.vector=Ot,t.color=Ke,t.parseGeoJSON=Dp,t.parseGeoJson=Vp,t.util=Wp,t.graphic=Gp,t.List=of,t.Model=cl,t.Axis=Fp,t.env=f}(e)},230:function(t,e,n){var r=n(7),o=n(22),l=n(10),h=n(231),c="["+h+"]",d=RegExp("^"+c+c+"*"),f=RegExp(c+c+"*$"),v=function(t,e,n){var o={},c=l(function(){return!!h[t]()||""!=""[t]()}),d=o[t]=c?e(m):h[t];n&&(o[n]=d),r(r.P+r.F*c,"String",o)},m=v.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(f,"")),t};t.exports=v},231:function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},232:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(27),o=n(224);function l(t,e){return!e||"object"!==Object(r.a)(e)&&"function"!=typeof e?Object(o.a)(t):e}},233:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(222);function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},234:function(t,e,n){"use strict";var r=n(7),o=n(235)(5),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),r(r.P+r.F*l,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(78)("find")},235:function(t,e,n){var r=n(29),o=n(77),l=n(30),h=n(24),c=n(236);t.exports=function(t,e){var n=1==t,d=2==t,f=3==t,v=4==t,m=6==t,y=5==t||m,_=e||c;return function(e,c,x){for(var w,S,M=l(e),I=o(M),T=r(c,x,3),C=h(I.length),D=0,k=n?_(e,C):d?_(e,0):void 0;C>D;D++)if((y||D in I)&&(S=T(w=I[D],D,M),t))if(n)k[D]=S;else if(S)switch(t){case 3:return!0;case 5:return w;case 6:return D;case 2:k.push(w)}else if(v)return!1;return m?-1:f||v?v:k}}},236:function(t,e,n){var r=n(237);t.exports=function(t,e){return new(r(t))(e)}},237:function(t,e,n){var r=n(11),o=n(114),l=n(2)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[l])&&(e=void 0)),void 0===e?Array:e}},238:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},239:function(t,e,n){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return o})},240:function(t,e,n){"use strict";var r=n(225),o=n(222);function l(t,e,n){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var a=[null];a.push.apply(a,e);var r=new(Function.bind.apply(t,a));return n&&Object(o.a)(r,n.prototype),r}).apply(null,arguments)}function h(t){var e="function"==typeof Map?new Map:void 0;return(h=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,h)}function h(){return l(t,arguments,Object(r.a)(this).constructor)}return h.prototype=Object.create(t.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),Object(o.a)(h,t)})(t)}n.d(e,"a",function(){return h})}}]);